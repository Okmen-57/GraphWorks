var e1=Object.defineProperty;var t1=(t,e,r)=>e in t?e1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Wh=(t,e,r)=>t1(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Eg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sc={exports:{}},ko={},lc={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function r1(){if(Hh)return Ze;Hh=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=h&&M[h]||M["@@iterator"],typeof M=="function"?M:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,S={};function E(M,V,te){this.props=M,this.context=V,this.refs=S,this.updater=te||m}E.prototype.isReactComponent={},E.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function x(){}x.prototype=E.prototype;function C(M,V,te){this.props=M,this.context=V,this.refs=S,this.updater=te||m}var T=C.prototype=new x;T.constructor=C,y(T,E.prototype),T.isPureReactComponent=!0;var k=Array.isArray,B=Object.prototype.hasOwnProperty,R={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function L(M,V,te){var ae,se={},oe=null,ce=null;if(V!=null)for(ae in V.ref!==void 0&&(ce=V.ref),V.key!==void 0&&(oe=""+V.key),V)B.call(V,ae)&&!P.hasOwnProperty(ae)&&(se[ae]=V[ae]);var ue=arguments.length-2;if(ue===1)se.children=te;else if(1<ue){for(var Z=Array(ue),Q=0;Q<ue;Q++)Z[Q]=arguments[Q+2];se.children=Z}if(M&&M.defaultProps)for(ae in ue=M.defaultProps,ue)se[ae]===void 0&&(se[ae]=ue[ae]);return{$$typeof:t,type:M,key:oe,ref:ce,props:se,_owner:R.current}}function A(M,V){return{$$typeof:t,type:M.type,key:V,ref:M.ref,props:M.props,_owner:M._owner}}function z(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function O(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return V[te]})}var N=/\/+/g;function _(M,V){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):V.toString(36)}function F(M,V,te,ae,se){var oe=typeof M;(oe==="undefined"||oe==="boolean")&&(M=null);var ce=!1;if(M===null)ce=!0;else switch(oe){case"string":case"number":ce=!0;break;case"object":switch(M.$$typeof){case t:case e:ce=!0}}if(ce)return ce=M,se=se(ce),M=ae===""?"."+_(ce,0):ae,k(se)?(te="",M!=null&&(te=M.replace(N,"$&/")+"/"),F(se,V,te,"",function(Q){return Q})):se!=null&&(z(se)&&(se=A(se,te+(!se.key||ce&&ce.key===se.key?"":(""+se.key).replace(N,"$&/")+"/")+M)),V.push(se)),1;if(ce=0,ae=ae===""?".":ae+":",k(M))for(var ue=0;ue<M.length;ue++){oe=M[ue];var Z=ae+_(oe,ue);ce+=F(oe,V,te,Z,se)}else if(Z=g(M),typeof Z=="function")for(M=Z.call(M),ue=0;!(oe=M.next()).done;)oe=oe.value,Z=ae+_(oe,ue++),ce+=F(oe,V,te,Z,se);else if(oe==="object")throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ce}function K(M,V,te){if(M==null)return M;var ae=[],se=0;return F(M,ae,"","",function(oe){return V.call(te,oe,se++)}),ae}function W(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var H={current:null},$={transition:null},G={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:$,ReactCurrentOwner:R};function X(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:K,forEach:function(M,V,te){K(M,function(){V.apply(this,arguments)},te)},count:function(M){var V=0;return K(M,function(){V++}),V},toArray:function(M){return K(M,function(V){return V})||[]},only:function(M){if(!z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ze.Component=E,Ze.Fragment=r,Ze.Profiler=i,Ze.PureComponent=C,Ze.StrictMode=n,Ze.Suspense=f,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Ze.act=X,Ze.cloneElement=function(M,V,te){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ae=y({},M.props),se=M.key,oe=M.ref,ce=M._owner;if(V!=null){if(V.ref!==void 0&&(oe=V.ref,ce=R.current),V.key!==void 0&&(se=""+V.key),M.type&&M.type.defaultProps)var ue=M.type.defaultProps;for(Z in V)B.call(V,Z)&&!P.hasOwnProperty(Z)&&(ae[Z]=V[Z]===void 0&&ue!==void 0?ue[Z]:V[Z])}var Z=arguments.length-2;if(Z===1)ae.children=te;else if(1<Z){ue=Array(Z);for(var Q=0;Q<Z;Q++)ue[Q]=arguments[Q+2];ae.children=ue}return{$$typeof:t,type:M.type,key:se,ref:oe,props:ae,_owner:ce}},Ze.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},Ze.createElement=L,Ze.createFactory=function(M){var V=L.bind(null,M);return V.type=M,V},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(M){return{$$typeof:u,render:M}},Ze.isValidElement=z,Ze.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:W}},Ze.memo=function(M,V){return{$$typeof:c,type:M,compare:V===void 0?null:V}},Ze.startTransition=function(M){var V=$.transition;$.transition={};try{M()}finally{$.transition=V}},Ze.unstable_act=X,Ze.useCallback=function(M,V){return H.current.useCallback(M,V)},Ze.useContext=function(M){return H.current.useContext(M)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(M){return H.current.useDeferredValue(M)},Ze.useEffect=function(M,V){return H.current.useEffect(M,V)},Ze.useId=function(){return H.current.useId()},Ze.useImperativeHandle=function(M,V,te){return H.current.useImperativeHandle(M,V,te)},Ze.useInsertionEffect=function(M,V){return H.current.useInsertionEffect(M,V)},Ze.useLayoutEffect=function(M,V){return H.current.useLayoutEffect(M,V)},Ze.useMemo=function(M,V){return H.current.useMemo(M,V)},Ze.useReducer=function(M,V,te){return H.current.useReducer(M,V,te)},Ze.useRef=function(M){return H.current.useRef(M)},Ze.useState=function(M){return H.current.useState(M)},Ze.useSyncExternalStore=function(M,V,te){return H.current.useSyncExternalStore(M,V,te)},Ze.useTransition=function(){return H.current.useTransition()},Ze.version="18.3.1",Ze}var Kh;function Xc(){return Kh||(Kh=1,lc.exports=r1()),lc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function n1(){if(qh)return ko;qh=1;var t=Xc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,c){var v,h={},g=null,m=null;c!==void 0&&(g=""+c),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(m=f.ref);for(v in f)n.call(f,v)&&!s.hasOwnProperty(v)&&(h[v]=f[v]);if(u&&u.defaultProps)for(v in f=u.defaultProps,f)h[v]===void 0&&(h[v]=f[v]);return{$$typeof:e,type:u,key:g,ref:m,props:h,_owner:i.current}}return ko.Fragment=r,ko.jsx=l,ko.jsxs=l,ko}var Gh;function a1(){return Gh||(Gh=1,sc.exports=n1()),sc.exports}var Lt=a1(),Rn=Xc();const uc=Eg(Rn);var bl={},fc={exports:{}},Pr={},cc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function i1(){return Xh||(Xh=1,function(t){function e($,G){var X=$.length;$.push(G);e:for(;0<X;){var M=X-1>>>1,V=$[M];if(0<i(V,G))$[M]=G,$[X]=V,X=M;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var G=$[0],X=$.pop();if(X!==G){$[0]=X;e:for(var M=0,V=$.length,te=V>>>1;M<te;){var ae=2*(M+1)-1,se=$[ae],oe=ae+1,ce=$[oe];if(0>i(se,X))oe<V&&0>i(ce,se)?($[M]=ce,$[oe]=X,M=oe):($[M]=se,$[ae]=X,M=ae);else if(oe<V&&0>i(ce,X))$[M]=ce,$[oe]=X,M=oe;else break e}}return G}function i($,G){var X=$.sortIndex-G.sortIndex;return X!==0?X:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],c=[],v=1,h=null,g=3,m=!1,y=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T($){for(var G=r(c);G!==null;){if(G.callback===null)n(c);else if(G.startTime<=$)n(c),G.sortIndex=G.expirationTime,e(f,G);else break;G=r(c)}}function k($){if(S=!1,T($),!y)if(r(f)!==null)y=!0,W(B);else{var G=r(c);G!==null&&H(k,G.startTime-$)}}function B($,G){y=!1,S&&(S=!1,x(L),L=-1),m=!0;var X=g;try{for(T(G),h=r(f);h!==null&&(!(h.expirationTime>G)||$&&!O());){var M=h.callback;if(typeof M=="function"){h.callback=null,g=h.priorityLevel;var V=M(h.expirationTime<=G);G=t.unstable_now(),typeof V=="function"?h.callback=V:h===r(f)&&n(f),T(G)}else n(f);h=r(f)}if(h!==null)var te=!0;else{var ae=r(c);ae!==null&&H(k,ae.startTime-G),te=!1}return te}finally{h=null,g=X,m=!1}}var R=!1,P=null,L=-1,A=5,z=-1;function O(){return!(t.unstable_now()-z<A)}function N(){if(P!==null){var $=t.unstable_now();z=$;var G=!0;try{G=P(!0,$)}finally{G?_():(R=!1,P=null)}}else R=!1}var _;if(typeof C=="function")_=function(){C(N)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=N,_=function(){K.postMessage(null)}}else _=function(){E(N,0)};function W($){P=$,R||(R=!0,_())}function H($,G){L=E(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,W(B))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var X=g;g=G;try{return $()}finally{g=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=g;g=$;try{return G()}finally{g=X}},t.unstable_scheduleCallback=function($,G,X){var M=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?M+X:M):X=M,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=X+V,$={id:v++,callback:G,priorityLevel:$,startTime:X,expirationTime:V,sortIndex:-1},X>M?($.sortIndex=X,e(c,$),r(f)===null&&$===r(c)&&(S?(x(L),L=-1):S=!0,H(k,X-M))):($.sortIndex=V,e(f,$),y||m||(y=!0,W(B))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var G=g;return function(){var X=g;g=G;try{return $.apply(this,arguments)}finally{g=X}}}}(dc)),dc}var Yh;function o1(){return Yh||(Yh=1,cc.exports=i1()),cc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function s1(){if(Qh)return Pr;Qh=1;var t=Xc(),e=o1();function r(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(a,o){l(a,o),l(a+"Capture",o)}function l(a,o){for(i[a]=o,a=0;a<o.length;a++)n.add(o[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function g(a){return f.call(h,a)?!0:f.call(v,a)?!1:c.test(a)?h[a]=!0:(v[a]=!0,!1)}function m(a,o,d,p){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function y(a,o,d,p){if(o===null||typeof o>"u"||m(a,o,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(a,o,d,p,w,b,D){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=d,this.propertyName=a,this.type=o,this.sanitizeURL=b,this.removeEmptyString=D}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=new S(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];E[o]=new S(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new S(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new S(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=new S(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){E[a]=new S(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){E[a]=new S(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){E[a]=new S(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){E[a]=new S(a,5,!1,a.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function C(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(x,C);E[o]=new S(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(x,C);E[o]=new S(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(x,C);E[o]=new S(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){E[a]=new S(a,1,!1,a.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){E[a]=new S(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,o,d,p){var w=E.hasOwnProperty(o)?E[o]:null;(w!==null?w.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(y(o,d,w,p)&&(d=null),p||w===null?g(o)&&(d===null?a.removeAttribute(o):a.setAttribute(o,""+d)):w.mustUseProperty?a[w.propertyName]=d===null?w.type===3?!1:"":d:(o=w.attributeName,p=w.attributeNamespace,d===null?a.removeAttribute(o):(w=w.type,d=w===3||w===4&&d===!0?"":""+d,p?a.setAttributeNS(p,o,d):a.setAttribute(o,d))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),$=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var X=Object.assign,M;function V(a){if(M===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+a}var te=!1;function ae(a,o){if(!a||te)return"";te=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ie){var p=ie}Reflect.construct(a,[],o)}else{try{o.call()}catch(ie){p=ie}a.call(o.prototype)}else{try{throw Error()}catch(ie){p=ie}a()}}catch(ie){if(ie&&p&&typeof ie.stack=="string"){for(var w=ie.stack.split(`
`),b=p.stack.split(`
`),D=w.length-1,U=b.length-1;1<=D&&0<=U&&w[D]!==b[U];)U--;for(;1<=D&&0<=U;D--,U--)if(w[D]!==b[U]){if(D!==1||U!==1)do if(D--,U--,0>U||w[D]!==b[U]){var q=`
`+w[D].replace(" at new "," at ");return a.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",a.displayName)),q}while(1<=D&&0<=U);break}}}finally{te=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?V(a):""}function se(a){switch(a.tag){case 5:return V(a.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return a=ae(a.type,!1),a;case 11:return a=ae(a.type.render,!1),a;case 1:return a=ae(a.type,!0),a;default:return""}}function oe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case R:return"Portal";case A:return"Profiler";case L:return"StrictMode";case _:return"Suspense";case F:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case O:return(a.displayName||"Context")+".Consumer";case z:return(a._context.displayName||"Context")+".Provider";case N:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case K:return o=a.displayName||null,o!==null?o:oe(a.type)||"Memo";case W:o=a._payload,a=a._init;try{return oe(a(o))}catch{}}return null}function ce(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(o);case 8:return o===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ue(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Z(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Q(a){var o=Z(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),p=""+a[o];if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,b=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return w.call(this)},set:function(D){p=""+D,b.call(this,D)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function le(a){a._valueTracker||(a._valueTracker=Q(a))}function pe(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return a&&(p=Z(a)?a.checked?"true":"false":a.value),a=p,a!==d?(o.setValue(a),!0):!1}function Se(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Te(a,o){var d=o.checked;return X({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Xe(a,o){var d=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;d=ue(o.value!=null?o.value:d),a._wrapperState={initialChecked:p,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function nt(a,o){o=o.checked,o!=null&&T(a,"checked",o,!1)}function je(a,o){nt(a,o);var d=ue(o.value),p=o.type;if(d!=null)p==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?Ce(a,o.type,d):o.hasOwnProperty("defaultValue")&&Ce(a,o.type,ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function ke(a,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,d||o===a.value||(a.value=o),a.defaultValue=o}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Ce(a,o,d){(o!=="number"||Se(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var Ne=Array.isArray;function Ie(a,o,d,p){if(a=a.options,o){o={};for(var w=0;w<d.length;w++)o["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=o.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&p&&(a[d].defaultSelected=!0)}else{for(d=""+ue(d),o=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,p&&(a[w].defaultSelected=!0);return}o!==null||a[w].disabled||(o=a[w])}o!==null&&(o.selected=!0)}}function Oe(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return X({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function $e(a,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(r(92));if(Ne(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),d=o}a._wrapperState={initialValue:ue(d)}}function Ge(a,o){var d=ue(o.value),p=ue(o.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),o.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),p!=null&&(a.defaultValue=""+p)}function Ye(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function ve(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?ve(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var j,fe=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,p,w){MSApp.execUnsafeLocalFunction(function(){return a(o,d,p,w)})}:a}(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(j=j||document.createElement("div"),j.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=j.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function J(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ee=["Webkit","ms","Moz","O"];Object.keys(ne).forEach(function(a){Ee.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),ne[o]=ne[a]})});function de(a,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||ne.hasOwnProperty(a)&&ne[a]?(""+o).trim():o+"px"}function we(a,o){a=a.style;for(var d in o)if(o.hasOwnProperty(d)){var p=d.indexOf("--")===0,w=de(d,o[d],p);d==="float"&&(d="cssFloat"),p?a.setProperty(d,w):a[d]=w}}var ze=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ke(a,o){if(o){if(ze[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function Re(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var We=null;function He(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Fe=null,Je=null,ot=null;function tr(a){if(a=fo(a)){if(typeof Fe!="function")throw Error(r(280));var o=a.stateNode;o&&(o=Fs(o),Fe(a.stateNode,a.type,o))}}function rr(a){Je?ot?ot.push(a):ot=[a]:Je=a}function Tt(){if(Je){var a=Je,o=ot;if(ot=Je=null,tr(a),o)for(a=0;a<o.length;a++)tr(o[a])}}function Dt(a,o){return a(o)}function Rt(){}var Nt=!1;function Ut(a,o,d){if(Nt)return a(o,d);Nt=!0;try{return Dt(a,o,d)}finally{Nt=!1,(Je!==null||ot!==null)&&(Rt(),Tt())}}function nr(a,o){var d=a.stateNode;if(d===null)return null;var p=Fs(d);if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var ar=!1;if(u)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ar=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ar=!1}function Yr(a,o,d,p,w,b,D,U,q){var ie=Array.prototype.slice.call(arguments,3);try{o.apply(d,ie)}catch(ge){this.onError(ge)}}var gr=!1,Bt=null,xt=!1,$t=null,qa={onError:function(a){gr=!0,Bt=a}};function Fr(a,o,d,p,w,b,D,U,q){gr=!1,Bt=null,Yr.apply(qa,arguments)}function ds(a,o,d,p,w,b,D,U,q){if(Fr.apply(this,arguments),gr){if(gr){var ie=Bt;gr=!1,Bt=null}else throw Error(r(198));xt||(xt=!0,$t=ie)}}function wn(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function vs(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function hs(a){if(wn(a)!==a)throw Error(r(188))}function ku(a){var o=a.alternate;if(!o){if(o=wn(a),o===null)throw Error(r(188));return o!==a?null:a}for(var d=a,p=o;;){var w=d.return;if(w===null)break;var b=w.alternate;if(b===null){if(p=w.return,p!==null){d=p;continue}break}if(w.child===b.child){for(b=w.child;b;){if(b===d)return hs(w),a;if(b===p)return hs(w),o;b=b.sibling}throw Error(r(188))}if(d.return!==p.return)d=w,p=b;else{for(var D=!1,U=w.child;U;){if(U===d){D=!0,d=w,p=b;break}if(U===p){D=!0,p=w,d=b;break}U=U.sibling}if(!D){for(U=b.child;U;){if(U===d){D=!0,d=b,p=w;break}if(U===p){D=!0,p=b,d=w;break}U=U.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:o}function ps(a){return a=ku(a),a!==null?gs(a):null}function gs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=gs(a);if(o!==null)return o;a=a.sibling}return null}var ys=e.unstable_scheduleCallback,In=e.unstable_cancelCallback,Hi=e.unstable_shouldYield,Ga=e.unstable_requestPaint,mt=e.unstable_now,ms=e.unstable_getCurrentPriorityLevel,Ki=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,ws=e.unstable_LowPriority,zn=e.unstable_IdlePriority,or=null,_r=null;function gm(a){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(or,a,void 0,(a.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:wm,ym=Math.log,mm=Math.LN2;function wm(a){return a>>>=0,a===0?32:31-(ym(a)/mm|0)|0}var xs=64,Es=4194304;function qi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Ss(a,o){var d=a.pendingLanes;if(d===0)return 0;var p=0,w=a.suspendedLanes,b=a.pingedLanes,D=d&268435455;if(D!==0){var U=D&~w;U!==0?p=qi(U):(b&=D,b!==0&&(p=qi(b)))}else D=d&~w,D!==0?p=qi(D):b!==0&&(p=qi(b));if(p===0)return 0;if(o!==0&&o!==p&&!(o&w)&&(w=p&-p,b=o&-o,w>=b||w===16&&(b&4194240)!==0))return o;if(p&4&&(p|=d&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=p;0<o;)d=31-Qr(o),w=1<<d,p|=a[d],o&=~w;return p}function xm(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Em(a,o){for(var d=a.suspendedLanes,p=a.pingedLanes,w=a.expirationTimes,b=a.pendingLanes;0<b;){var D=31-Qr(b),U=1<<D,q=w[D];q===-1?(!(U&d)||U&p)&&(w[D]=xm(U,o)):q<=o&&(a.expiredLanes|=U),b&=~U}}function Pu(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function xd(){var a=xs;return xs<<=1,!(xs&4194240)&&(xs=64),a}function Du(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function Gi(a,o,d){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-Qr(o),a[o]=d}function Sm(a,o){var d=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<d;){var w=31-Qr(d),b=1<<w;o[w]=0,p[w]=-1,a[w]=-1,d&=~b}}function Ru(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var p=31-Qr(d),w=1<<p;w&o|a[p]&o&&(a[p]|=o),d&=~w}}var ut=0;function Ed(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Sd,Bu,bd,Cd,Td,Au=!1,bs=[],Fn=null,_n=null,Vn=null,Xi=new Map,Yi=new Map,Un=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kd(a,o){switch(a){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(o.pointerId)}}function Qi(a,o,d,p,w,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:b,targetContainers:[w]},o!==null&&(o=fo(o),o!==null&&Bu(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),a)}function Cm(a,o,d,p,w){switch(o){case"focusin":return Fn=Qi(Fn,a,o,d,p,w),!0;case"dragenter":return _n=Qi(_n,a,o,d,p,w),!0;case"mouseover":return Vn=Qi(Vn,a,o,d,p,w),!0;case"pointerover":var b=w.pointerId;return Xi.set(b,Qi(Xi.get(b)||null,a,o,d,p,w)),!0;case"gotpointercapture":return b=w.pointerId,Yi.set(b,Qi(Yi.get(b)||null,a,o,d,p,w)),!0}return!1}function Pd(a){var o=wa(a.target);if(o!==null){var d=wn(o);if(d!==null){if(o=d.tag,o===13){if(o=vs(d),o!==null){a.blockedOn=o,Td(a.priority,function(){bd(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Cs(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=Mu(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var p=new d.constructor(d.type,d);We=p,d.target.dispatchEvent(p),We=null}else return o=fo(d),o!==null&&Bu(o),a.blockedOn=d,!1;o.shift()}return!0}function Dd(a,o,d){Cs(a)&&d.delete(o)}function Tm(){Au=!1,Fn!==null&&Cs(Fn)&&(Fn=null),_n!==null&&Cs(_n)&&(_n=null),Vn!==null&&Cs(Vn)&&(Vn=null),Xi.forEach(Dd),Yi.forEach(Dd)}function Zi(a,o){a.blockedOn===o&&(a.blockedOn=null,Au||(Au=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tm)))}function ji(a){function o(w){return Zi(w,a)}if(0<bs.length){Zi(bs[0],a);for(var d=1;d<bs.length;d++){var p=bs[d];p.blockedOn===a&&(p.blockedOn=null)}}for(Fn!==null&&Zi(Fn,a),_n!==null&&Zi(_n,a),Vn!==null&&Zi(Vn,a),Xi.forEach(o),Yi.forEach(o),d=0;d<Un.length;d++)p=Un[d],p.blockedOn===a&&(p.blockedOn=null);for(;0<Un.length&&(d=Un[0],d.blockedOn===null);)Pd(d),d.blockedOn===null&&Un.shift()}var Xa=k.ReactCurrentBatchConfig,Ts=!0;function km(a,o,d,p){var w=ut,b=Xa.transition;Xa.transition=null;try{ut=1,Lu(a,o,d,p)}finally{ut=w,Xa.transition=b}}function Pm(a,o,d,p){var w=ut,b=Xa.transition;Xa.transition=null;try{ut=4,Lu(a,o,d,p)}finally{ut=w,Xa.transition=b}}function Lu(a,o,d,p){if(Ts){var w=Mu(a,o,d,p);if(w===null)Qu(a,o,p,ks,d),kd(a,p);else if(Cm(w,a,o,d,p))p.stopPropagation();else if(kd(a,p),o&4&&-1<bm.indexOf(a)){for(;w!==null;){var b=fo(w);if(b!==null&&Sd(b),b=Mu(a,o,d,p),b===null&&Qu(a,o,p,ks,d),b===w)break;w=b}w!==null&&p.stopPropagation()}else Qu(a,o,p,null,d)}}var ks=null;function Mu(a,o,d,p){if(ks=null,a=He(p),a=wa(a),a!==null)if(o=wn(a),o===null)a=null;else if(d=o.tag,d===13){if(a=vs(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return ks=a,null}function Rd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ms()){case Ki:return 1;case Er:return 4;case On:case ws:return 16;case zn:return 536870912;default:return 16}default:return 16}}var $n=null,Nu=null,Ps=null;function Bd(){if(Ps)return Ps;var a,o=Nu,d=o.length,p,w="value"in $n?$n.value:$n.textContent,b=w.length;for(a=0;a<d&&o[a]===w[a];a++);var D=d-a;for(p=1;p<=D&&o[d-p]===w[b-p];p++);return Ps=w.slice(a,1<p?1-p:void 0)}function Ds(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Rs(){return!0}function Ad(){return!1}function Br(a){function o(d,p,w,b,D){this._reactName=d,this._targetInst=w,this.type=p,this.nativeEvent=b,this.target=D,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(d=a[U],this[U]=d?d(b):b[U]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Rs:Ad,this.isPropagationStopped=Ad,this}return X(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),o}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=Br(Ya),Ji=X({},Ya,{view:0,detail:0}),Dm=Br(Ji),Ou,zu,eo,Bs=X({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==eo&&(eo&&a.type==="mousemove"?(Ou=a.screenX-eo.screenX,zu=a.screenY-eo.screenY):zu=Ou=0,eo=a),Ou)},movementY:function(a){return"movementY"in a?a.movementY:zu}}),Ld=Br(Bs),Rm=X({},Bs,{dataTransfer:0}),Bm=Br(Rm),Am=X({},Ji,{relatedTarget:0}),Fu=Br(Am),Lm=X({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Mm=Br(Lm),Nm=X({},Ya,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Im=Br(Nm),Om=X({},Ya,{data:0}),Md=Br(Om),zm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=_m[a])?!!o[a]:!1}function _u(){return Vm}var Um=X({},Ji,{key:function(a){if(a.key){var o=zm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ds(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Fm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(a){return a.type==="keypress"?Ds(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ds(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$m=Br(Um),Wm=X({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=Br(Wm),Hm=X({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Km=Br(Hm),qm=X({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gm=Br(qm),Xm=X({},Bs,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=Br(Xm),Qm=[9,13,27,32],Vu=u&&"CompositionEvent"in window,to=null;u&&"documentMode"in document&&(to=document.documentMode);var Zm=u&&"TextEvent"in window&&!to,Id=u&&(!Vu||to&&8<to&&11>=to),Od=" ",zd=!1;function Fd(a,o){switch(a){case"keyup":return Qm.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Qa=!1;function jm(a,o){switch(a){case"compositionend":return _d(o);case"keypress":return o.which!==32?null:(zd=!0,Od);case"textInput":return a=o.data,a===Od&&zd?null:a;default:return null}}function Jm(a,o){if(Qa)return a==="compositionend"||!Vu&&Fd(a,o)?(a=Bd(),Ps=Nu=$n=null,Qa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Id&&o.locale!=="ko"?null:o.data;default:return null}}var e0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!e0[a.type]:o==="textarea"}function Ud(a,o,d,p){rr(p),o=Is(o,"onChange"),0<o.length&&(d=new Iu("onChange","change",null,d,p),a.push({event:d,listeners:o}))}var ro=null,no=null;function t0(a){iv(a,0)}function As(a){var o=ti(a);if(pe(o))return a}function r0(a,o){if(a==="change")return o}var $d=!1;if(u){var Uu;if(u){var $u="oninput"in document;if(!$u){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),$u=typeof Wd.oninput=="function"}Uu=$u}else Uu=!1;$d=Uu&&(!document.documentMode||9<document.documentMode)}function Hd(){ro&&(ro.detachEvent("onpropertychange",Kd),no=ro=null)}function Kd(a){if(a.propertyName==="value"&&As(no)){var o=[];Ud(o,no,a,He(a)),Ut(t0,o)}}function n0(a,o,d){a==="focusin"?(Hd(),ro=o,no=d,ro.attachEvent("onpropertychange",Kd)):a==="focusout"&&Hd()}function a0(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return As(no)}function i0(a,o){if(a==="click")return As(o)}function o0(a,o){if(a==="input"||a==="change")return As(o)}function s0(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Zr=typeof Object.is=="function"?Object.is:s0;function ao(a,o){if(Zr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var w=d[p];if(!f.call(o,w)||!Zr(a[w],o[w]))return!1}return!0}function qd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Gd(a,o){var d=qd(a);a=0;for(var p;d;){if(d.nodeType===3){if(p=a+d.textContent.length,a<=o&&p>=o)return{node:d,offset:o-a};a=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=qd(d)}}function Xd(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Xd(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Yd(){for(var a=window,o=Se();o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=Se(a.document)}return o}function Wu(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function l0(a){var o=Yd(),d=a.focusedElem,p=a.selectionRange;if(o!==d&&d&&d.ownerDocument&&Xd(d.ownerDocument.documentElement,d)){if(p!==null&&Wu(d)){if(o=p.start,a=p.end,a===void 0&&(a=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(a,d.value.length);else if(a=(o=d.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var w=d.textContent.length,b=Math.min(p.start,w);p=p.end===void 0?b:Math.min(p.end,w),!a.extend&&b>p&&(w=p,p=b,b=w),w=Gd(d,b);var D=Gd(d,p);w&&D&&(a.rangeCount!==1||a.anchorNode!==w.node||a.anchorOffset!==w.offset||a.focusNode!==D.node||a.focusOffset!==D.offset)&&(o=o.createRange(),o.setStart(w.node,w.offset),a.removeAllRanges(),b>p?(a.addRange(o),a.extend(D.node,D.offset)):(o.setEnd(D.node,D.offset),a.addRange(o)))}}for(o=[],a=d;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)a=o[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var u0=u&&"documentMode"in document&&11>=document.documentMode,Za=null,Hu=null,io=null,Ku=!1;function Qd(a,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ku||Za==null||Za!==Se(p)||(p=Za,"selectionStart"in p&&Wu(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),io&&ao(io,p)||(io=p,p=Is(Hu,"onSelect"),0<p.length&&(o=new Iu("onSelect","select",null,o,d),a.push({event:o,listeners:p}),o.target=Za)))}function Ls(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var ja={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},qu={},Zd={};u&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Ms(a){if(qu[a])return qu[a];if(!ja[a])return a;var o=ja[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in Zd)return qu[a]=o[d];return a}var jd=Ms("animationend"),Jd=Ms("animationiteration"),ev=Ms("animationstart"),tv=Ms("transitionend"),rv=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(a,o){rv.set(a,o),s(o,[a])}for(var Gu=0;Gu<nv.length;Gu++){var Xu=nv[Gu],f0=Xu.toLowerCase(),c0=Xu[0].toUpperCase()+Xu.slice(1);Wn(f0,"on"+c0)}Wn(jd,"onAnimationEnd"),Wn(Jd,"onAnimationIteration"),Wn(ev,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(tv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d0=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function av(a,o,d){var p=a.type||"unknown-event";a.currentTarget=d,ds(p,o,void 0,a),a.currentTarget=null}function iv(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var p=a[d],w=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var D=p.length-1;0<=D;D--){var U=p[D],q=U.instance,ie=U.currentTarget;if(U=U.listener,q!==b&&w.isPropagationStopped())break e;av(w,U,ie),b=q}else for(D=0;D<p.length;D++){if(U=p[D],q=U.instance,ie=U.currentTarget,U=U.listener,q!==b&&w.isPropagationStopped())break e;av(w,U,ie),b=q}}}if(xt)throw a=$t,xt=!1,$t=null,a}function pt(a,o){var d=o[rf];d===void 0&&(d=o[rf]=new Set);var p=a+"__bubble";d.has(p)||(ov(o,a,2,!1),d.add(p))}function Yu(a,o,d){var p=0;o&&(p|=4),ov(d,a,p,o)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function so(a){if(!a[Ns]){a[Ns]=!0,n.forEach(function(d){d!=="selectionchange"&&(d0.has(d)||Yu(d,!1,a),Yu(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Ns]||(o[Ns]=!0,Yu("selectionchange",!1,o))}}function ov(a,o,d,p){switch(Rd(o)){case 1:var w=km;break;case 4:w=Pm;break;default:w=Lu}d=w.bind(null,o,d,a),w=void 0,!ar||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),p?w!==void 0?a.addEventListener(o,d,{capture:!0,passive:w}):a.addEventListener(o,d,!0):w!==void 0?a.addEventListener(o,d,{passive:w}):a.addEventListener(o,d,!1)}function Qu(a,o,d,p,w){var b=p;if(!(o&1)&&!(o&2)&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var U=p.stateNode.containerInfo;if(U===w||U.nodeType===8&&U.parentNode===w)break;if(D===4)for(D=p.return;D!==null;){var q=D.tag;if((q===3||q===4)&&(q=D.stateNode.containerInfo,q===w||q.nodeType===8&&q.parentNode===w))return;D=D.return}for(;U!==null;){if(D=wa(U),D===null)return;if(q=D.tag,q===5||q===6){p=b=D;continue e}U=U.parentNode}}p=p.return}Ut(function(){var ie=b,ge=He(d),ye=[];e:{var he=rv.get(a);if(he!==void 0){var be=Iu,Be=a;switch(a){case"keypress":if(Ds(d)===0)break e;case"keydown":case"keyup":be=$m;break;case"focusin":Be="focus",be=Fu;break;case"focusout":Be="blur",be=Fu;break;case"beforeblur":case"afterblur":be=Fu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Km;break;case jd:case Jd:case ev:be=Mm;break;case tv:be=Gm;break;case"scroll":be=Dm;break;case"wheel":be=Ym;break;case"copy":case"cut":case"paste":be=Im;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Nd}var Ae=(o&4)!==0,At=!Ae&&a==="scroll",ee=Ae?he!==null?he+"Capture":null:he;Ae=[];for(var Y=ie,re;Y!==null;){re=Y;var me=re.stateNode;if(re.tag===5&&me!==null&&(re=me,ee!==null&&(me=nr(Y,ee),me!=null&&Ae.push(lo(Y,me,re)))),At)break;Y=Y.return}0<Ae.length&&(he=new be(he,Be,null,d,ge),ye.push({event:he,listeners:Ae}))}}if(!(o&7)){e:{if(he=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",he&&d!==We&&(Be=d.relatedTarget||d.fromElement)&&(wa(Be)||Be[xn]))break e;if((be||he)&&(he=ge.window===ge?ge:(he=ge.ownerDocument)?he.defaultView||he.parentWindow:window,be?(Be=d.relatedTarget||d.toElement,be=ie,Be=Be?wa(Be):null,Be!==null&&(At=wn(Be),Be!==At||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(be=null,Be=ie),be!==Be)){if(Ae=Ld,me="onMouseLeave",ee="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=Nd,me="onPointerLeave",ee="onPointerEnter",Y="pointer"),At=be==null?he:ti(be),re=Be==null?he:ti(Be),he=new Ae(me,Y+"leave",be,d,ge),he.target=At,he.relatedTarget=re,me=null,wa(ge)===ie&&(Ae=new Ae(ee,Y+"enter",Be,d,ge),Ae.target=re,Ae.relatedTarget=At,me=Ae),At=me,be&&Be)t:{for(Ae=be,ee=Be,Y=0,re=Ae;re;re=Ja(re))Y++;for(re=0,me=ee;me;me=Ja(me))re++;for(;0<Y-re;)Ae=Ja(Ae),Y--;for(;0<re-Y;)ee=Ja(ee),re--;for(;Y--;){if(Ae===ee||ee!==null&&Ae===ee.alternate)break t;Ae=Ja(Ae),ee=Ja(ee)}Ae=null}else Ae=null;be!==null&&sv(ye,he,be,Ae,!1),Be!==null&&At!==null&&sv(ye,At,Be,Ae,!0)}}e:{if(he=ie?ti(ie):window,be=he.nodeName&&he.nodeName.toLowerCase(),be==="select"||be==="input"&&he.type==="file")var Le=r0;else if(Vd(he))if($d)Le=o0;else{Le=a0;var _e=n0}else(be=he.nodeName)&&be.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Le=i0);if(Le&&(Le=Le(a,ie))){Ud(ye,Le,d,ge);break e}_e&&_e(a,he,ie),a==="focusout"&&(_e=he._wrapperState)&&_e.controlled&&he.type==="number"&&Ce(he,"number",he.value)}switch(_e=ie?ti(ie):window,a){case"focusin":(Vd(_e)||_e.contentEditable==="true")&&(Za=_e,Hu=ie,io=null);break;case"focusout":io=Hu=Za=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,Qd(ye,d,ge);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":Qd(ye,d,ge)}var Ve;if(Vu)e:{switch(a){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Qa?Fd(a,d)&&(qe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(qe="onCompositionStart");qe&&(Id&&d.locale!=="ko"&&(Qa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Qa&&(Ve=Bd()):($n=ge,Nu="value"in $n?$n.value:$n.textContent,Qa=!0)),_e=Is(ie,qe),0<_e.length&&(qe=new Md(qe,a,null,d,ge),ye.push({event:qe,listeners:_e}),Ve?qe.data=Ve:(Ve=_d(d),Ve!==null&&(qe.data=Ve)))),(Ve=Zm?jm(a,d):Jm(a,d))&&(ie=Is(ie,"onBeforeInput"),0<ie.length&&(ge=new Md("onBeforeInput","beforeinput",null,d,ge),ye.push({event:ge,listeners:ie}),ge.data=Ve))}iv(ye,o)})}function lo(a,o,d){return{instance:a,listener:o,currentTarget:d}}function Is(a,o){for(var d=o+"Capture",p=[];a!==null;){var w=a,b=w.stateNode;w.tag===5&&b!==null&&(w=b,b=nr(a,d),b!=null&&p.unshift(lo(a,b,w)),b=nr(a,o),b!=null&&p.push(lo(a,b,w))),a=a.return}return p}function Ja(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function sv(a,o,d,p,w){for(var b=o._reactName,D=[];d!==null&&d!==p;){var U=d,q=U.alternate,ie=U.stateNode;if(q!==null&&q===p)break;U.tag===5&&ie!==null&&(U=ie,w?(q=nr(d,b),q!=null&&D.unshift(lo(d,q,U))):w||(q=nr(d,b),q!=null&&D.push(lo(d,q,U)))),d=d.return}D.length!==0&&a.push({event:o,listeners:D})}var v0=/\r\n?/g,h0=/\u0000|\uFFFD/g;function lv(a){return(typeof a=="string"?a:""+a).replace(v0,`
`).replace(h0,"")}function Os(a,o,d){if(o=lv(o),lv(a)!==o&&d)throw Error(r(425))}function zs(){}var Zu=null,ju=null;function Ju(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ef=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(a){return uv.resolve(null).then(a).catch(y0)}:ef;function y0(a){setTimeout(function(){throw a})}function tf(a,o){var d=o,p=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(p===0){a.removeChild(w),ji(o);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=w}while(d);ji(o)}function Hn(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function fv(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return a;o--}else d==="/$"&&o++}a=a.previousSibling}return null}var ei=Math.random().toString(36).slice(2),ln="__reactFiber$"+ei,uo="__reactProps$"+ei,xn="__reactContainer$"+ei,rf="__reactEvents$"+ei,m0="__reactListeners$"+ei,w0="__reactHandles$"+ei;function wa(a){var o=a[ln];if(o)return o;for(var d=a.parentNode;d;){if(o=d[xn]||d[ln]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=fv(a);a!==null;){if(d=a[ln])return d;a=fv(a)}return o}a=d,d=a.parentNode}return null}function fo(a){return a=a[ln]||a[xn],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ti(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function Fs(a){return a[uo]||null}var nf=[],ri=-1;function Kn(a){return{current:a}}function gt(a){0>ri||(a.current=nf[ri],nf[ri]=null,ri--)}function dt(a,o){ri++,nf[ri]=a.current,a.current=o}var qn={},sr=Kn(qn),Sr=Kn(!1),xa=qn;function ni(a,o){var d=a.type.contextTypes;if(!d)return qn;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var w={},b;for(b in d)w[b]=o[b];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=w),w}function br(a){return a=a.childContextTypes,a!=null}function _s(){gt(Sr),gt(sr)}function cv(a,o,d){if(sr.current!==qn)throw Error(r(168));dt(sr,o),dt(Sr,d)}function dv(a,o,d){var p=a.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var w in p)if(!(w in o))throw Error(r(108,ce(a)||"Unknown",w));return X({},d,p)}function Vs(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||qn,xa=sr.current,dt(sr,a),dt(Sr,Sr.current),!0}function vv(a,o,d){var p=a.stateNode;if(!p)throw Error(r(169));d?(a=dv(a,o,xa),p.__reactInternalMemoizedMergedChildContext=a,gt(Sr),gt(sr),dt(sr,a)):gt(Sr),dt(Sr,d)}var En=null,Us=!1,af=!1;function hv(a){En===null?En=[a]:En.push(a)}function x0(a){Us=!0,hv(a)}function Gn(){if(!af&&En!==null){af=!0;var a=0,o=ut;try{var d=En;for(ut=1;a<d.length;a++){var p=d[a];do p=p(!0);while(p!==null)}En=null,Us=!1}catch(w){throw En!==null&&(En=En.slice(a+1)),ys(Ki,Gn),w}finally{ut=o,af=!1}}return null}var ai=[],ii=0,$s=null,Ws=0,Vr=[],Ur=0,Ea=null,Sn=1,bn="";function Sa(a,o){ai[ii++]=Ws,ai[ii++]=$s,$s=a,Ws=o}function pv(a,o,d){Vr[Ur++]=Sn,Vr[Ur++]=bn,Vr[Ur++]=Ea,Ea=a;var p=Sn;a=bn;var w=32-Qr(p)-1;p&=~(1<<w),d+=1;var b=32-Qr(o)+w;if(30<b){var D=w-w%5;b=(p&(1<<D)-1).toString(32),p>>=D,w-=D,Sn=1<<32-Qr(o)+w|d<<w|p,bn=b+a}else Sn=1<<b|d<<w|p,bn=a}function of(a){a.return!==null&&(Sa(a,1),pv(a,1,0))}function sf(a){for(;a===$s;)$s=ai[--ii],ai[ii]=null,Ws=ai[--ii],ai[ii]=null;for(;a===Ea;)Ea=Vr[--Ur],Vr[Ur]=null,bn=Vr[--Ur],Vr[Ur]=null,Sn=Vr[--Ur],Vr[Ur]=null}var Ar=null,Lr=null,wt=!1,jr=null;function gv(a,o){var d=Kr(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=a,o=a.deletions,o===null?(a.deletions=[d],a.flags|=16):o.push(d)}function yv(a,o){switch(a.tag){case 5:var d=a.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,Ar=a,Lr=Hn(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,Ar=a,Lr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=Ea!==null?{id:Sn,overflow:bn}:null,a.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Kr(18,null,null,0),d.stateNode=o,d.return=a,a.child=d,Ar=a,Lr=null,!0):!1;default:return!1}}function lf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function uf(a){if(wt){var o=Lr;if(o){var d=o;if(!yv(a,o)){if(lf(a))throw Error(r(418));o=Hn(d.nextSibling);var p=Ar;o&&yv(a,o)?gv(p,d):(a.flags=a.flags&-4097|2,wt=!1,Ar=a)}}else{if(lf(a))throw Error(r(418));a.flags=a.flags&-4097|2,wt=!1,Ar=a}}}function mv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ar=a}function Hs(a){if(a!==Ar)return!1;if(!wt)return mv(a),wt=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!Ju(a.type,a.memoizedProps)),o&&(o=Lr)){if(lf(a))throw wv(),Error(r(418));for(;o;)gv(a,o),o=Hn(o.nextSibling)}if(mv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(o===0){Lr=Hn(a.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}a=a.nextSibling}Lr=null}}else Lr=Ar?Hn(a.stateNode.nextSibling):null;return!0}function wv(){for(var a=Lr;a;)a=Hn(a.nextSibling)}function oi(){Lr=Ar=null,wt=!1}function ff(a){jr===null?jr=[a]:jr.push(a)}var E0=k.ReactCurrentBatchConfig;function co(a,o,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var p=d.stateNode}if(!p)throw Error(r(147,a));var w=p,b=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(D){var U=w.refs;D===null?delete U[b]:U[b]=D},o._stringRef=b,o)}if(typeof a!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,a))}return a}function Ks(a,o){throw a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function xv(a){var o=a._init;return o(a._payload)}function Ev(a){function o(ee,Y){if(a){var re=ee.deletions;re===null?(ee.deletions=[Y],ee.flags|=16):re.push(Y)}}function d(ee,Y){if(!a)return null;for(;Y!==null;)o(ee,Y),Y=Y.sibling;return null}function p(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function w(ee,Y){return ee=ta(ee,Y),ee.index=0,ee.sibling=null,ee}function b(ee,Y,re){return ee.index=re,a?(re=ee.alternate,re!==null?(re=re.index,re<Y?(ee.flags|=2,Y):re):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function D(ee){return a&&ee.alternate===null&&(ee.flags|=2),ee}function U(ee,Y,re,me){return Y===null||Y.tag!==6?(Y=tc(re,ee.mode,me),Y.return=ee,Y):(Y=w(Y,re),Y.return=ee,Y)}function q(ee,Y,re,me){var Le=re.type;return Le===P?ge(ee,Y,re.props.children,me,re.key):Y!==null&&(Y.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===W&&xv(Le)===Y.type)?(me=w(Y,re.props),me.ref=co(ee,Y,re),me.return=ee,me):(me=pl(re.type,re.key,re.props,null,ee.mode,me),me.ref=co(ee,Y,re),me.return=ee,me)}function ie(ee,Y,re,me){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==re.containerInfo||Y.stateNode.implementation!==re.implementation?(Y=rc(re,ee.mode,me),Y.return=ee,Y):(Y=w(Y,re.children||[]),Y.return=ee,Y)}function ge(ee,Y,re,me,Le){return Y===null||Y.tag!==7?(Y=Ba(re,ee.mode,me,Le),Y.return=ee,Y):(Y=w(Y,re),Y.return=ee,Y)}function ye(ee,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=tc(""+Y,ee.mode,re),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return re=pl(Y.type,Y.key,Y.props,null,ee.mode,re),re.ref=co(ee,null,Y),re.return=ee,re;case R:return Y=rc(Y,ee.mode,re),Y.return=ee,Y;case W:var me=Y._init;return ye(ee,me(Y._payload),re)}if(Ne(Y)||G(Y))return Y=Ba(Y,ee.mode,re,null),Y.return=ee,Y;Ks(ee,Y)}return null}function he(ee,Y,re,me){var Le=Y!==null?Y.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Le!==null?null:U(ee,Y,""+re,me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case B:return re.key===Le?q(ee,Y,re,me):null;case R:return re.key===Le?ie(ee,Y,re,me):null;case W:return Le=re._init,he(ee,Y,Le(re._payload),me)}if(Ne(re)||G(re))return Le!==null?null:ge(ee,Y,re,me,null);Ks(ee,re)}return null}function be(ee,Y,re,me,Le){if(typeof me=="string"&&me!==""||typeof me=="number")return ee=ee.get(re)||null,U(Y,ee,""+me,Le);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case B:return ee=ee.get(me.key===null?re:me.key)||null,q(Y,ee,me,Le);case R:return ee=ee.get(me.key===null?re:me.key)||null,ie(Y,ee,me,Le);case W:var _e=me._init;return be(ee,Y,re,_e(me._payload),Le)}if(Ne(me)||G(me))return ee=ee.get(re)||null,ge(Y,ee,me,Le,null);Ks(Y,me)}return null}function Be(ee,Y,re,me){for(var Le=null,_e=null,Ve=Y,qe=Y=0,Kt=null;Ve!==null&&qe<re.length;qe++){Ve.index>qe?(Kt=Ve,Ve=null):Kt=Ve.sibling;var at=he(ee,Ve,re[qe],me);if(at===null){Ve===null&&(Ve=Kt);break}a&&Ve&&at.alternate===null&&o(ee,Ve),Y=b(at,Y,qe),_e===null?Le=at:_e.sibling=at,_e=at,Ve=Kt}if(qe===re.length)return d(ee,Ve),wt&&Sa(ee,qe),Le;if(Ve===null){for(;qe<re.length;qe++)Ve=ye(ee,re[qe],me),Ve!==null&&(Y=b(Ve,Y,qe),_e===null?Le=Ve:_e.sibling=Ve,_e=Ve);return wt&&Sa(ee,qe),Le}for(Ve=p(ee,Ve);qe<re.length;qe++)Kt=be(Ve,ee,qe,re[qe],me),Kt!==null&&(a&&Kt.alternate!==null&&Ve.delete(Kt.key===null?qe:Kt.key),Y=b(Kt,Y,qe),_e===null?Le=Kt:_e.sibling=Kt,_e=Kt);return a&&Ve.forEach(function(ra){return o(ee,ra)}),wt&&Sa(ee,qe),Le}function Ae(ee,Y,re,me){var Le=G(re);if(typeof Le!="function")throw Error(r(150));if(re=Le.call(re),re==null)throw Error(r(151));for(var _e=Le=null,Ve=Y,qe=Y=0,Kt=null,at=re.next();Ve!==null&&!at.done;qe++,at=re.next()){Ve.index>qe?(Kt=Ve,Ve=null):Kt=Ve.sibling;var ra=he(ee,Ve,at.value,me);if(ra===null){Ve===null&&(Ve=Kt);break}a&&Ve&&ra.alternate===null&&o(ee,Ve),Y=b(ra,Y,qe),_e===null?Le=ra:_e.sibling=ra,_e=ra,Ve=Kt}if(at.done)return d(ee,Ve),wt&&Sa(ee,qe),Le;if(Ve===null){for(;!at.done;qe++,at=re.next())at=ye(ee,at.value,me),at!==null&&(Y=b(at,Y,qe),_e===null?Le=at:_e.sibling=at,_e=at);return wt&&Sa(ee,qe),Le}for(Ve=p(ee,Ve);!at.done;qe++,at=re.next())at=be(Ve,ee,qe,at.value,me),at!==null&&(a&&at.alternate!==null&&Ve.delete(at.key===null?qe:at.key),Y=b(at,Y,qe),_e===null?Le=at:_e.sibling=at,_e=at);return a&&Ve.forEach(function(J0){return o(ee,J0)}),wt&&Sa(ee,qe),Le}function At(ee,Y,re,me){if(typeof re=="object"&&re!==null&&re.type===P&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case B:e:{for(var Le=re.key,_e=Y;_e!==null;){if(_e.key===Le){if(Le=re.type,Le===P){if(_e.tag===7){d(ee,_e.sibling),Y=w(_e,re.props.children),Y.return=ee,ee=Y;break e}}else if(_e.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===W&&xv(Le)===_e.type){d(ee,_e.sibling),Y=w(_e,re.props),Y.ref=co(ee,_e,re),Y.return=ee,ee=Y;break e}d(ee,_e);break}else o(ee,_e);_e=_e.sibling}re.type===P?(Y=Ba(re.props.children,ee.mode,me,re.key),Y.return=ee,ee=Y):(me=pl(re.type,re.key,re.props,null,ee.mode,me),me.ref=co(ee,Y,re),me.return=ee,ee=me)}return D(ee);case R:e:{for(_e=re.key;Y!==null;){if(Y.key===_e)if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){d(ee,Y.sibling),Y=w(Y,re.children||[]),Y.return=ee,ee=Y;break e}else{d(ee,Y);break}else o(ee,Y);Y=Y.sibling}Y=rc(re,ee.mode,me),Y.return=ee,ee=Y}return D(ee);case W:return _e=re._init,At(ee,Y,_e(re._payload),me)}if(Ne(re))return Be(ee,Y,re,me);if(G(re))return Ae(ee,Y,re,me);Ks(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Y!==null&&Y.tag===6?(d(ee,Y.sibling),Y=w(Y,re),Y.return=ee,ee=Y):(d(ee,Y),Y=tc(re,ee.mode,me),Y.return=ee,ee=Y),D(ee)):d(ee,Y)}return At}var si=Ev(!0),Sv=Ev(!1),qs=Kn(null),Gs=null,li=null,cf=null;function df(){cf=li=Gs=null}function vf(a){var o=qs.current;gt(qs),a._currentValue=o}function hf(a,o,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===d)break;a=a.return}}function ui(a,o){Gs=a,cf=li=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&o&&(Cr=!0),a.firstContext=null)}function $r(a){var o=a._currentValue;if(cf!==a)if(a={context:a,memoizedValue:o,next:null},li===null){if(Gs===null)throw Error(r(308));li=a,Gs.dependencies={lanes:0,firstContext:a}}else li=li.next=a;return o}var ba=null;function pf(a){ba===null?ba=[a]:ba.push(a)}function bv(a,o,d,p){var w=o.interleaved;return w===null?(d.next=d,pf(o)):(d.next=w.next,w.next=d),o.interleaved=d,Cn(a,p)}function Cn(a,o){a.lanes|=o;var d=a.alternate;for(d!==null&&(d.lanes|=o),d=a,a=a.return;a!==null;)a.childLanes|=o,d=a.alternate,d!==null&&(d.childLanes|=o),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Xn=!1;function gf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cv(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Tn(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function Yn(a,o,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,et&2){var w=p.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),p.pending=o,Cn(a,d)}return w=p.interleaved,w===null?(o.next=o,pf(p)):(o.next=w.next,w.next=o),p.interleaved=o,Cn(a,d)}function Xs(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var p=o.lanes;p&=a.pendingLanes,d|=p,o.lanes=d,Ru(a,d)}}function Tv(a,o){var d=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var w=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?w=b=D:b=b.next=D,d=d.next}while(d!==null);b===null?w=b=o:b=b.next=o}else w=b=o;d={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:b,shared:p.shared,effects:p.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}function Ys(a,o,d,p){var w=a.updateQueue;Xn=!1;var b=w.firstBaseUpdate,D=w.lastBaseUpdate,U=w.shared.pending;if(U!==null){w.shared.pending=null;var q=U,ie=q.next;q.next=null,D===null?b=ie:D.next=ie,D=q;var ge=a.alternate;ge!==null&&(ge=ge.updateQueue,U=ge.lastBaseUpdate,U!==D&&(U===null?ge.firstBaseUpdate=ie:U.next=ie,ge.lastBaseUpdate=q))}if(b!==null){var ye=w.baseState;D=0,ge=ie=q=null,U=b;do{var he=U.lane,be=U.eventTime;if((p&he)===he){ge!==null&&(ge=ge.next={eventTime:be,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Be=a,Ae=U;switch(he=o,be=d,Ae.tag){case 1:if(Be=Ae.payload,typeof Be=="function"){ye=Be.call(be,ye,he);break e}ye=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ae.payload,he=typeof Be=="function"?Be.call(be,ye,he):Be,he==null)break e;ye=X({},ye,he);break e;case 2:Xn=!0}}U.callback!==null&&U.lane!==0&&(a.flags|=64,he=w.effects,he===null?w.effects=[U]:he.push(U))}else be={eventTime:be,lane:he,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ge===null?(ie=ge=be,q=ye):ge=ge.next=be,D|=he;if(U=U.next,U===null){if(U=w.shared.pending,U===null)break;he=U,U=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);if(ge===null&&(q=ye),w.baseState=q,w.firstBaseUpdate=ie,w.lastBaseUpdate=ge,o=w.shared.interleaved,o!==null){w=o;do D|=w.lane,w=w.next;while(w!==o)}else b===null&&(w.shared.lanes=0);ka|=D,a.lanes=D,a.memoizedState=ye}}function kv(a,o,d){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var p=a[o],w=p.callback;if(w!==null){if(p.callback=null,p=d,typeof w!="function")throw Error(r(191,w));w.call(p)}}}var vo={},un=Kn(vo),ho=Kn(vo),po=Kn(vo);function Ca(a){if(a===vo)throw Error(r(174));return a}function yf(a,o){switch(dt(po,o),dt(ho,a),dt(un,vo),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:I(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=I(o,a)}gt(un),dt(un,o)}function fi(){gt(un),gt(ho),gt(po)}function Pv(a){Ca(po.current);var o=Ca(un.current),d=I(o,a.type);o!==d&&(dt(ho,a),dt(un,d))}function mf(a){ho.current===a&&(gt(un),gt(ho))}var Et=Kn(0);function Qs(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var wf=[];function xf(){for(var a=0;a<wf.length;a++)wf[a]._workInProgressVersionPrimary=null;wf.length=0}var Zs=k.ReactCurrentDispatcher,Ef=k.ReactCurrentBatchConfig,Ta=0,St=null,It=null,Wt=null,js=!1,go=!1,yo=0,S0=0;function lr(){throw Error(r(321))}function Sf(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!Zr(a[d],o[d]))return!1;return!0}function bf(a,o,d,p,w,b){if(Ta=b,St=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Zs.current=a===null||a.memoizedState===null?k0:P0,a=d(p,w),go){b=0;do{if(go=!1,yo=0,25<=b)throw Error(r(301));b+=1,Wt=It=null,o.updateQueue=null,Zs.current=D0,a=d(p,w)}while(go)}if(Zs.current=tl,o=It!==null&&It.next!==null,Ta=0,Wt=It=St=null,js=!1,o)throw Error(r(300));return a}function Cf(){var a=yo!==0;return yo=0,a}function fn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?St.memoizedState=Wt=a:Wt=Wt.next=a,Wt}function Wr(){if(It===null){var a=St.alternate;a=a!==null?a.memoizedState:null}else a=It.next;var o=Wt===null?St.memoizedState:Wt.next;if(o!==null)Wt=o,It=a;else{if(a===null)throw Error(r(310));It=a,a={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Wt===null?St.memoizedState=Wt=a:Wt=Wt.next=a}return Wt}function mo(a,o){return typeof o=="function"?o(a):o}function Tf(a){var o=Wr(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var p=It,w=p.baseQueue,b=d.pending;if(b!==null){if(w!==null){var D=w.next;w.next=b.next,b.next=D}p.baseQueue=w=b,d.pending=null}if(w!==null){b=w.next,p=p.baseState;var U=D=null,q=null,ie=b;do{var ge=ie.lane;if((Ta&ge)===ge)q!==null&&(q=q.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),p=ie.hasEagerState?ie.eagerState:a(p,ie.action);else{var ye={lane:ge,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};q===null?(U=q=ye,D=p):q=q.next=ye,St.lanes|=ge,ka|=ge}ie=ie.next}while(ie!==null&&ie!==b);q===null?D=p:q.next=U,Zr(p,o.memoizedState)||(Cr=!0),o.memoizedState=p,o.baseState=D,o.baseQueue=q,d.lastRenderedState=p}if(a=d.interleaved,a!==null){w=a;do b=w.lane,St.lanes|=b,ka|=b,w=w.next;while(w!==a)}else w===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function kf(a){var o=Wr(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var p=d.dispatch,w=d.pending,b=o.memoizedState;if(w!==null){d.pending=null;var D=w=w.next;do b=a(b,D.action),D=D.next;while(D!==w);Zr(b,o.memoizedState)||(Cr=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),d.lastRenderedState=b}return[b,p]}function Dv(){}function Rv(a,o){var d=St,p=Wr(),w=o(),b=!Zr(p.memoizedState,w);if(b&&(p.memoizedState=w,Cr=!0),p=p.queue,Pf(Lv.bind(null,d,p,a),[a]),p.getSnapshot!==o||b||Wt!==null&&Wt.memoizedState.tag&1){if(d.flags|=2048,wo(9,Av.bind(null,d,p,w,o),void 0,null),Ht===null)throw Error(r(349));Ta&30||Bv(d,o,w)}return w}function Bv(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=St.updateQueue,o===null?(o={lastEffect:null,stores:null},St.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function Av(a,o,d,p){o.value=d,o.getSnapshot=p,Mv(o)&&Nv(a)}function Lv(a,o,d){return d(function(){Mv(o)&&Nv(a)})}function Mv(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!Zr(a,d)}catch{return!0}}function Nv(a){var o=Cn(a,1);o!==null&&rn(o,a,1,-1)}function Iv(a){var o=fn();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:a},o.queue=a,a=a.dispatch=T0.bind(null,St,a),[o.memoizedState,a]}function wo(a,o,d,p){return a={tag:a,create:o,destroy:d,deps:p,next:null},o=St.updateQueue,o===null?(o={lastEffect:null,stores:null},St.updateQueue=o,o.lastEffect=a.next=a):(d=o.lastEffect,d===null?o.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,o.lastEffect=a)),a}function Ov(){return Wr().memoizedState}function Js(a,o,d,p){var w=fn();St.flags|=a,w.memoizedState=wo(1|o,d,void 0,p===void 0?null:p)}function el(a,o,d,p){var w=Wr();p=p===void 0?null:p;var b=void 0;if(It!==null){var D=It.memoizedState;if(b=D.destroy,p!==null&&Sf(p,D.deps)){w.memoizedState=wo(o,d,b,p);return}}St.flags|=a,w.memoizedState=wo(1|o,d,b,p)}function zv(a,o){return Js(8390656,8,a,o)}function Pf(a,o){return el(2048,8,a,o)}function Fv(a,o){return el(4,2,a,o)}function _v(a,o){return el(4,4,a,o)}function Vv(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Uv(a,o,d){return d=d!=null?d.concat([a]):null,el(4,4,Vv.bind(null,o,a),d)}function Df(){}function $v(a,o){var d=Wr();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&Sf(o,p[1])?p[0]:(d.memoizedState=[a,o],a)}function Wv(a,o){var d=Wr();o=o===void 0?null:o;var p=d.memoizedState;return p!==null&&o!==null&&Sf(o,p[1])?p[0]:(a=a(),d.memoizedState=[a,o],a)}function Hv(a,o,d){return Ta&21?(Zr(d,o)||(d=xd(),St.lanes|=d,ka|=d,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,Cr=!0),a.memoizedState=d)}function b0(a,o){var d=ut;ut=d!==0&&4>d?d:4,a(!0);var p=Ef.transition;Ef.transition={};try{a(!1),o()}finally{ut=d,Ef.transition=p}}function Kv(){return Wr().memoizedState}function C0(a,o,d){var p=Jn(a);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},qv(a))Gv(o,d);else if(d=bv(a,o,d,p),d!==null){var w=mr();rn(d,a,p,w),Xv(d,o,p)}}function T0(a,o,d){var p=Jn(a),w={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(qv(a))Gv(o,w);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var D=o.lastRenderedState,U=b(D,d);if(w.hasEagerState=!0,w.eagerState=U,Zr(U,D)){var q=o.interleaved;q===null?(w.next=w,pf(o)):(w.next=q.next,q.next=w),o.interleaved=w;return}}catch{}finally{}d=bv(a,o,w,p),d!==null&&(w=mr(),rn(d,a,p,w),Xv(d,o,p))}}function qv(a){var o=a.alternate;return a===St||o!==null&&o===St}function Gv(a,o){go=js=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function Xv(a,o,d){if(d&4194240){var p=o.lanes;p&=a.pendingLanes,d|=p,o.lanes=d,Ru(a,d)}}var tl={readContext:$r,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},k0={readContext:$r,useCallback:function(a,o){return fn().memoizedState=[a,o===void 0?null:o],a},useContext:$r,useEffect:zv,useImperativeHandle:function(a,o,d){return d=d!=null?d.concat([a]):null,Js(4194308,4,Vv.bind(null,o,a),d)},useLayoutEffect:function(a,o){return Js(4194308,4,a,o)},useInsertionEffect:function(a,o){return Js(4,2,a,o)},useMemo:function(a,o){var d=fn();return o=o===void 0?null:o,a=a(),d.memoizedState=[a,o],a},useReducer:function(a,o,d){var p=fn();return o=d!==void 0?d(o):o,p.memoizedState=p.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},p.queue=a,a=a.dispatch=C0.bind(null,St,a),[p.memoizedState,a]},useRef:function(a){var o=fn();return a={current:a},o.memoizedState=a},useState:Iv,useDebugValue:Df,useDeferredValue:function(a){return fn().memoizedState=a},useTransition:function(){var a=Iv(!1),o=a[0];return a=b0.bind(null,a[1]),fn().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,d){var p=St,w=fn();if(wt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Ht===null)throw Error(r(349));Ta&30||Bv(p,o,d)}w.memoizedState=d;var b={value:d,getSnapshot:o};return w.queue=b,zv(Lv.bind(null,p,b,a),[a]),p.flags|=2048,wo(9,Av.bind(null,p,b,d,o),void 0,null),d},useId:function(){var a=fn(),o=Ht.identifierPrefix;if(wt){var d=bn,p=Sn;d=(p&~(1<<32-Qr(p)-1)).toString(32)+d,o=":"+o+"R"+d,d=yo++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=S0++,o=":"+o+"r"+d.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},P0={readContext:$r,useCallback:$v,useContext:$r,useEffect:Pf,useImperativeHandle:Uv,useInsertionEffect:Fv,useLayoutEffect:_v,useMemo:Wv,useReducer:Tf,useRef:Ov,useState:function(){return Tf(mo)},useDebugValue:Df,useDeferredValue:function(a){var o=Wr();return Hv(o,It.memoizedState,a)},useTransition:function(){var a=Tf(mo)[0],o=Wr().memoizedState;return[a,o]},useMutableSource:Dv,useSyncExternalStore:Rv,useId:Kv,unstable_isNewReconciler:!1},D0={readContext:$r,useCallback:$v,useContext:$r,useEffect:Pf,useImperativeHandle:Uv,useInsertionEffect:Fv,useLayoutEffect:_v,useMemo:Wv,useReducer:kf,useRef:Ov,useState:function(){return kf(mo)},useDebugValue:Df,useDeferredValue:function(a){var o=Wr();return It===null?o.memoizedState=a:Hv(o,It.memoizedState,a)},useTransition:function(){var a=kf(mo)[0],o=Wr().memoizedState;return[a,o]},useMutableSource:Dv,useSyncExternalStore:Rv,useId:Kv,unstable_isNewReconciler:!1};function Jr(a,o){if(a&&a.defaultProps){o=X({},o),a=a.defaultProps;for(var d in a)o[d]===void 0&&(o[d]=a[d]);return o}return o}function Rf(a,o,d,p){o=a.memoizedState,d=d(p,o),d=d==null?o:X({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var rl={isMounted:function(a){return(a=a._reactInternals)?wn(a)===a:!1},enqueueSetState:function(a,o,d){a=a._reactInternals;var p=mr(),w=Jn(a),b=Tn(p,w);b.payload=o,d!=null&&(b.callback=d),o=Yn(a,b,w),o!==null&&(rn(o,a,w,p),Xs(o,a,w))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var p=mr(),w=Jn(a),b=Tn(p,w);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=Yn(a,b,w),o!==null&&(rn(o,a,w,p),Xs(o,a,w))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=mr(),p=Jn(a),w=Tn(d,p);w.tag=2,o!=null&&(w.callback=o),o=Yn(a,w,p),o!==null&&(rn(o,a,p,d),Xs(o,a,p))}};function Yv(a,o,d,p,w,b,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,D):o.prototype&&o.prototype.isPureReactComponent?!ao(d,p)||!ao(w,b):!0}function Qv(a,o,d){var p=!1,w=qn,b=o.contextType;return typeof b=="object"&&b!==null?b=$r(b):(w=br(o)?xa:sr.current,p=o.contextTypes,b=(p=p!=null)?ni(a,w):qn),o=new o(d,b),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=rl,a.stateNode=o,o._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=w,a.__reactInternalMemoizedMaskedChildContext=b),o}function Zv(a,o,d,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==a&&rl.enqueueReplaceState(o,o.state,null)}function Bf(a,o,d,p){var w=a.stateNode;w.props=d,w.state=a.memoizedState,w.refs={},gf(a);var b=o.contextType;typeof b=="object"&&b!==null?w.context=$r(b):(b=br(o)?xa:sr.current,w.context=ni(a,b)),w.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Rf(a,o,b,d),w.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(o=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),o!==w.state&&rl.enqueueReplaceState(w,w.state,null),Ys(a,d,w,p),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308)}function ci(a,o){try{var d="",p=o;do d+=se(p),p=p.return;while(p);var w=d}catch(b){w=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:o,stack:w,digest:null}}function Af(a,o,d){return{value:a,source:null,stack:d??null,digest:o??null}}function Lf(a,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var R0=typeof WeakMap=="function"?WeakMap:Map;function jv(a,o,d){d=Tn(-1,d),d.tag=3,d.payload={element:null};var p=o.value;return d.callback=function(){ul||(ul=!0,Gf=p),Lf(a,o)},d}function Jv(a,o,d){d=Tn(-1,d),d.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var w=o.value;d.payload=function(){return p(w)},d.callback=function(){Lf(a,o)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Lf(a,o),typeof p!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var D=o.stack;this.componentDidCatch(o.value,{componentStack:D!==null?D:""})}),d}function eh(a,o,d){var p=a.pingCache;if(p===null){p=a.pingCache=new R0;var w=new Set;p.set(o,w)}else w=p.get(o),w===void 0&&(w=new Set,p.set(o,w));w.has(d)||(w.add(d),a=W0.bind(null,a,o,d),o.then(a,a))}function th(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function rh(a,o,d,p,w){return a.mode&1?(a.flags|=65536,a.lanes=w,a):(a===o?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=Tn(-1,1),o.tag=2,Yn(d,o,1))),d.lanes|=1),a)}var B0=k.ReactCurrentOwner,Cr=!1;function yr(a,o,d,p){o.child=a===null?Sv(o,null,d,p):si(o,a.child,d,p)}function nh(a,o,d,p,w){d=d.render;var b=o.ref;return ui(o,w),p=bf(a,o,d,p,b,w),d=Cf(),a!==null&&!Cr?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~w,kn(a,o,w)):(wt&&d&&of(o),o.flags|=1,yr(a,o,p,w),o.child)}function ah(a,o,d,p,w){if(a===null){var b=d.type;return typeof b=="function"&&!ec(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=b,ih(a,o,b,p,w)):(a=pl(d.type,null,p,o,o.mode,w),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!(a.lanes&w)){var D=b.memoizedProps;if(d=d.compare,d=d!==null?d:ao,d(D,p)&&a.ref===o.ref)return kn(a,o,w)}return o.flags|=1,a=ta(b,p),a.ref=o.ref,a.return=o,o.child=a}function ih(a,o,d,p,w){if(a!==null){var b=a.memoizedProps;if(ao(b,p)&&a.ref===o.ref)if(Cr=!1,o.pendingProps=p=b,(a.lanes&w)!==0)a.flags&131072&&(Cr=!0);else return o.lanes=a.lanes,kn(a,o,w)}return Mf(a,o,d,p,w)}function oh(a,o,d){var p=o.pendingProps,w=p.children,b=a!==null?a.memoizedState:null;if(p.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(vi,Mr),Mr|=d;else{if(!(d&1073741824))return a=b!==null?b.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,dt(vi,Mr),Mr|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:d,dt(vi,Mr),Mr|=p}else b!==null?(p=b.baseLanes|d,o.memoizedState=null):p=d,dt(vi,Mr),Mr|=p;return yr(a,o,w,d),o.child}function sh(a,o){var d=o.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Mf(a,o,d,p,w){var b=br(d)?xa:sr.current;return b=ni(o,b),ui(o,w),d=bf(a,o,d,p,b,w),p=Cf(),a!==null&&!Cr?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~w,kn(a,o,w)):(wt&&p&&of(o),o.flags|=1,yr(a,o,d,w),o.child)}function lh(a,o,d,p,w){if(br(d)){var b=!0;Vs(o)}else b=!1;if(ui(o,w),o.stateNode===null)al(a,o),Qv(o,d,p),Bf(o,d,p,w),p=!0;else if(a===null){var D=o.stateNode,U=o.memoizedProps;D.props=U;var q=D.context,ie=d.contextType;typeof ie=="object"&&ie!==null?ie=$r(ie):(ie=br(d)?xa:sr.current,ie=ni(o,ie));var ge=d.getDerivedStateFromProps,ye=typeof ge=="function"||typeof D.getSnapshotBeforeUpdate=="function";ye||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==p||q!==ie)&&Zv(o,D,p,ie),Xn=!1;var he=o.memoizedState;D.state=he,Ys(o,p,D,w),q=o.memoizedState,U!==p||he!==q||Sr.current||Xn?(typeof ge=="function"&&(Rf(o,d,ge,p),q=o.memoizedState),(U=Xn||Yv(o,d,U,p,he,q,ie))?(ye||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(o.flags|=4194308)):(typeof D.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=q),D.props=p,D.state=q,D.context=ie,p=U):(typeof D.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{D=o.stateNode,Cv(a,o),U=o.memoizedProps,ie=o.type===o.elementType?U:Jr(o.type,U),D.props=ie,ye=o.pendingProps,he=D.context,q=d.contextType,typeof q=="object"&&q!==null?q=$r(q):(q=br(d)?xa:sr.current,q=ni(o,q));var be=d.getDerivedStateFromProps;(ge=typeof be=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==ye||he!==q)&&Zv(o,D,p,q),Xn=!1,he=o.memoizedState,D.state=he,Ys(o,p,D,w);var Be=o.memoizedState;U!==ye||he!==Be||Sr.current||Xn?(typeof be=="function"&&(Rf(o,d,be,p),Be=o.memoizedState),(ie=Xn||Yv(o,d,ie,p,he,Be,q)||!1)?(ge||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(p,Be,q),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(p,Be,q)),typeof D.componentDidUpdate=="function"&&(o.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof D.componentDidUpdate!="function"||U===a.memoizedProps&&he===a.memoizedState||(o.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&he===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Be),D.props=p,D.state=Be,D.context=q,p=ie):(typeof D.componentDidUpdate!="function"||U===a.memoizedProps&&he===a.memoizedState||(o.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&he===a.memoizedState||(o.flags|=1024),p=!1)}return Nf(a,o,d,p,b,w)}function Nf(a,o,d,p,w,b){sh(a,o);var D=(o.flags&128)!==0;if(!p&&!D)return w&&vv(o,d,!1),kn(a,o,b);p=o.stateNode,B0.current=o;var U=D&&typeof d.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,a!==null&&D?(o.child=si(o,a.child,null,b),o.child=si(o,null,U,b)):yr(a,o,U,b),o.memoizedState=p.state,w&&vv(o,d,!0),o.child}function uh(a){var o=a.stateNode;o.pendingContext?cv(a,o.pendingContext,o.pendingContext!==o.context):o.context&&cv(a,o.context,!1),yf(a,o.containerInfo)}function fh(a,o,d,p,w){return oi(),ff(w),o.flags|=256,yr(a,o,d,p),o.child}var If={dehydrated:null,treeContext:null,retryLane:0};function Of(a){return{baseLanes:a,cachePool:null,transitions:null}}function ch(a,o,d){var p=o.pendingProps,w=Et.current,b=!1,D=(o.flags&128)!==0,U;if((U=D)||(U=a!==null&&a.memoizedState===null?!1:(w&2)!==0),U?(b=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(w|=1),dt(Et,w&1),a===null)return uf(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(o.mode&1?a.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(D=p.children,a=p.fallback,b?(p=o.mode,b=o.child,D={mode:"hidden",children:D},!(p&1)&&b!==null?(b.childLanes=0,b.pendingProps=D):b=gl(D,p,0,null),a=Ba(a,p,d,null),b.return=o,a.return=o,b.sibling=a,o.child=b,o.child.memoizedState=Of(d),o.memoizedState=If,a):zf(o,D));if(w=a.memoizedState,w!==null&&(U=w.dehydrated,U!==null))return A0(a,o,D,p,U,w,d);if(b){b=p.fallback,D=o.mode,w=a.child,U=w.sibling;var q={mode:"hidden",children:p.children};return!(D&1)&&o.child!==w?(p=o.child,p.childLanes=0,p.pendingProps=q,o.deletions=null):(p=ta(w,q),p.subtreeFlags=w.subtreeFlags&14680064),U!==null?b=ta(U,b):(b=Ba(b,D,d,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,D=a.child.memoizedState,D=D===null?Of(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},b.memoizedState=D,b.childLanes=a.childLanes&~d,o.memoizedState=If,p}return b=a.child,a=b.sibling,p=ta(b,{mode:"visible",children:p.children}),!(o.mode&1)&&(p.lanes=d),p.return=o,p.sibling=null,a!==null&&(d=o.deletions,d===null?(o.deletions=[a],o.flags|=16):d.push(a)),o.child=p,o.memoizedState=null,p}function zf(a,o){return o=gl({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function nl(a,o,d,p){return p!==null&&ff(p),si(o,a.child,null,d),a=zf(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function A0(a,o,d,p,w,b,D){if(d)return o.flags&256?(o.flags&=-257,p=Af(Error(r(422))),nl(a,o,D,p)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(b=p.fallback,w=o.mode,p=gl({mode:"visible",children:p.children},w,0,null),b=Ba(b,w,D,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,o.mode&1&&si(o,a.child,null,D),o.child.memoizedState=Of(D),o.memoizedState=If,b);if(!(o.mode&1))return nl(a,o,D,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var U=p.dgst;return p=U,b=Error(r(419)),p=Af(b,p,void 0),nl(a,o,D,p)}if(U=(D&a.childLanes)!==0,Cr||U){if(p=Ht,p!==null){switch(D&-D){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(p.suspendedLanes|D)?0:w,w!==0&&w!==b.retryLane&&(b.retryLane=w,Cn(a,w),rn(p,a,w,-1))}return Jf(),p=Af(Error(r(421))),nl(a,o,D,p)}return w.data==="$?"?(o.flags|=128,o.child=a.child,o=H0.bind(null,a),w._reactRetry=o,null):(a=b.treeContext,Lr=Hn(w.nextSibling),Ar=o,wt=!0,jr=null,a!==null&&(Vr[Ur++]=Sn,Vr[Ur++]=bn,Vr[Ur++]=Ea,Sn=a.id,bn=a.overflow,Ea=o),o=zf(o,p.children),o.flags|=4096,o)}function dh(a,o,d){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),hf(a.return,o,d)}function Ff(a,o,d,p,w){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:w}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=d,b.tailMode=w)}function vh(a,o,d){var p=o.pendingProps,w=p.revealOrder,b=p.tail;if(yr(a,o,p.children,d),p=Et.current,p&2)p=p&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&dh(a,d,o);else if(a.tag===19)dh(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(dt(Et,p),!(o.mode&1))o.memoizedState=null;else switch(w){case"forwards":for(d=o.child,w=null;d!==null;)a=d.alternate,a!==null&&Qs(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=o.child,o.child=null):(w=d.sibling,d.sibling=null),Ff(o,!1,w,d,b);break;case"backwards":for(d=null,w=o.child,o.child=null;w!==null;){if(a=w.alternate,a!==null&&Qs(a)===null){o.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}Ff(o,!0,d,null,b);break;case"together":Ff(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function al(a,o){!(o.mode&1)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function kn(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),ka|=o.lanes,!(d&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,d=ta(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=ta(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function L0(a,o,d){switch(o.tag){case 3:uh(o),oi();break;case 5:Pv(o);break;case 1:br(o.type)&&Vs(o);break;case 4:yf(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,w=o.memoizedProps.value;dt(qs,p._currentValue),p._currentValue=w;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(dt(Et,Et.current&1),o.flags|=128,null):d&o.child.childLanes?ch(a,o,d):(dt(Et,Et.current&1),a=kn(a,o,d),a!==null?a.sibling:null);dt(Et,Et.current&1);break;case 19:if(p=(d&o.childLanes)!==0,a.flags&128){if(p)return vh(a,o,d);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),dt(Et,Et.current),p)break;return null;case 22:case 23:return o.lanes=0,oh(a,o,d)}return kn(a,o,d)}var hh,_f,ph,gh;hh=function(a,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},_f=function(){},ph=function(a,o,d,p){var w=a.memoizedProps;if(w!==p){a=o.stateNode,Ca(un.current);var b=null;switch(d){case"input":w=Te(a,w),p=Te(a,p),b=[];break;case"select":w=X({},w,{value:void 0}),p=X({},p,{value:void 0}),b=[];break;case"textarea":w=Oe(a,w),p=Oe(a,p),b=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=zs)}Ke(d,p);var D;d=null;for(ie in w)if(!p.hasOwnProperty(ie)&&w.hasOwnProperty(ie)&&w[ie]!=null)if(ie==="style"){var U=w[ie];for(D in U)U.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?b||(b=[]):(b=b||[]).push(ie,null));for(ie in p){var q=p[ie];if(U=w!=null?w[ie]:void 0,p.hasOwnProperty(ie)&&q!==U&&(q!=null||U!=null))if(ie==="style")if(U){for(D in U)!U.hasOwnProperty(D)||q&&q.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in q)q.hasOwnProperty(D)&&U[D]!==q[D]&&(d||(d={}),d[D]=q[D])}else d||(b||(b=[]),b.push(ie,d)),d=q;else ie==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,U=U?U.__html:void 0,q!=null&&U!==q&&(b=b||[]).push(ie,q)):ie==="children"?typeof q!="string"&&typeof q!="number"||(b=b||[]).push(ie,""+q):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(q!=null&&ie==="onScroll"&&pt("scroll",a),b||U===q||(b=[])):(b=b||[]).push(ie,q))}d&&(b=b||[]).push("style",d);var ie=b;(o.updateQueue=ie)&&(o.flags|=4)}},gh=function(a,o,d,p){d!==p&&(o.flags|=4)};function xo(a,o){if(!wt)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function ur(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(o)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=p,a.childLanes=d,o}function M0(a,o,d){var p=o.pendingProps;switch(sf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(o),null;case 1:return br(o.type)&&_s(),ur(o),null;case 3:return p=o.stateNode,fi(),gt(Sr),gt(sr),xf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Hs(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,jr!==null&&(Qf(jr),jr=null))),_f(a,o),ur(o),null;case 5:mf(o);var w=Ca(po.current);if(d=o.type,a!==null&&o.stateNode!=null)ph(a,o,d,p,w),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(r(166));return ur(o),null}if(a=Ca(un.current),Hs(o)){p=o.stateNode,d=o.type;var b=o.memoizedProps;switch(p[ln]=o,p[uo]=b,a=(o.mode&1)!==0,d){case"dialog":pt("cancel",p),pt("close",p);break;case"iframe":case"object":case"embed":pt("load",p);break;case"video":case"audio":for(w=0;w<oo.length;w++)pt(oo[w],p);break;case"source":pt("error",p);break;case"img":case"image":case"link":pt("error",p),pt("load",p);break;case"details":pt("toggle",p);break;case"input":Xe(p,b),pt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},pt("invalid",p);break;case"textarea":$e(p,b),pt("invalid",p)}Ke(d,b),w=null;for(var D in b)if(b.hasOwnProperty(D)){var U=b[D];D==="children"?typeof U=="string"?p.textContent!==U&&(b.suppressHydrationWarning!==!0&&Os(p.textContent,U,a),w=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(b.suppressHydrationWarning!==!0&&Os(p.textContent,U,a),w=["children",""+U]):i.hasOwnProperty(D)&&U!=null&&D==="onScroll"&&pt("scroll",p)}switch(d){case"input":le(p),ke(p,b,!0);break;case"textarea":le(p),Ye(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=zs)}p=w,o.updateQueue=p,p!==null&&(o.flags|=4)}else{D=w.nodeType===9?w:w.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=ve(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=D.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=D.createElement(d,{is:p.is}):(a=D.createElement(d),d==="select"&&(D=a,p.multiple?D.multiple=!0:p.size&&(D.size=p.size))):a=D.createElementNS(a,d),a[ln]=o,a[uo]=p,hh(a,o,!1,!1),o.stateNode=a;e:{switch(D=Re(d,p),d){case"dialog":pt("cancel",a),pt("close",a),w=p;break;case"iframe":case"object":case"embed":pt("load",a),w=p;break;case"video":case"audio":for(w=0;w<oo.length;w++)pt(oo[w],a);w=p;break;case"source":pt("error",a),w=p;break;case"img":case"image":case"link":pt("error",a),pt("load",a),w=p;break;case"details":pt("toggle",a),w=p;break;case"input":Xe(a,p),w=Te(a,p),pt("invalid",a);break;case"option":w=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},w=X({},p,{value:void 0}),pt("invalid",a);break;case"textarea":$e(a,p),w=Oe(a,p),pt("invalid",a);break;default:w=p}Ke(d,w),U=w;for(b in U)if(U.hasOwnProperty(b)){var q=U[b];b==="style"?we(a,q):b==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&fe(a,q)):b==="children"?typeof q=="string"?(d!=="textarea"||q!=="")&&J(a,q):typeof q=="number"&&J(a,""+q):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?q!=null&&b==="onScroll"&&pt("scroll",a):q!=null&&T(a,b,q,D))}switch(d){case"input":le(a),ke(a,p,!1);break;case"textarea":le(a),Ye(a);break;case"option":p.value!=null&&a.setAttribute("value",""+ue(p.value));break;case"select":a.multiple=!!p.multiple,b=p.value,b!=null?Ie(a,!!p.multiple,b,!1):p.defaultValue!=null&&Ie(a,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(a.onclick=zs)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return ur(o),null;case 6:if(a&&o.stateNode!=null)gh(a,o,a.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(d=Ca(po.current),Ca(un.current),Hs(o)){if(p=o.stateNode,d=o.memoizedProps,p[ln]=o,(b=p.nodeValue!==d)&&(a=Ar,a!==null))switch(a.tag){case 3:Os(p.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Os(p.nodeValue,d,(a.mode&1)!==0)}b&&(o.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[ln]=o,o.stateNode=p}return ur(o),null;case 13:if(gt(Et),p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(wt&&Lr!==null&&o.mode&1&&!(o.flags&128))wv(),oi(),o.flags|=98560,b=!1;else if(b=Hs(o),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[ln]=o}else oi(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;ur(o),b=!1}else jr!==null&&(Qf(jr),jr=null),b=!0;if(!b)return o.flags&65536?o:null}return o.flags&128?(o.lanes=d,o):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(o.child.flags|=8192,o.mode&1&&(a===null||Et.current&1?Ot===0&&(Ot=3):Jf())),o.updateQueue!==null&&(o.flags|=4),ur(o),null);case 4:return fi(),_f(a,o),a===null&&so(o.stateNode.containerInfo),ur(o),null;case 10:return vf(o.type._context),ur(o),null;case 17:return br(o.type)&&_s(),ur(o),null;case 19:if(gt(Et),b=o.memoizedState,b===null)return ur(o),null;if(p=(o.flags&128)!==0,D=b.rendering,D===null)if(p)xo(b,!1);else{if(Ot!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(D=Qs(a),D!==null){for(o.flags|=128,xo(b,!1),p=D.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=d,d=o.child;d!==null;)b=d,a=p,b.flags&=14680066,D=b.alternate,D===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=D.childLanes,b.lanes=D.lanes,b.child=D.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=D.memoizedProps,b.memoizedState=D.memoizedState,b.updateQueue=D.updateQueue,b.type=D.type,a=D.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return dt(Et,Et.current&1|2),o.child}a=a.sibling}b.tail!==null&&mt()>hi&&(o.flags|=128,p=!0,xo(b,!1),o.lanes=4194304)}else{if(!p)if(a=Qs(D),a!==null){if(o.flags|=128,p=!0,d=a.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),xo(b,!0),b.tail===null&&b.tailMode==="hidden"&&!D.alternate&&!wt)return ur(o),null}else 2*mt()-b.renderingStartTime>hi&&d!==1073741824&&(o.flags|=128,p=!0,xo(b,!1),o.lanes=4194304);b.isBackwards?(D.sibling=o.child,o.child=D):(d=b.last,d!==null?d.sibling=D:o.child=D,b.last=D)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=mt(),o.sibling=null,d=Et.current,dt(Et,p?d&1|2:d&1),o):(ur(o),null);case 22:case 23:return jf(),p=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(o.flags|=8192),p&&o.mode&1?Mr&1073741824&&(ur(o),o.subtreeFlags&6&&(o.flags|=8192)):ur(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function N0(a,o){switch(sf(o),o.tag){case 1:return br(o.type)&&_s(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return fi(),gt(Sr),gt(sr),xf(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 5:return mf(o),null;case 13:if(gt(Et),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));oi()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return gt(Et),null;case 4:return fi(),null;case 10:return vf(o.type._context),null;case 22:case 23:return jf(),null;case 24:return null;default:return null}}var il=!1,fr=!1,I0=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function di(a,o){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){kt(a,o,p)}else d.current=null}function Vf(a,o,d){try{d()}catch(p){kt(a,o,p)}}var yh=!1;function O0(a,o){if(Zu=Ts,a=Yd(),Wu(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var w=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var D=0,U=-1,q=-1,ie=0,ge=0,ye=a,he=null;t:for(;;){for(var be;ye!==d||w!==0&&ye.nodeType!==3||(U=D+w),ye!==b||p!==0&&ye.nodeType!==3||(q=D+p),ye.nodeType===3&&(D+=ye.nodeValue.length),(be=ye.firstChild)!==null;)he=ye,ye=be;for(;;){if(ye===a)break t;if(he===d&&++ie===w&&(U=D),he===b&&++ge===p&&(q=D),(be=ye.nextSibling)!==null)break;ye=he,he=ye.parentNode}ye=be}d=U===-1||q===-1?null:{start:U,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(ju={focusedElem:a,selectionRange:d},Ts=!1,Pe=o;Pe!==null;)if(o=Pe,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Pe=a;else for(;Pe!==null;){o=Pe;try{var Be=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Ae=Be.memoizedProps,At=Be.memoizedState,ee=o.stateNode,Y=ee.getSnapshotBeforeUpdate(o.elementType===o.type?Ae:Jr(o.type,Ae),At);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var re=o.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(me){kt(o,o.return,me)}if(a=o.sibling,a!==null){a.return=o.return,Pe=a;break}Pe=o.return}return Be=yh,yh=!1,Be}function Eo(a,o,d){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&a)===a){var b=w.destroy;w.destroy=void 0,b!==void 0&&Vf(o,d,b)}w=w.next}while(w!==p)}}function ol(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&a)===a){var p=d.create;d.destroy=p()}d=d.next}while(d!==o)}}function Uf(a){var o=a.ref;if(o!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof o=="function"?o(a):o.current=a}}function mh(a){var o=a.alternate;o!==null&&(a.alternate=null,mh(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[ln],delete o[uo],delete o[rf],delete o[m0],delete o[w0])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function wh(a){return a.tag===5||a.tag===3||a.tag===4}function xh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||wh(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function $f(a,o,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(a,o):d.insertBefore(a,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(a,d)):(o=d,o.appendChild(a)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=zs));else if(p!==4&&(a=a.child,a!==null))for($f(a,o,d),a=a.sibling;a!==null;)$f(a,o,d),a=a.sibling}function Wf(a,o,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(Wf(a,o,d),a=a.sibling;a!==null;)Wf(a,o,d),a=a.sibling}var Yt=null,en=!1;function Qn(a,o,d){for(d=d.child;d!==null;)Eh(a,o,d),d=d.sibling}function Eh(a,o,d){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(or,d)}catch{}switch(d.tag){case 5:fr||di(d,o);case 6:var p=Yt,w=en;Yt=null,Qn(a,o,d),Yt=p,en=w,Yt!==null&&(en?(a=Yt,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):Yt.removeChild(d.stateNode));break;case 18:Yt!==null&&(en?(a=Yt,d=d.stateNode,a.nodeType===8?tf(a.parentNode,d):a.nodeType===1&&tf(a,d),ji(a)):tf(Yt,d.stateNode));break;case 4:p=Yt,w=en,Yt=d.stateNode.containerInfo,en=!0,Qn(a,o,d),Yt=p,en=w;break;case 0:case 11:case 14:case 15:if(!fr&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var b=w,D=b.destroy;b=b.tag,D!==void 0&&(b&2||b&4)&&Vf(d,o,D),w=w.next}while(w!==p)}Qn(a,o,d);break;case 1:if(!fr&&(di(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(U){kt(d,o,U)}Qn(a,o,d);break;case 21:Qn(a,o,d);break;case 22:d.mode&1?(fr=(p=fr)||d.memoizedState!==null,Qn(a,o,d),fr=p):Qn(a,o,d);break;default:Qn(a,o,d)}}function Sh(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new I0),o.forEach(function(p){var w=K0.bind(null,a,p);d.has(p)||(d.add(p),p.then(w,w))})}}function tn(a,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var w=d[p];try{var b=a,D=o,U=D;e:for(;U!==null;){switch(U.tag){case 5:Yt=U.stateNode,en=!1;break e;case 3:Yt=U.stateNode.containerInfo,en=!0;break e;case 4:Yt=U.stateNode.containerInfo,en=!0;break e}U=U.return}if(Yt===null)throw Error(r(160));Eh(b,D,w),Yt=null,en=!1;var q=w.alternate;q!==null&&(q.return=null),w.return=null}catch(ie){kt(w,o,ie)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)bh(o,a),o=o.sibling}function bh(a,o){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(tn(o,a),cn(a),p&4){try{Eo(3,a,a.return),ol(3,a)}catch(Ae){kt(a,a.return,Ae)}try{Eo(5,a,a.return)}catch(Ae){kt(a,a.return,Ae)}}break;case 1:tn(o,a),cn(a),p&512&&d!==null&&di(d,d.return);break;case 5:if(tn(o,a),cn(a),p&512&&d!==null&&di(d,d.return),a.flags&32){var w=a.stateNode;try{J(w,"")}catch(Ae){kt(a,a.return,Ae)}}if(p&4&&(w=a.stateNode,w!=null)){var b=a.memoizedProps,D=d!==null?d.memoizedProps:b,U=a.type,q=a.updateQueue;if(a.updateQueue=null,q!==null)try{U==="input"&&b.type==="radio"&&b.name!=null&&nt(w,b),Re(U,D);var ie=Re(U,b);for(D=0;D<q.length;D+=2){var ge=q[D],ye=q[D+1];ge==="style"?we(w,ye):ge==="dangerouslySetInnerHTML"?fe(w,ye):ge==="children"?J(w,ye):T(w,ge,ye,ie)}switch(U){case"input":je(w,b);break;case"textarea":Ge(w,b);break;case"select":var he=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!b.multiple;var be=b.value;be!=null?Ie(w,!!b.multiple,be,!1):he!==!!b.multiple&&(b.defaultValue!=null?Ie(w,!!b.multiple,b.defaultValue,!0):Ie(w,!!b.multiple,b.multiple?[]:"",!1))}w[uo]=b}catch(Ae){kt(a,a.return,Ae)}}break;case 6:if(tn(o,a),cn(a),p&4){if(a.stateNode===null)throw Error(r(162));w=a.stateNode,b=a.memoizedProps;try{w.nodeValue=b}catch(Ae){kt(a,a.return,Ae)}}break;case 3:if(tn(o,a),cn(a),p&4&&d!==null&&d.memoizedState.isDehydrated)try{ji(o.containerInfo)}catch(Ae){kt(a,a.return,Ae)}break;case 4:tn(o,a),cn(a);break;case 13:tn(o,a),cn(a),w=a.child,w.flags&8192&&(b=w.memoizedState!==null,w.stateNode.isHidden=b,!b||w.alternate!==null&&w.alternate.memoizedState!==null||(qf=mt())),p&4&&Sh(a);break;case 22:if(ge=d!==null&&d.memoizedState!==null,a.mode&1?(fr=(ie=fr)||ge,tn(o,a),fr=ie):tn(o,a),cn(a),p&8192){if(ie=a.memoizedState!==null,(a.stateNode.isHidden=ie)&&!ge&&a.mode&1)for(Pe=a,ge=a.child;ge!==null;){for(ye=Pe=ge;Pe!==null;){switch(he=Pe,be=he.child,he.tag){case 0:case 11:case 14:case 15:Eo(4,he,he.return);break;case 1:di(he,he.return);var Be=he.stateNode;if(typeof Be.componentWillUnmount=="function"){p=he,d=he.return;try{o=p,Be.props=o.memoizedProps,Be.state=o.memoizedState,Be.componentWillUnmount()}catch(Ae){kt(p,d,Ae)}}break;case 5:di(he,he.return);break;case 22:if(he.memoizedState!==null){kh(ye);continue}}be!==null?(be.return=he,Pe=be):kh(ye)}ge=ge.sibling}e:for(ge=null,ye=a;;){if(ye.tag===5){if(ge===null){ge=ye;try{w=ye.stateNode,ie?(b=w.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(U=ye.stateNode,q=ye.memoizedProps.style,D=q!=null&&q.hasOwnProperty("display")?q.display:null,U.style.display=de("display",D))}catch(Ae){kt(a,a.return,Ae)}}}else if(ye.tag===6){if(ge===null)try{ye.stateNode.nodeValue=ie?"":ye.memoizedProps}catch(Ae){kt(a,a.return,Ae)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===a)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===a)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===a)break e;ge===ye&&(ge=null),ye=ye.return}ge===ye&&(ge=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:tn(o,a),cn(a),p&4&&Sh(a);break;case 21:break;default:tn(o,a),cn(a)}}function cn(a){var o=a.flags;if(o&2){try{e:{for(var d=a.return;d!==null;){if(wh(d)){var p=d;break e}d=d.return}throw Error(r(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(J(w,""),p.flags&=-33);var b=xh(a);Wf(a,b,w);break;case 3:case 4:var D=p.stateNode.containerInfo,U=xh(a);$f(a,U,D);break;default:throw Error(r(161))}}catch(q){kt(a,a.return,q)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function z0(a,o,d){Pe=a,Ch(a)}function Ch(a,o,d){for(var p=(a.mode&1)!==0;Pe!==null;){var w=Pe,b=w.child;if(w.tag===22&&p){var D=w.memoizedState!==null||il;if(!D){var U=w.alternate,q=U!==null&&U.memoizedState!==null||fr;U=il;var ie=fr;if(il=D,(fr=q)&&!ie)for(Pe=w;Pe!==null;)D=Pe,q=D.child,D.tag===22&&D.memoizedState!==null?Ph(w):q!==null?(q.return=D,Pe=q):Ph(w);for(;b!==null;)Pe=b,Ch(b),b=b.sibling;Pe=w,il=U,fr=ie}Th(a)}else w.subtreeFlags&8772&&b!==null?(b.return=w,Pe=b):Th(a)}}function Th(a){for(;Pe!==null;){var o=Pe;if(o.flags&8772){var d=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:fr||ol(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!fr)if(d===null)p.componentDidMount();else{var w=o.elementType===o.type?d.memoizedProps:Jr(o.type,d.memoizedProps);p.componentDidUpdate(w,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&kv(o,b,p);break;case 3:var D=o.updateQueue;if(D!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}kv(o,D,d)}break;case 5:var U=o.stateNode;if(d===null&&o.flags&4){d=U;var q=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&d.focus();break;case"img":q.src&&(d.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ie=o.alternate;if(ie!==null){var ge=ie.memoizedState;if(ge!==null){var ye=ge.dehydrated;ye!==null&&ji(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}fr||o.flags&512&&Uf(o)}catch(he){kt(o,o.return,he)}}if(o===a){Pe=null;break}if(d=o.sibling,d!==null){d.return=o.return,Pe=d;break}Pe=o.return}}function kh(a){for(;Pe!==null;){var o=Pe;if(o===a){Pe=null;break}var d=o.sibling;if(d!==null){d.return=o.return,Pe=d;break}Pe=o.return}}function Ph(a){for(;Pe!==null;){var o=Pe;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{ol(4,o)}catch(q){kt(o,d,q)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var w=o.return;try{p.componentDidMount()}catch(q){kt(o,w,q)}}var b=o.return;try{Uf(o)}catch(q){kt(o,b,q)}break;case 5:var D=o.return;try{Uf(o)}catch(q){kt(o,D,q)}}}catch(q){kt(o,o.return,q)}if(o===a){Pe=null;break}var U=o.sibling;if(U!==null){U.return=o.return,Pe=U;break}Pe=o.return}}var F0=Math.ceil,sl=k.ReactCurrentDispatcher,Hf=k.ReactCurrentOwner,Hr=k.ReactCurrentBatchConfig,et=0,Ht=null,Mt=null,Qt=0,Mr=0,vi=Kn(0),Ot=0,So=null,ka=0,ll=0,Kf=0,bo=null,Tr=null,qf=0,hi=1/0,Pn=null,ul=!1,Gf=null,Zn=null,fl=!1,jn=null,cl=0,Co=0,Xf=null,dl=-1,vl=0;function mr(){return et&6?mt():dl!==-1?dl:dl=mt()}function Jn(a){return a.mode&1?et&2&&Qt!==0?Qt&-Qt:E0.transition!==null?(vl===0&&(vl=xd()),vl):(a=ut,a!==0||(a=window.event,a=a===void 0?16:Rd(a.type)),a):1}function rn(a,o,d,p){if(50<Co)throw Co=0,Xf=null,Error(r(185));Gi(a,d,p),(!(et&2)||a!==Ht)&&(a===Ht&&(!(et&2)&&(ll|=d),Ot===4&&ea(a,Qt)),kr(a,p),d===1&&et===0&&!(o.mode&1)&&(hi=mt()+500,Us&&Gn()))}function kr(a,o){var d=a.callbackNode;Em(a,o);var p=Ss(a,a===Ht?Qt:0);if(p===0)d!==null&&In(d),a.callbackNode=null,a.callbackPriority=0;else if(o=p&-p,a.callbackPriority!==o){if(d!=null&&In(d),o===1)a.tag===0?x0(Rh.bind(null,a)):hv(Rh.bind(null,a)),g0(function(){!(et&6)&&Gn()}),d=null;else{switch(Ed(p)){case 1:d=Ki;break;case 4:d=Er;break;case 16:d=On;break;case 536870912:d=zn;break;default:d=On}d=zh(d,Dh.bind(null,a))}a.callbackPriority=o,a.callbackNode=d}}function Dh(a,o){if(dl=-1,vl=0,et&6)throw Error(r(327));var d=a.callbackNode;if(pi()&&a.callbackNode!==d)return null;var p=Ss(a,a===Ht?Qt:0);if(p===0)return null;if(p&30||p&a.expiredLanes||o)o=hl(a,p);else{o=p;var w=et;et|=2;var b=Ah();(Ht!==a||Qt!==o)&&(Pn=null,hi=mt()+500,Da(a,o));do try{U0();break}catch(U){Bh(a,U)}while(!0);df(),sl.current=b,et=w,Mt!==null?o=0:(Ht=null,Qt=0,o=Ot)}if(o!==0){if(o===2&&(w=Pu(a),w!==0&&(p=w,o=Yf(a,w))),o===1)throw d=So,Da(a,0),ea(a,p),kr(a,mt()),d;if(o===6)ea(a,p);else{if(w=a.current.alternate,!(p&30)&&!_0(w)&&(o=hl(a,p),o===2&&(b=Pu(a),b!==0&&(p=b,o=Yf(a,b))),o===1))throw d=So,Da(a,0),ea(a,p),kr(a,mt()),d;switch(a.finishedWork=w,a.finishedLanes=p,o){case 0:case 1:throw Error(r(345));case 2:Ra(a,Tr,Pn);break;case 3:if(ea(a,p),(p&130023424)===p&&(o=qf+500-mt(),10<o)){if(Ss(a,0)!==0)break;if(w=a.suspendedLanes,(w&p)!==p){mr(),a.pingedLanes|=a.suspendedLanes&w;break}a.timeoutHandle=ef(Ra.bind(null,a,Tr,Pn),o);break}Ra(a,Tr,Pn);break;case 4:if(ea(a,p),(p&4194240)===p)break;for(o=a.eventTimes,w=-1;0<p;){var D=31-Qr(p);b=1<<D,D=o[D],D>w&&(w=D),p&=~b}if(p=w,p=mt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*F0(p/1960))-p,10<p){a.timeoutHandle=ef(Ra.bind(null,a,Tr,Pn),p);break}Ra(a,Tr,Pn);break;case 5:Ra(a,Tr,Pn);break;default:throw Error(r(329))}}}return kr(a,mt()),a.callbackNode===d?Dh.bind(null,a):null}function Yf(a,o){var d=bo;return a.current.memoizedState.isDehydrated&&(Da(a,o).flags|=256),a=hl(a,o),a!==2&&(o=Tr,Tr=d,o!==null&&Qf(o)),a}function Qf(a){Tr===null?Tr=a:Tr.push.apply(Tr,a)}function _0(a){for(var o=a;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var w=d[p],b=w.getSnapshot;w=w.value;try{if(!Zr(b(),w))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ea(a,o){for(o&=~Kf,o&=~ll,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var d=31-Qr(o),p=1<<d;a[d]=-1,o&=~p}}function Rh(a){if(et&6)throw Error(r(327));pi();var o=Ss(a,0);if(!(o&1))return kr(a,mt()),null;var d=hl(a,o);if(a.tag!==0&&d===2){var p=Pu(a);p!==0&&(o=p,d=Yf(a,p))}if(d===1)throw d=So,Da(a,0),ea(a,o),kr(a,mt()),d;if(d===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Ra(a,Tr,Pn),kr(a,mt()),null}function Zf(a,o){var d=et;et|=1;try{return a(o)}finally{et=d,et===0&&(hi=mt()+500,Us&&Gn())}}function Pa(a){jn!==null&&jn.tag===0&&!(et&6)&&pi();var o=et;et|=1;var d=Hr.transition,p=ut;try{if(Hr.transition=null,ut=1,a)return a()}finally{ut=p,Hr.transition=d,et=o,!(et&6)&&Gn()}}function jf(){Mr=vi.current,gt(vi)}function Da(a,o){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,p0(d)),Mt!==null)for(d=Mt.return;d!==null;){var p=d;switch(sf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&_s();break;case 3:fi(),gt(Sr),gt(sr),xf();break;case 5:mf(p);break;case 4:fi();break;case 13:gt(Et);break;case 19:gt(Et);break;case 10:vf(p.type._context);break;case 22:case 23:jf()}d=d.return}if(Ht=a,Mt=a=ta(a.current,null),Qt=Mr=o,Ot=0,So=null,Kf=ll=ka=0,Tr=bo=null,ba!==null){for(o=0;o<ba.length;o++)if(d=ba[o],p=d.interleaved,p!==null){d.interleaved=null;var w=p.next,b=d.pending;if(b!==null){var D=b.next;b.next=w,p.next=D}d.pending=p}ba=null}return a}function Bh(a,o){do{var d=Mt;try{if(df(),Zs.current=tl,js){for(var p=St.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}js=!1}if(Ta=0,Wt=It=St=null,go=!1,yo=0,Hf.current=null,d===null||d.return===null){Ot=1,So=o,Mt=null;break}e:{var b=a,D=d.return,U=d,q=o;if(o=Qt,U.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ie=q,ge=U,ye=ge.tag;if(!(ge.mode&1)&&(ye===0||ye===11||ye===15)){var he=ge.alternate;he?(ge.updateQueue=he.updateQueue,ge.memoizedState=he.memoizedState,ge.lanes=he.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var be=th(D);if(be!==null){be.flags&=-257,rh(be,D,U,b,o),be.mode&1&&eh(b,ie,o),o=be,q=ie;var Be=o.updateQueue;if(Be===null){var Ae=new Set;Ae.add(q),o.updateQueue=Ae}else Be.add(q);break e}else{if(!(o&1)){eh(b,ie,o),Jf();break e}q=Error(r(426))}}else if(wt&&U.mode&1){var At=th(D);if(At!==null){!(At.flags&65536)&&(At.flags|=256),rh(At,D,U,b,o),ff(ci(q,U));break e}}b=q=ci(q,U),Ot!==4&&(Ot=2),bo===null?bo=[b]:bo.push(b),b=D;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var ee=jv(b,q,o);Tv(b,ee);break e;case 1:U=q;var Y=b.type,re=b.stateNode;if(!(b.flags&128)&&(typeof Y.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Zn===null||!Zn.has(re)))){b.flags|=65536,o&=-o,b.lanes|=o;var me=Jv(b,U,o);Tv(b,me);break e}}b=b.return}while(b!==null)}Mh(d)}catch(Le){o=Le,Mt===d&&d!==null&&(Mt=d=d.return);continue}break}while(!0)}function Ah(){var a=sl.current;return sl.current=tl,a===null?tl:a}function Jf(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ht===null||!(ka&268435455)&&!(ll&268435455)||ea(Ht,Qt)}function hl(a,o){var d=et;et|=2;var p=Ah();(Ht!==a||Qt!==o)&&(Pn=null,Da(a,o));do try{V0();break}catch(w){Bh(a,w)}while(!0);if(df(),et=d,sl.current=p,Mt!==null)throw Error(r(261));return Ht=null,Qt=0,Ot}function V0(){for(;Mt!==null;)Lh(Mt)}function U0(){for(;Mt!==null&&!Hi();)Lh(Mt)}function Lh(a){var o=Oh(a.alternate,a,Mr);a.memoizedProps=a.pendingProps,o===null?Mh(a):Mt=o,Hf.current=null}function Mh(a){var o=a;do{var d=o.alternate;if(a=o.return,o.flags&32768){if(d=N0(d,o),d!==null){d.flags&=32767,Mt=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Ot=6,Mt=null;return}}else if(d=M0(d,o,Mr),d!==null){Mt=d;return}if(o=o.sibling,o!==null){Mt=o;return}Mt=o=a}while(o!==null);Ot===0&&(Ot=5)}function Ra(a,o,d){var p=ut,w=Hr.transition;try{Hr.transition=null,ut=1,$0(a,o,d,p)}finally{Hr.transition=w,ut=p}return null}function $0(a,o,d,p){do pi();while(jn!==null);if(et&6)throw Error(r(327));d=a.finishedWork;var w=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var b=d.lanes|d.childLanes;if(Sm(a,b),a===Ht&&(Mt=Ht=null,Qt=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||fl||(fl=!0,zh(On,function(){return pi(),null})),b=(d.flags&15990)!==0,d.subtreeFlags&15990||b){b=Hr.transition,Hr.transition=null;var D=ut;ut=1;var U=et;et|=4,Hf.current=null,O0(a,d),bh(d,a),l0(ju),Ts=!!Zu,ju=Zu=null,a.current=d,z0(d),Ga(),et=U,ut=D,Hr.transition=b}else a.current=d;if(fl&&(fl=!1,jn=a,cl=w),b=a.pendingLanes,b===0&&(Zn=null),gm(d.stateNode),kr(a,mt()),o!==null)for(p=a.onRecoverableError,d=0;d<o.length;d++)w=o[d],p(w.value,{componentStack:w.stack,digest:w.digest});if(ul)throw ul=!1,a=Gf,Gf=null,a;return cl&1&&a.tag!==0&&pi(),b=a.pendingLanes,b&1?a===Xf?Co++:(Co=0,Xf=a):Co=0,Gn(),null}function pi(){if(jn!==null){var a=Ed(cl),o=Hr.transition,d=ut;try{if(Hr.transition=null,ut=16>a?16:a,jn===null)var p=!1;else{if(a=jn,jn=null,cl=0,et&6)throw Error(r(331));var w=et;for(et|=4,Pe=a.current;Pe!==null;){var b=Pe,D=b.child;if(Pe.flags&16){var U=b.deletions;if(U!==null){for(var q=0;q<U.length;q++){var ie=U[q];for(Pe=ie;Pe!==null;){var ge=Pe;switch(ge.tag){case 0:case 11:case 15:Eo(8,ge,b)}var ye=ge.child;if(ye!==null)ye.return=ge,Pe=ye;else for(;Pe!==null;){ge=Pe;var he=ge.sibling,be=ge.return;if(mh(ge),ge===ie){Pe=null;break}if(he!==null){he.return=be,Pe=he;break}Pe=be}}}var Be=b.alternate;if(Be!==null){var Ae=Be.child;if(Ae!==null){Be.child=null;do{var At=Ae.sibling;Ae.sibling=null,Ae=At}while(Ae!==null)}}Pe=b}}if(b.subtreeFlags&2064&&D!==null)D.return=b,Pe=D;else e:for(;Pe!==null;){if(b=Pe,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Eo(9,b,b.return)}var ee=b.sibling;if(ee!==null){ee.return=b.return,Pe=ee;break e}Pe=b.return}}var Y=a.current;for(Pe=Y;Pe!==null;){D=Pe;var re=D.child;if(D.subtreeFlags&2064&&re!==null)re.return=D,Pe=re;else e:for(D=Y;Pe!==null;){if(U=Pe,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:ol(9,U)}}catch(Le){kt(U,U.return,Le)}if(U===D){Pe=null;break e}var me=U.sibling;if(me!==null){me.return=U.return,Pe=me;break e}Pe=U.return}}if(et=w,Gn(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(or,a)}catch{}p=!0}return p}finally{ut=d,Hr.transition=o}}return!1}function Nh(a,o,d){o=ci(d,o),o=jv(a,o,1),a=Yn(a,o,1),o=mr(),a!==null&&(Gi(a,1,o),kr(a,o))}function kt(a,o,d){if(a.tag===3)Nh(a,a,d);else for(;o!==null;){if(o.tag===3){Nh(o,a,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Zn===null||!Zn.has(p))){a=ci(d,a),a=Jv(o,a,1),o=Yn(o,a,1),a=mr(),o!==null&&(Gi(o,1,a),kr(o,a));break}}o=o.return}}function W0(a,o,d){var p=a.pingCache;p!==null&&p.delete(o),o=mr(),a.pingedLanes|=a.suspendedLanes&d,Ht===a&&(Qt&d)===d&&(Ot===4||Ot===3&&(Qt&130023424)===Qt&&500>mt()-qf?Da(a,0):Kf|=d),kr(a,o)}function Ih(a,o){o===0&&(a.mode&1?(o=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):o=1);var d=mr();a=Cn(a,o),a!==null&&(Gi(a,o,d),kr(a,d))}function H0(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),Ih(a,d)}function K0(a,o){var d=0;switch(a.tag){case 13:var p=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(o),Ih(a,d)}var Oh;Oh=function(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps||Sr.current)Cr=!0;else{if(!(a.lanes&d)&&!(o.flags&128))return Cr=!1,L0(a,o,d);Cr=!!(a.flags&131072)}else Cr=!1,wt&&o.flags&1048576&&pv(o,Ws,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;al(a,o),a=o.pendingProps;var w=ni(o,sr.current);ui(o,d),w=bf(null,o,p,a,w,d);var b=Cf();return o.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,br(p)?(b=!0,Vs(o)):b=!1,o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,gf(o),w.updater=rl,o.stateNode=w,w._reactInternals=o,Bf(o,p,a,d),o=Nf(null,o,p,!0,b,d)):(o.tag=0,wt&&b&&of(o),yr(null,o,w,d),o=o.child),o;case 16:p=o.elementType;e:{switch(al(a,o),a=o.pendingProps,w=p._init,p=w(p._payload),o.type=p,w=o.tag=G0(p),a=Jr(p,a),w){case 0:o=Mf(null,o,p,a,d);break e;case 1:o=lh(null,o,p,a,d);break e;case 11:o=nh(null,o,p,a,d);break e;case 14:o=ah(null,o,p,Jr(p.type,a),d);break e}throw Error(r(306,p,""))}return o;case 0:return p=o.type,w=o.pendingProps,w=o.elementType===p?w:Jr(p,w),Mf(a,o,p,w,d);case 1:return p=o.type,w=o.pendingProps,w=o.elementType===p?w:Jr(p,w),lh(a,o,p,w,d);case 3:e:{if(uh(o),a===null)throw Error(r(387));p=o.pendingProps,b=o.memoizedState,w=b.element,Cv(a,o),Ys(o,p,null,d);var D=o.memoizedState;if(p=D.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){w=ci(Error(r(423)),o),o=fh(a,o,p,d,w);break e}else if(p!==w){w=ci(Error(r(424)),o),o=fh(a,o,p,d,w);break e}else for(Lr=Hn(o.stateNode.containerInfo.firstChild),Ar=o,wt=!0,jr=null,d=Sv(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(oi(),p===w){o=kn(a,o,d);break e}yr(a,o,p,d)}o=o.child}return o;case 5:return Pv(o),a===null&&uf(o),p=o.type,w=o.pendingProps,b=a!==null?a.memoizedProps:null,D=w.children,Ju(p,w)?D=null:b!==null&&Ju(p,b)&&(o.flags|=32),sh(a,o),yr(a,o,D,d),o.child;case 6:return a===null&&uf(o),null;case 13:return ch(a,o,d);case 4:return yf(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=si(o,null,p,d):yr(a,o,p,d),o.child;case 11:return p=o.type,w=o.pendingProps,w=o.elementType===p?w:Jr(p,w),nh(a,o,p,w,d);case 7:return yr(a,o,o.pendingProps,d),o.child;case 8:return yr(a,o,o.pendingProps.children,d),o.child;case 12:return yr(a,o,o.pendingProps.children,d),o.child;case 10:e:{if(p=o.type._context,w=o.pendingProps,b=o.memoizedProps,D=w.value,dt(qs,p._currentValue),p._currentValue=D,b!==null)if(Zr(b.value,D)){if(b.children===w.children&&!Sr.current){o=kn(a,o,d);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var U=b.dependencies;if(U!==null){D=b.child;for(var q=U.firstContext;q!==null;){if(q.context===p){if(b.tag===1){q=Tn(-1,d&-d),q.tag=2;var ie=b.updateQueue;if(ie!==null){ie=ie.shared;var ge=ie.pending;ge===null?q.next=q:(q.next=ge.next,ge.next=q),ie.pending=q}}b.lanes|=d,q=b.alternate,q!==null&&(q.lanes|=d),hf(b.return,d,o),U.lanes|=d;break}q=q.next}}else if(b.tag===10)D=b.type===o.type?null:b.child;else if(b.tag===18){if(D=b.return,D===null)throw Error(r(341));D.lanes|=d,U=D.alternate,U!==null&&(U.lanes|=d),hf(D,d,o),D=b.sibling}else D=b.child;if(D!==null)D.return=b;else for(D=b;D!==null;){if(D===o){D=null;break}if(b=D.sibling,b!==null){b.return=D.return,D=b;break}D=D.return}b=D}yr(a,o,w.children,d),o=o.child}return o;case 9:return w=o.type,p=o.pendingProps.children,ui(o,d),w=$r(w),p=p(w),o.flags|=1,yr(a,o,p,d),o.child;case 14:return p=o.type,w=Jr(p,o.pendingProps),w=Jr(p.type,w),ah(a,o,p,w,d);case 15:return ih(a,o,o.type,o.pendingProps,d);case 17:return p=o.type,w=o.pendingProps,w=o.elementType===p?w:Jr(p,w),al(a,o),o.tag=1,br(p)?(a=!0,Vs(o)):a=!1,ui(o,d),Qv(o,p,w),Bf(o,p,w,d),Nf(null,o,p,!0,a,d);case 19:return vh(a,o,d);case 22:return oh(a,o,d)}throw Error(r(156,o.tag))};function zh(a,o){return ys(a,o)}function q0(a,o,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(a,o,d,p){return new q0(a,o,d,p)}function ec(a){return a=a.prototype,!(!a||!a.isReactComponent)}function G0(a){if(typeof a=="function")return ec(a)?1:0;if(a!=null){if(a=a.$$typeof,a===N)return 11;if(a===K)return 14}return 2}function ta(a,o){var d=a.alternate;return d===null?(d=Kr(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function pl(a,o,d,p,w,b){var D=2;if(p=a,typeof a=="function")ec(a)&&(D=1);else if(typeof a=="string")D=5;else e:switch(a){case P:return Ba(d.children,w,b,o);case L:D=8,w|=8;break;case A:return a=Kr(12,d,o,w|2),a.elementType=A,a.lanes=b,a;case _:return a=Kr(13,d,o,w),a.elementType=_,a.lanes=b,a;case F:return a=Kr(19,d,o,w),a.elementType=F,a.lanes=b,a;case H:return gl(d,w,b,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case z:D=10;break e;case O:D=9;break e;case N:D=11;break e;case K:D=14;break e;case W:D=16,p=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return o=Kr(D,d,o,w),o.elementType=a,o.type=p,o.lanes=b,o}function Ba(a,o,d,p){return a=Kr(7,a,p,o),a.lanes=d,a}function gl(a,o,d,p){return a=Kr(22,a,p,o),a.elementType=H,a.lanes=d,a.stateNode={isHidden:!1},a}function tc(a,o,d){return a=Kr(6,a,null,o),a.lanes=d,a}function rc(a,o,d){return o=Kr(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function X0(a,o,d,p,w){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Du(0),this.expirationTimes=Du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Du(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function nc(a,o,d,p,w,b,D,U,q){return a=new X0(a,o,d,U,q),o===1?(o=1,b===!0&&(o|=8)):o=0,b=Kr(3,null,null,o),a.current=b,b.stateNode=a,b.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},gf(b),a}function Y0(a,o,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:p==null?null:""+p,children:a,containerInfo:o,implementation:d}}function Fh(a){if(!a)return qn;a=a._reactInternals;e:{if(wn(a)!==a||a.tag!==1)throw Error(r(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(br(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(a.tag===1){var d=a.type;if(br(d))return dv(a,d,o)}return o}function _h(a,o,d,p,w,b,D,U,q){return a=nc(d,p,!0,a,w,b,D,U,q),a.context=Fh(null),d=a.current,p=mr(),w=Jn(d),b=Tn(p,w),b.callback=o??null,Yn(d,b,w),a.current.lanes=w,Gi(a,w,p),kr(a,p),a}function yl(a,o,d,p){var w=o.current,b=mr(),D=Jn(w);return d=Fh(d),o.context===null?o.context=d:o.pendingContext=d,o=Tn(b,D),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=Yn(w,o,D),a!==null&&(rn(a,w,D,b),Xs(a,w,D)),D}function ml(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Vh(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function ac(a,o){Vh(a,o),(a=a.alternate)&&Vh(a,o)}var Uh=typeof reportError=="function"?reportError:function(a){console.error(a)};function ic(a){this._internalRoot=a}wl.prototype.render=ic.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));yl(a,o,null,null)},wl.prototype.unmount=ic.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Pa(function(){yl(null,a,null,null)}),o[xn]=null}};function wl(a){this._internalRoot=a}wl.prototype.unstable_scheduleHydration=function(a){if(a){var o=Cd();a={blockedOn:null,target:a,priority:o};for(var d=0;d<Un.length&&o!==0&&o<Un[d].priority;d++);Un.splice(d,0,a),d===0&&Pd(a)}};function oc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function xl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function $h(){}function Q0(a,o,d,p,w){if(w){if(typeof p=="function"){var b=p;p=function(){var ie=ml(D);b.call(ie)}}var D=_h(o,p,a,0,null,!1,!1,"",$h);return a._reactRootContainer=D,a[xn]=D.current,so(a.nodeType===8?a.parentNode:a),Pa(),D}for(;w=a.lastChild;)a.removeChild(w);if(typeof p=="function"){var U=p;p=function(){var ie=ml(q);U.call(ie)}}var q=nc(a,0,!1,null,null,!1,!1,"",$h);return a._reactRootContainer=q,a[xn]=q.current,so(a.nodeType===8?a.parentNode:a),Pa(function(){yl(o,q,d,p)}),q}function El(a,o,d,p,w){var b=d._reactRootContainer;if(b){var D=b;if(typeof w=="function"){var U=w;w=function(){var q=ml(D);U.call(q)}}yl(o,D,a,w)}else D=Q0(d,o,a,w,p);return ml(D)}Sd=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var d=qi(o.pendingLanes);d!==0&&(Ru(o,d|1),kr(o,mt()),!(et&6)&&(hi=mt()+500,Gn()))}break;case 13:Pa(function(){var p=Cn(a,1);if(p!==null){var w=mr();rn(p,a,1,w)}}),ac(a,1)}},Bu=function(a){if(a.tag===13){var o=Cn(a,134217728);if(o!==null){var d=mr();rn(o,a,134217728,d)}ac(a,134217728)}},bd=function(a){if(a.tag===13){var o=Jn(a),d=Cn(a,o);if(d!==null){var p=mr();rn(d,a,o,p)}ac(a,o)}},Cd=function(){return ut},Td=function(a,o){var d=ut;try{return ut=a,o()}finally{ut=d}},Fe=function(a,o,d){switch(o){case"input":if(je(a,d),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==a&&p.form===a.form){var w=Fs(p);if(!w)throw Error(r(90));pe(p),je(p,w)}}}break;case"textarea":Ge(a,d);break;case"select":o=d.value,o!=null&&Ie(a,!!d.multiple,o,!1)}},Dt=Zf,Rt=Pa;var Z0={usingClientEntryPoint:!1,Events:[fo,ti,Fs,rr,Tt,Zf]},To={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j0={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=ps(a),a===null?null:a.stateNode},findFiberByHostInstance:To.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{or=Sl.inject(j0),_r=Sl}catch{}}return Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z0,Pr.createPortal=function(a,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oc(o))throw Error(r(200));return Y0(a,o,null,d)},Pr.createRoot=function(a,o){if(!oc(a))throw Error(r(299));var d=!1,p="",w=Uh;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),o=nc(a,1,!1,null,null,d,!1,p,w),a[xn]=o.current,so(a.nodeType===8?a.parentNode:a),new ic(o)},Pr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=ps(o),a=a===null?null:a.stateNode,a},Pr.flushSync=function(a){return Pa(a)},Pr.hydrate=function(a,o,d){if(!xl(o))throw Error(r(200));return El(null,a,o,!0,d)},Pr.hydrateRoot=function(a,o,d){if(!oc(a))throw Error(r(405));var p=d!=null&&d.hydratedSources||null,w=!1,b="",D=Uh;if(d!=null&&(d.unstable_strictMode===!0&&(w=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),o=_h(o,null,a,1,d??null,w,!1,b,D),a[xn]=o.current,so(a),p)for(a=0;a<p.length;a++)d=p[a],w=d._getVersion,w=w(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,w]:o.mutableSourceEagerHydrationData.push(d,w);return new wl(o)},Pr.render=function(a,o,d){if(!xl(o))throw Error(r(200));return El(null,a,o,!1,d)},Pr.unmountComponentAtNode=function(a){if(!xl(a))throw Error(r(40));return a._reactRootContainer?(Pa(function(){El(null,null,a,!1,function(){a._reactRootContainer=null,a[xn]=null})}),!0):!1},Pr.unstable_batchedUpdates=Zf,Pr.unstable_renderSubtreeIntoContainer=function(a,o,d,p){if(!xl(d))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return El(a,o,d,!1,p)},Pr.version="18.3.1-next-f1338f8080-20240426",Pr}var Zh;function l1(){if(Zh)return fc.exports;Zh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fc.exports=s1(),fc.exports}var jh;function u1(){if(jh)return bl;jh=1;var t=l1();return bl.createRoot=t.createRoot,bl.hydrateRoot=t.hydrateRoot,bl}var f1=u1(),vc={exports:{}},hc,Jh;function c1(){if(Jh)return hc;Jh=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hc=t,hc}var pc,ep;function d1(){if(ep)return pc;ep=1;var t=c1();function e(){}function r(){}return r.resetWarningCache=e,pc=function(){function n(l,u,f,c,v,h){if(h!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},pc}var tp;function v1(){return tp||(tp=1,vc.exports=d1()()),vc.exports}var h1=v1();const p1=Eg(h1);function _t(t){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(t)}function pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ga(t,e,r){return e&&g1(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gt(t,e){return m1(t)||x1(t,e)||Yc(t,e)||S1()}function bg(t){return y1(t)||w1(t)||Yc(t)||E1()}function y1(t){if(Array.isArray(t))return Ac(t)}function m1(t){if(Array.isArray(t))return t}function w1(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x1(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,l,u;try{for(r=r.call(t);!(i=(l=r.next()).done)&&(n.push(l.value),!(e&&n.length===e));i=!0);}catch(f){s=!0,u=f}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw u}}return n}}function Yc(t,e){if(t){if(typeof t=="string")return Ac(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ac(t,e)}}function Ac(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Or(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Yc(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(f){throw f},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,l=!1,u;return{s:function(){r=r.call(t)},n:function(){var f=r.next();return s=f.done,f},e:function(f){l=!0,u=f},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(l)throw u}}}}var zt=typeof window>"u"?null:window,rp=zt?zt.navigator:null;zt&&zt.document;var b1=_t(""),Cg=_t({}),C1=_t(function(){}),T1=typeof HTMLElement>"u"?"undefined":_t(HTMLElement),rs=function(e){return e&&e.instanceString&&Ct(e.instanceString)?e.instanceString():null},Me=function(e){return e!=null&&_t(e)==b1},Ct=function(e){return e!=null&&_t(e)===C1},ct=function(e){return!zr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},rt=function(e){return e!=null&&_t(e)===Cg&&!ct(e)&&e.constructor===Object},k1=function(e){return e!=null&&_t(e)===Cg},xe=function(e){return e!=null&&_t(e)===_t(1)&&!isNaN(e)},P1=function(e){return xe(e)&&Math.floor(e)===e},Zl=function(e){if(T1!=="undefined")return e!=null&&e instanceof HTMLElement},zr=function(e){return ns(e)||Tg(e)},ns=function(e){return rs(e)==="collection"&&e._private.single},Tg=function(e){return rs(e)==="collection"&&!e._private.single},Qc=function(e){return rs(e)==="core"},kg=function(e){return rs(e)==="stylesheet"},D1=function(e){return rs(e)==="event"},ua=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},R1=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},B1=function(e){return rt(e)&&xe(e.x1)&&xe(e.x2)&&xe(e.y1)&&xe(e.y2)},A1=function(e){return k1(e)&&Ct(e.then)},L1=function(){return rp&&rp.userAgent.match(/msie|trident|edge/i)},Ko=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var s=[],l=0;l<arguments.length;l++)s.push(arguments[l]);return s.join("$")});var n=function i(){var s=this,l=arguments,u,f=r.apply(s,l),c=i.cache;return(u=c[f])||(u=c[f]=e.apply(s,l)),u};return n.cache={},n},Zc=Ko(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),uu=Ko(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Pg=Ko(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),np=function(e){return ua(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Ft="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",M1="rgb[a]?\\(("+Ft+"[%]?)\\s*,\\s*("+Ft+"[%]?)\\s*,\\s*("+Ft+"[%]?)(?:\\s*,\\s*("+Ft+"))?\\)",N1="rgb[a]?\\((?:"+Ft+"[%]?)\\s*,\\s*(?:"+Ft+"[%]?)\\s*,\\s*(?:"+Ft+"[%]?)(?:\\s*,\\s*(?:"+Ft+"))?\\)",I1="hsl[a]?\\(("+Ft+")\\s*,\\s*("+Ft+"[%])\\s*,\\s*("+Ft+"[%])(?:\\s*,\\s*("+Ft+"))?\\)",O1="hsl[a]?\\((?:"+Ft+")\\s*,\\s*(?:"+Ft+"[%])\\s*,\\s*(?:"+Ft+"[%])(?:\\s*,\\s*(?:"+Ft+"))?\\)",z1="\\#[0-9a-fA-F]{3}",F1="\\#[0-9a-fA-F]{6}",Dg=function(e,r){return e<r?-1:e>r?1:0},_1=function(e,r){return-1*Dg(e,r)},Ue=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),s=0;s<i.length;s++){var l=i[s];t[l]=n[l]}}return t},V1=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,s,l=16;return r?(n=parseInt(e[1]+e[1],l),i=parseInt(e[2]+e[2],l),s=parseInt(e[3]+e[3],l)):(n=parseInt(e[1]+e[2],l),i=parseInt(e[3]+e[4],l),s=parseInt(e[5]+e[6],l)),[n,i,s]}},U1=function(e){var r,n,i,s,l,u,f,c;function v(y,S,E){return E<0&&(E+=1),E>1&&(E-=1),E<1/6?y+(S-y)*6*E:E<1/2?S:E<2/3?y+(S-y)*(2/3-E)*6:y}var h=new RegExp("^"+I1+"$").exec(e);if(h){if(n=parseInt(h[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(h[2]),i<0||i>100||(i=i/100,s=parseFloat(h[3]),s<0||s>100)||(s=s/100,l=h[4],l!==void 0&&(l=parseFloat(l),l<0||l>1)))return;if(i===0)u=f=c=Math.round(s*255);else{var g=s<.5?s*(1+i):s+i-s*i,m=2*s-g;u=Math.round(255*v(m,g,n+1/3)),f=Math.round(255*v(m,g,n)),c=Math.round(255*v(m,g,n-1/3))}r=[u,f,c,l]}return r},$1=function(e){var r,n=new RegExp("^"+M1+"$").exec(e);if(n){r=[];for(var i=[],s=1;s<=3;s++){var l=n[s];if(l[l.length-1]==="%"&&(i[s]=!0),l=parseFloat(l),i[s]&&(l=l/100*255),l<0||l>255)return;r.push(Math.floor(l))}var u=i[1]||i[2]||i[3],f=i[1]&&i[2]&&i[3];if(u&&!f)return;var c=n[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;r.push(c)}}return r},W1=function(e){return H1[e.toLowerCase()]},Rg=function(e){return(ct(e)?e:null)||W1(e)||V1(e)||$1(e)||U1(e)},H1={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Bg=function(e){for(var r=e.map,n=e.keys,i=n.length,s=0;s<i;s++){var l=n[s];if(rt(l))throw Error("Tried to set map with object key");s<n.length-1?(r[l]==null&&(r[l]={}),r=r[l]):r[l]=e.value}},Ag=function(e){for(var r=e.map,n=e.keys,i=n.length,s=0;s<i;s++){var l=n[s];if(rt(l))throw Error("Tried to get map with object key");if(r=r[l],r==null)return r}return r};function K1(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var za=K1,Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q1(t,e){return e={exports:{}},t(e,e.exports),e.exports}var G1=typeof Oo=="object"&&Oo&&Oo.Object===Object&&Oo,X1=G1,Y1=typeof self=="object"&&self&&self.Object===Object&&self,Q1=X1||Y1||Function("return this")(),fu=Q1,Z1=function(){return fu.Date.now()},gc=Z1,j1=/\s/;function J1(t){for(var e=t.length;e--&&j1.test(t.charAt(e)););return e}var ew=J1,tw=/^\s+/;function rw(t){return t&&t.slice(0,ew(t)+1).replace(tw,"")}var nw=rw,aw=fu.Symbol,Bi=aw,Lg=Object.prototype,iw=Lg.hasOwnProperty,ow=Lg.toString,Po=Bi?Bi.toStringTag:void 0;function sw(t){var e=iw.call(t,Po),r=t[Po];try{t[Po]=void 0;var n=!0}catch{}var i=ow.call(t);return n&&(e?t[Po]=r:delete t[Po]),i}var lw=sw,uw=Object.prototype,fw=uw.toString;function cw(t){return fw.call(t)}var dw=cw,vw="[object Null]",hw="[object Undefined]",ap=Bi?Bi.toStringTag:void 0;function pw(t){return t==null?t===void 0?hw:vw:ap&&ap in Object(t)?lw(t):dw(t)}var Mg=pw;function gw(t){return t!=null&&typeof t=="object"}var yw=gw,mw="[object Symbol]";function ww(t){return typeof t=="symbol"||yw(t)&&Mg(t)==mw}var as=ww,ip=NaN,xw=/^[-+]0x[0-9a-f]+$/i,Ew=/^0b[01]+$/i,Sw=/^0o[0-7]+$/i,bw=parseInt;function Cw(t){if(typeof t=="number")return t;if(as(t))return ip;if(za(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=za(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nw(t);var r=Ew.test(t);return r||Sw.test(t)?bw(t.slice(2),r?2:8):xw.test(t)?ip:+t}var op=Cw,Tw="Expected a function",kw=Math.max,Pw=Math.min;function Dw(t,e,r){var n,i,s,l,u,f,c=0,v=!1,h=!1,g=!0;if(typeof t!="function")throw new TypeError(Tw);e=op(e)||0,za(r)&&(v=!!r.leading,h="maxWait"in r,s=h?kw(op(r.maxWait)||0,e):s,g="trailing"in r?!!r.trailing:g);function m(R){var P=n,L=i;return n=i=void 0,c=R,l=t.apply(L,P),l}function y(R){return c=R,u=setTimeout(x,e),v?m(R):l}function S(R){var P=R-f,L=R-c,A=e-P;return h?Pw(A,s-L):A}function E(R){var P=R-f,L=R-c;return f===void 0||P>=e||P<0||h&&L>=s}function x(){var R=gc();if(E(R))return C(R);u=setTimeout(x,S(R))}function C(R){return u=void 0,g&&n?m(R):(n=i=void 0,l)}function T(){u!==void 0&&clearTimeout(u),c=0,n=f=i=u=void 0}function k(){return u===void 0?l:C(gc())}function B(){var R=gc(),P=E(R);if(n=arguments,i=this,f=R,P){if(u===void 0)return y(f);if(h)return clearTimeout(u),u=setTimeout(x,e),m(f)}return u===void 0&&(u=setTimeout(x,e)),l}return B.cancel=T,B.flush=k,B}var is=Dw,yc=zt?zt.performance:null,Ng=yc&&yc.now?function(){return yc.now()}:function(){return Date.now()},Rw=function(){if(zt){if(zt.requestAnimationFrame)return function(t){zt.requestAnimationFrame(t)};if(zt.mozRequestAnimationFrame)return function(t){zt.mozRequestAnimationFrame(t)};if(zt.webkitRequestAnimationFrame)return function(t){zt.webkitRequestAnimationFrame(t)};if(zt.msRequestAnimationFrame)return function(t){zt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Ng())},1e3/60)}}(),jl=function(e){return Rw(e)},Bn=Ng,bi=9261,Ig=65599,zo=5381,Og=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bi,n=r,i;i=e.next(),!i.done;)n=n*Ig+i.value|0;return n},qo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bi;return r*Ig+e|0},Go=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zo;return(r<<5)+r+e|0},Bw=function(e,r){return e*2097152+r},na=function(e){return e[0]*2097152+e[1]},Cl=function(e,r){return[qo(e[0],r[0]),Go(e[1],r[1])]},Aw=function(e,r){var n={value:0,done:!1},i=0,s=e.length,l={next:function(){return i<s?n.value=e[i++]:n.done=!0,n}};return Og(l,r)},fa=function(e,r){var n={value:0,done:!1},i=0,s=e.length,l={next:function(){return i<s?n.value=e.charCodeAt(i++):n.done=!0,n}};return Og(l,r)},zg=function(){return Lw(arguments)},Lw=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=fa(i):r=fa(i,r)}return r},sp=!0,Mw=console.warn!=null,Nw=console.trace!=null,jc=Number.MAX_SAFE_INTEGER||9007199254740991,Fg=function(){return!0},Jl=function(){return!1},lp=function(){return 0},Jc=function(){},bt=function(e){throw new Error(e)},_g=function(e){if(e!==void 0)sp=!!e;else return sp},lt=function(e){_g()&&(Mw?console.warn(e):(console.log(e),Nw&&console.trace()))},Iw=function(e){return Ue({},e)},hn=function(e){return e==null?e:ct(e)?e.slice():rt(e)?Iw(e):e},Ow=function(e){return e.slice()},Vg=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},zw={},Ug=function(){return zw},Xt=function(e){var r=Object.keys(e);return function(n){for(var i={},s=0;s<r.length;s++){var l=r[s],u=n==null?void 0:n[l];i[l]=u===void 0?e[l]:u}return i}},ca=function(e,r,n){for(var i=e.length-1;i>=0;i--)e[i]===r&&e.splice(i,1)},ed=function(e){e.splice(0,e.length)},Fw=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},on=function(e,r,n){return n&&(r=Pg(n,r)),e[r]},ia=function(e,r,n,i){n&&(r=Pg(n,r)),e[r]=i},_w=function(){function t(){pa(this,t),this._obj={}}return ga(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),pn=typeof Map<"u"?Map:_w,Vw="undefined",Uw=function(){function t(e){if(pa(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return ga(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),Ni=(typeof Set>"u"?"undefined":_t(Set))!==Vw?Set:Uw,cu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Qc(e)){bt("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){bt("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var s=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new Ni,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(s.position.x==null&&(s.position.x=0),s.position.y==null&&(s.position.y=0),r.renderedPosition){var l=r.renderedPosition,u=e.pan(),f=e.zoom();s.position={x:(l.x-u.x)/f,y:(l.y-u.y)/f}}var c=[];ct(r.classes)?c=r.classes:Me(r.classes)&&(c=r.classes.split(/\s+/));for(var v=0,h=c.length;v<h;v++){var g=c[v];!g||g===""||s.classes.add(g)}this.createEmitter();var m=r.style||r.css;m&&(lt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m)),(n===void 0||n)&&this.restore()},up=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,s){var l;rt(n)&&!zr(n)&&(l=n,n=l.roots||l.root,i=l.visit,s=l.directed),s=arguments.length===2&&!Ct(i)?i:s,i=Ct(i)?i:function(){};for(var u=this._private.cy,f=n=Me(n)?this.filter(n):n,c=[],v=[],h={},g={},m={},y=0,S,E=this.byGroup(),x=E.nodes,C=E.edges,T=0;T<f.length;T++){var k=f[T],B=k.id();k.isNode()&&(c.unshift(k),e.bfs&&(m[B]=!0,v.push(k)),g[B]=0)}for(var R=function(){var _=e.bfs?c.shift():c.pop(),F=_.id();if(e.dfs){if(m[F])return"continue";m[F]=!0,v.push(_)}var K=g[F],W=h[F],H=W!=null?W.source():null,$=W!=null?W.target():null,G=W==null?void 0:_.same(H)?$[0]:H[0],X=void 0;if(X=i(_,W,G,y++,K),X===!0)return S=_,"break";if(X===!1)return"break";for(var M=_.connectedEdges().filter(function(oe){return(!s||oe.source().same(_))&&C.has(oe)}),V=0;V<M.length;V++){var te=M[V],ae=te.connectedNodes().filter(function(oe){return!oe.same(_)&&x.has(oe)}),se=ae.id();ae.length!==0&&!m[se]&&(ae=ae[0],c.push(ae),e.bfs&&(m[se]=!0,v.push(ae)),h[se]=te,g[se]=g[F]+1)}};c.length!==0;){var P=R();if(P!=="continue"&&P==="break")break}for(var L=u.collection(),A=0;A<v.length;A++){var z=v[A],O=h[z.id()];O!=null&&L.push(O),L.push(z)}return{path:u.collection(L),found:u.collection(S)}}},Xo={breadthFirstSearch:up({bfs:!0}),depthFirstSearch:up({dfs:!0})};Xo.bfs=Xo.breadthFirstSearch;Xo.dfs=Xo.depthFirstSearch;var $w=q1(function(t,e){(function(){var r,n,i,s,l,u,f,c,v,h,g,m,y,S,E;i=Math.floor,h=Math.min,n=function(x,C){return x<C?-1:x>C?1:0},v=function(x,C,T,k,B){var R;if(T==null&&(T=0),B==null&&(B=n),T<0)throw new Error("lo must be non-negative");for(k==null&&(k=x.length);T<k;)R=i((T+k)/2),B(C,x[R])<0?k=R:T=R+1;return[].splice.apply(x,[T,T-T].concat(C)),C},u=function(x,C,T){return T==null&&(T=n),x.push(C),S(x,0,x.length-1,T)},l=function(x,C){var T,k;return C==null&&(C=n),T=x.pop(),x.length?(k=x[0],x[0]=T,E(x,0,C)):k=T,k},c=function(x,C,T){var k;return T==null&&(T=n),k=x[0],x[0]=C,E(x,0,T),k},f=function(x,C,T){var k;return T==null&&(T=n),x.length&&T(x[0],C)<0&&(k=[x[0],C],C=k[0],x[0]=k[1],E(x,0,T)),C},s=function(x,C){var T,k,B,R,P,L;for(C==null&&(C=n),R=(function(){L=[];for(var A=0,z=i(x.length/2);0<=z?A<z:A>z;0<=z?A++:A--)L.push(A);return L}).apply(this).reverse(),P=[],k=0,B=R.length;k<B;k++)T=R[k],P.push(E(x,T,C));return P},y=function(x,C,T){var k;if(T==null&&(T=n),k=x.indexOf(C),k!==-1)return S(x,0,k,T),E(x,k,T)},g=function(x,C,T){var k,B,R,P,L;if(T==null&&(T=n),B=x.slice(0,C),!B.length)return B;for(s(B,T),L=x.slice(C),R=0,P=L.length;R<P;R++)k=L[R],f(B,k,T);return B.sort(T).reverse()},m=function(x,C,T){var k,B,R,P,L,A,z,O,N;if(T==null&&(T=n),C*10<=x.length){if(R=x.slice(0,C).sort(T),!R.length)return R;for(B=R[R.length-1],z=x.slice(C),P=0,A=z.length;P<A;P++)k=z[P],T(k,B)<0&&(v(R,k,0,null,T),R.pop(),B=R[R.length-1]);return R}for(s(x,T),N=[],L=0,O=h(C,x.length);0<=O?L<O:L>O;0<=O?++L:--L)N.push(l(x,T));return N},S=function(x,C,T,k){var B,R,P;for(k==null&&(k=n),B=x[T];T>C;){if(P=T-1>>1,R=x[P],k(B,R)<0){x[T]=R,T=P;continue}break}return x[T]=B},E=function(x,C,T){var k,B,R,P,L;for(T==null&&(T=n),B=x.length,L=C,R=x[C],k=2*C+1;k<B;)P=k+1,P<B&&!(T(x[k],x[P])<0)&&(k=P),x[C]=x[k],C=k,k=2*C+1;return x[C]=R,S(x,L,C,T)},r=function(){x.push=u,x.pop=l,x.replace=c,x.pushpop=f,x.heapify=s,x.updateItem=y,x.nlargest=g,x.nsmallest=m;function x(C){this.cmp=C??n,this.nodes=[]}return x.prototype.push=function(C){return u(this.nodes,C,this.cmp)},x.prototype.pop=function(){return l(this.nodes,this.cmp)},x.prototype.peek=function(){return this.nodes[0]},x.prototype.contains=function(C){return this.nodes.indexOf(C)!==-1},x.prototype.replace=function(C){return c(this.nodes,C,this.cmp)},x.prototype.pushpop=function(C){return f(this.nodes,C,this.cmp)},x.prototype.heapify=function(){return s(this.nodes,this.cmp)},x.prototype.updateItem=function(C){return y(this.nodes,C,this.cmp)},x.prototype.clear=function(){return this.nodes=[]},x.prototype.empty=function(){return this.nodes.length===0},x.prototype.size=function(){return this.nodes.length},x.prototype.clone=function(){var C;return C=new x,C.nodes=this.nodes.slice(0),C},x.prototype.toArray=function(){return this.nodes.slice(0)},x.prototype.insert=x.prototype.push,x.prototype.top=x.prototype.peek,x.prototype.front=x.prototype.peek,x.prototype.has=x.prototype.contains,x.prototype.copy=x.prototype.clone,x}(),function(x,C){return t.exports=C()}(this,function(){return r})}).call(Oo)}),os=$w,Ww=Xt({root:null,weight:function(e){return 1},directed:!1}),Hw={dijkstra:function(e){if(!rt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=Ww(e),i=n.root,s=n.weight,l=n.directed,u=this,f=s,c=Me(i)?this.filter(i)[0]:i[0],v={},h={},g={},m=this.byGroup(),y=m.nodes,S=m.edges;S.unmergeBy(function(K){return K.isLoop()});for(var E=function(W){return v[W.id()]},x=function(W,H){v[W.id()]=H,C.updateItem(W)},C=new os(function(K,W){return E(K)-E(W)}),T=0;T<y.length;T++){var k=y[T];v[k.id()]=k.same(c)?0:1/0,C.push(k)}for(var B=function(W,H){for(var $=(l?W.edgesTo(H):W.edgesWith(H)).intersect(S),G=1/0,X,M=0;M<$.length;M++){var V=$[M],te=f(V);(te<G||!X)&&(G=te,X=V)}return{edge:X,dist:G}};C.size()>0;){var R=C.pop(),P=E(R),L=R.id();if(g[L]=P,P!==1/0)for(var A=R.neighborhood().intersect(y),z=0;z<A.length;z++){var O=A[z],N=O.id(),_=B(R,O),F=P+_.dist;F<E(O)&&(x(O,F),h[N]={node:R,edge:_.edge})}}return{distanceTo:function(W){var H=Me(W)?y.filter(W)[0]:W[0];return g[H.id()]},pathTo:function(W){var H=Me(W)?y.filter(W)[0]:W[0],$=[],G=H,X=G.id();if(H.length>0)for($.unshift(H);h[X];){var M=h[X];$.unshift(M.edge),$.unshift(M.node),G=M.node,X=G.id()}return u.spawn($)}}}},Kw={kruskal:function(e){e=e||function(T){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,s=n.length,l=new Array(s),u=n,f=function(k){for(var B=0;B<l.length;B++){var R=l[B];if(R.has(k))return B}},c=0;c<s;c++)l[c]=this.spawn(n[c]);for(var v=i.sort(function(T,k){return e(T)-e(k)}),h=0;h<v.length;h++){var g=v[h],m=g.source()[0],y=g.target()[0],S=f(m),E=f(y),x=l[S],C=l[E];S!==E&&(u.merge(g),x.merge(C),l.splice(E,1))}return u}},qw=Xt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Gw={aStar:function(e){var r=this.cy(),n=qw(e),i=n.root,s=n.goal,l=n.heuristic,u=n.directed,f=n.weight;i=r.collection(i)[0],s=r.collection(s)[0];var c=i.id(),v=s.id(),h={},g={},m={},y=new os(function(X,M){return g[X.id()]-g[M.id()]}),S=new Ni,E={},x={},C=function(M,V){y.push(M),S.add(V)},T,k,B=function(){T=y.pop(),k=T.id(),S.delete(k)},R=function(M){return S.has(M)};C(i,c),h[c]=0,g[c]=l(i);for(var P=0;y.size()>0;){if(B(),P++,k===v){for(var L=[],A=s,z=v,O=x[z];L.unshift(A),O!=null&&L.unshift(O),A=E[z],A!=null;)z=A.id(),O=x[z];return{found:!0,distance:h[k],path:this.spawn(L),steps:P}}m[k]=!0;for(var N=T._private.edges,_=0;_<N.length;_++){var F=N[_];if(this.hasElementWithId(F.id())&&!(u&&F.data("source")!==k)){var K=F.source(),W=F.target(),H=K.id()!==k?K:W,$=H.id();if(this.hasElementWithId($)&&!m[$]){var G=h[k]+f(F);if(!R($)){h[$]=G,g[$]=G+l(H),C(H,$),E[$]=T,x[$]=F;continue}G<h[$]&&(h[$]=G,g[$]=G+l(H),E[$]=T,x[$]=F)}}}}return{found:!1,distance:void 0,path:void 0,steps:P}}},Xw=Xt({weight:function(e){return 1},directed:!1}),Yw={floydWarshall:function(e){for(var r=this.cy(),n=Xw(e),i=n.weight,s=n.directed,l=i,u=this.byGroup(),f=u.nodes,c=u.edges,v=f.length,h=v*v,g=function(te){return f.indexOf(te)},m=function(te){return f[te]},y=new Array(h),S=0;S<h;S++){var E=S%v,x=(S-E)/v;x===E?y[S]=0:y[S]=1/0}for(var C=new Array(h),T=new Array(h),k=0;k<c.length;k++){var B=c[k],R=B.source()[0],P=B.target()[0];if(R!==P){var L=g(R),A=g(P),z=L*v+A,O=l(B);if(y[z]>O&&(y[z]=O,C[z]=A,T[z]=B),!s){var N=A*v+L;!s&&y[N]>O&&(y[N]=O,C[N]=L,T[N]=B)}}}for(var _=0;_<v;_++)for(var F=0;F<v;F++)for(var K=F*v+_,W=0;W<v;W++){var H=F*v+W,$=_*v+W;y[K]+y[$]<y[H]&&(y[H]=y[K]+y[$],C[H]=C[K])}var G=function(te){return(Me(te)?r.filter(te):te)[0]},X=function(te){return g(G(te))},M={distance:function(te,ae){var se=X(te),oe=X(ae);return y[se*v+oe]},path:function(te,ae){var se=X(te),oe=X(ae),ce=m(se);if(se===oe)return ce.collection();if(C[se*v+oe]==null)return r.collection();var ue=r.collection(),Z=se,Q;for(ue.merge(ce);se!==oe;)Z=se,se=C[se*v+oe],Q=T[Z*v+se],ue.merge(Q),ue.merge(m(se));return ue}};return M}},Qw=Xt({weight:function(e){return 1},directed:!1,root:null}),Zw={bellmanFord:function(e){var r=this,n=Qw(e),i=n.weight,s=n.directed,l=n.root,u=i,f=this,c=this.cy(),v=this.byGroup(),h=v.edges,g=v.nodes,m=g.length,y=new pn,S=!1,E=[];l=c.collection(l)[0],h.unmergeBy(function(je){return je.isLoop()});for(var x=h.length,C=function(ke){var Ce=y.get(ke.id());return Ce||(Ce={},y.set(ke.id(),Ce)),Ce},T=function(ke){return(Me(ke)?c.$(ke):ke)[0]},k=function(ke){return C(T(ke)).dist},B=function(ke){for(var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,Ne=T(ke),Ie=[],Oe=Ne;;){if(Oe==null)return r.spawn();var $e=C(Oe),Ge=$e.edge,Ye=$e.pred;if(Ie.unshift(Oe[0]),Oe.same(Ce)&&Ie.length>0)break;Ge!=null&&Ie.unshift(Ge),Oe=Ye}return f.spawn(Ie)},R=0;R<m;R++){var P=g[R],L=C(P);P.same(l)?L.dist=0:L.dist=1/0,L.pred=null,L.edge=null}for(var A=!1,z=function(ke,Ce,Ne,Ie,Oe,$e){var Ge=Ie.dist+$e;Ge<Oe.dist&&!Ne.same(Ie.edge)&&(Oe.dist=Ge,Oe.pred=ke,Oe.edge=Ne,A=!0)},O=1;O<m;O++){A=!1;for(var N=0;N<x;N++){var _=h[N],F=_.source(),K=_.target(),W=u(_),H=C(F),$=C(K);z(F,K,_,H,$,W),s||z(K,F,_,$,H,W)}if(!A)break}if(A)for(var G=[],X=0;X<x;X++){var M=h[X],V=M.source(),te=M.target(),ae=u(M),se=C(V).dist,oe=C(te).dist;if(se+ae<oe||!s&&oe+ae<se)if(S||(lt("Graph contains a negative weight cycle for Bellman-Ford"),S=!0),e.findNegativeWeightCycles!==!1){var ce=[];se+ae<oe&&ce.push(V),!s&&oe+ae<se&&ce.push(te);for(var ue=ce.length,Z=0;Z<ue;Z++){var Q=ce[Z],le=[Q];le.push(C(Q).edge);for(var pe=C(Q).pred;le.indexOf(pe)===-1;)le.push(pe),le.push(C(pe).edge),pe=C(pe).pred;le=le.slice(le.indexOf(pe));for(var Se=le[0].id(),Te=0,Xe=2;Xe<le.length;Xe+=2)le[Xe].id()<Se&&(Se=le[Xe].id(),Te=Xe);le=le.slice(Te).concat(le.slice(0,Te)),le.push(le[0]);var nt=le.map(function(je){return je.id()}).join(",");G.indexOf(nt)===-1&&(E.push(f.spawn(le)),G.push(nt))}}else break}return{distanceTo:k,pathTo:B,hasNegativeWeightCycle:S,negativeWeightCycles:E}}},jw=Math.sqrt(2),Jw=function(e,r,n){n.length===0&&bt("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],s=i[1],l=i[2],u=r[s],f=r[l],c=n,v=c.length-1;v>=0;v--){var h=c[v],g=h[1],m=h[2];(r[g]===u&&r[m]===f||r[g]===f&&r[m]===u)&&c.splice(v,1)}for(var y=0;y<c.length;y++){var S=c[y];S[1]===f?(c[y]=S.slice(),c[y][1]=u):S[2]===f&&(c[y]=S.slice(),c[y][2]=u)}for(var E=0;E<r.length;E++)r[E]===f&&(r[E]=u);return c},mc=function(e,r,n,i){for(;n>i;){var s=Math.floor(Math.random()*r.length);r=Jw(s,e,r),n--}return r},ex={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function($){return $.isLoop()});var s=n.length,l=i.length,u=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),f=Math.floor(s/jw);if(s<2){bt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],v=0;v<l;v++){var h=i[v];c.push([v,n.indexOf(h.source()),n.indexOf(h.target())])}for(var g=1/0,m=[],y=new Array(s),S=new Array(s),E=new Array(s),x=function(G,X){for(var M=0;M<s;M++)X[M]=G[M]},C=0;C<=u;C++){for(var T=0;T<s;T++)S[T]=T;var k=mc(S,c.slice(),s,f),B=k.slice();x(S,E);var R=mc(S,k,f,2),P=mc(E,B,f,2);R.length<=P.length&&R.length<g?(g=R.length,m=R,x(S,y)):P.length<=R.length&&P.length<g&&(g=P.length,m=P,x(E,y))}for(var L=this.spawn(m.map(function($){return i[$[0]]})),A=this.spawn(),z=this.spawn(),O=y[0],N=0;N<y.length;N++){var _=y[N],F=n[N];_===O?A.merge(F):z.merge(F)}var K=function(G){var X=e.spawn();return G.forEach(function(M){X.merge(M),M.connectedEdges().forEach(function(V){e.contains(V)&&!L.contains(V)&&X.merge(V)})}),X},W=[K(A),K(z)],H={cut:L,components:W,partition1:A,partition2:z};return H}},tx=function(e){return{x:e.x,y:e.y}},du=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},$g=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},Ci=function(e){return{x:e[0],y:e[1]}},rx=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,s=r;s<n;s++){var l=e[s];isFinite(l)&&(i=Math.min(l,i))}return i},nx=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,s=r;s<n;s++){var l=e[s];isFinite(l)&&(i=Math.max(l,i))}return i},ax=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,s=0,l=r;l<n;l++){var u=e[l];isFinite(u)&&(i+=u,s++)}return i/s},ix=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var u=0,f=e.length-1;f>=0;f--){var c=e[f];l?isFinite(c)||(e[f]=-1/0,u++):e.splice(f,1)}s&&e.sort(function(g,m){return g-m});var v=e.length,h=Math.floor(v/2);return v%2!==0?e[h+1+u]:(e[h-1+u]+e[h+u])/2},ox=function(e){return Math.PI*e/180},Tl=function(e,r){return Math.atan2(r,e)-Math.PI/2},td=Math.log2||function(t){return Math.log(t)/Math.log(2)},Wg=function(e){return e>0?1:e<0?-1:0},Fa=function(e,r){return Math.sqrt(La(e,r))},La=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},sx=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var s=0;s<r;s++)e[s]=e[s]/n;return e},qt=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},ki=function(e,r,n,i){return{x:qt(e.x,r.x,n.x,i),y:qt(e.y,r.y,n.y,i)}},lx=function(e,r,n,i){var s={x:r.x-e.x,y:r.y-e.y},l=Fa(e,r),u={x:s.x/l,y:s.y/l};return n=n??0,i=i??n*l,{x:e.x+u.x*i,y:e.y+u.y*i}},Yo=function(e,r,n){return Math.max(e,Math.min(n,r))},Rr=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},ux=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},fx=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},cx=function(e,r,n){return{x1:e.x1+r,x2:e.x2+r,y1:e.y1+n,y2:e.y2+n,w:e.w,h:e.h}},Hg=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},dx=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},$l=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Wl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,s,l;if(r.length===1)n=i=s=l=r[0];else if(r.length===2)n=s=r[0],l=i=r[1];else if(r.length===4){var u=Gt(r,4);n=u[0],i=u[1],s=u[2],l=u[3]}return e.x1-=l,e.x2+=i,e.y1-=n,e.y2+=s,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},fp=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},rd=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Ai=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},vx=function(e,r){return Ai(e,r.x,r.y)},Kg=function(e,r){return Ai(e,r.x1,r.y1)&&Ai(e,r.x2,r.y2)},qg=function(e,r,n,i,s,l,u){var f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=f==="auto"?_a(s,l):f,v=s/2,h=l/2;c=Math.min(c,v,h);var g=c!==v,m=c!==h,y;if(g){var S=n-v+c-u,E=i-h-u,x=n+v-c+u,C=E;if(y=oa(e,r,n,i,S,E,x,C,!1),y.length>0)return y}if(m){var T=n+v+u,k=i-h+c-u,B=T,R=i+h-c+u;if(y=oa(e,r,n,i,T,k,B,R,!1),y.length>0)return y}if(g){var P=n-v+c-u,L=i+h+u,A=n+v-c+u,z=L;if(y=oa(e,r,n,i,P,L,A,z,!1),y.length>0)return y}if(m){var O=n-v-u,N=i-h+c-u,_=O,F=i+h-c+u;if(y=oa(e,r,n,i,O,N,_,F,!1),y.length>0)return y}var K;{var W=n-v+c,H=i-h+c;if(K=Fo(e,r,n,i,W,H,c+u),K.length>0&&K[0]<=W&&K[1]<=H)return[K[0],K[1]]}{var $=n+v-c,G=i-h+c;if(K=Fo(e,r,n,i,$,G,c+u),K.length>0&&K[0]>=$&&K[1]<=G)return[K[0],K[1]]}{var X=n+v-c,M=i+h-c;if(K=Fo(e,r,n,i,X,M,c+u),K.length>0&&K[0]>=X&&K[1]>=M)return[K[0],K[1]]}{var V=n-v+c,te=i+h-c;if(K=Fo(e,r,n,i,V,te,c+u),K.length>0&&K[0]<=V&&K[1]>=te)return[K[0],K[1]]}return[]},hx=function(e,r,n,i,s,l,u){var f=u,c=Math.min(n,s),v=Math.max(n,s),h=Math.min(i,l),g=Math.max(i,l);return c-f<=e&&e<=v+f&&h-f<=r&&r<=g+f},px=function(e,r,n,i,s,l,u,f,c){var v={x1:Math.min(n,u,s)-c,x2:Math.max(n,u,s)+c,y1:Math.min(i,f,l)-c,y2:Math.max(i,f,l)+c};return!(e<v.x1||e>v.x2||r<v.y1||r>v.y2)},gx=function(e,r,n,i){n-=i;var s=r*r-4*e*n;if(s<0)return[];var l=Math.sqrt(s),u=2*e,f=(-r+l)/u,c=(-r-l)/u;return[f,c]},yx=function(e,r,n,i,s){var l=1e-5;e===0&&(e=l),r/=e,n/=e,i/=e;var u,f,c,v,h,g,m,y;if(f=(3*n-r*r)/9,c=-(27*i)+r*(9*n-2*(r*r)),c/=54,u=f*f*f+c*c,s[1]=0,m=r/3,u>0){h=c+Math.sqrt(u),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),g=c-Math.sqrt(u),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),s[0]=-m+h+g,m+=(h+g)/2,s[4]=s[2]=-m,m=Math.sqrt(3)*(-g+h)/2,s[3]=m,s[5]=-m;return}if(s[5]=s[3]=0,u===0){y=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),s[0]=-m+2*y,s[4]=s[2]=-(y+m);return}f=-f,v=f*f*f,v=Math.acos(c/Math.sqrt(v)),y=2*Math.sqrt(f),s[0]=-m+y*Math.cos(v/3),s[2]=-m+y*Math.cos((v+2*Math.PI)/3),s[4]=-m+y*Math.cos((v+4*Math.PI)/3)},mx=function(e,r,n,i,s,l,u,f){var c=1*n*n-4*n*s+2*n*u+4*s*s-4*s*u+u*u+i*i-4*i*l+2*i*f+4*l*l-4*l*f+f*f,v=1*9*n*s-3*n*n-3*n*u-6*s*s+3*s*u+9*i*l-3*i*i-3*i*f-6*l*l+3*l*f,h=1*3*n*n-6*n*s+n*u-n*e+2*s*s+2*s*e-u*e+3*i*i-6*i*l+i*f-i*r+2*l*l+2*l*r-f*r,g=1*n*s-n*n+n*e-s*e+i*l-i*i+i*r-l*r,m=[];yx(c,v,h,g,m);for(var y=1e-7,S=[],E=0;E<6;E+=2)Math.abs(m[E+1])<y&&m[E]>=0&&m[E]<=1&&S.push(m[E]);S.push(1),S.push(0);for(var x=-1,C,T,k,B=0;B<S.length;B++)C=Math.pow(1-S[B],2)*n+2*(1-S[B])*S[B]*s+S[B]*S[B]*u,T=Math.pow(1-S[B],2)*i+2*(1-S[B])*S[B]*l+S[B]*S[B]*f,k=Math.pow(C-e,2)+Math.pow(T-r,2),x>=0?k<x&&(x=k):x=k;return x},wx=function(e,r,n,i,s,l){var u=[e-n,r-i],f=[s-n,l-i],c=f[0]*f[0]+f[1]*f[1],v=u[0]*u[0]+u[1]*u[1],h=u[0]*f[0]+u[1]*f[1],g=h*h/c;return h<0?v:g>c?(e-s)*(e-s)+(r-l)*(r-l):v-g},Dr=function(e,r,n){for(var i,s,l,u,f,c=0,v=0;v<n.length/2;v++)if(i=n[v*2],s=n[v*2+1],v+1<n.length/2?(l=n[(v+1)*2],u=n[(v+1)*2+1]):(l=n[(v+1-n.length/2)*2],u=n[(v+1-n.length/2)*2+1]),!(i==e&&l==e))if(i>=e&&e>=l||i<=e&&e<=l)f=(e-i)/(l-i)*(u-s)+s,f>r&&c++;else continue;return c%2!==0},An=function(e,r,n,i,s,l,u,f,c){var v=new Array(n.length),h;f[0]!=null?(h=Math.atan(f[1]/f[0]),f[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=f;for(var g=Math.cos(-h),m=Math.sin(-h),y=0;y<v.length/2;y++)v[y*2]=l/2*(n[y*2]*g-n[y*2+1]*m),v[y*2+1]=u/2*(n[y*2+1]*g+n[y*2]*m),v[y*2]+=i,v[y*2+1]+=s;var S;if(c>0){var E=tu(v,-c);S=eu(E)}else S=v;return Dr(e,r,S)},xx=function(e,r,n,i,s,l,u,f){for(var c=new Array(n.length*2),v=0;v<f.length;v++){var h=f[v];c[v*4+0]=h.startX,c[v*4+1]=h.startY,c[v*4+2]=h.stopX,c[v*4+3]=h.stopY;var g=Math.pow(h.cx-e,2)+Math.pow(h.cy-r,2);if(g<=Math.pow(h.radius,2))return!0}return Dr(e,r,c)},eu=function(e){for(var r=new Array(e.length/2),n,i,s,l,u,f,c,v,h=0;h<e.length/4;h++){n=e[h*4],i=e[h*4+1],s=e[h*4+2],l=e[h*4+3],h<e.length/4-1?(u=e[(h+1)*4],f=e[(h+1)*4+1],c=e[(h+1)*4+2],v=e[(h+1)*4+3]):(u=e[0],f=e[1],c=e[2],v=e[3]);var g=oa(n,i,s,l,u,f,c,v,!0);r[h*2]=g[0],r[h*2+1]=g[1]}return r},tu=function(e,r){for(var n=new Array(e.length*2),i,s,l,u,f=0;f<e.length/2;f++){i=e[f*2],s=e[f*2+1],f<e.length/2-1?(l=e[(f+1)*2],u=e[(f+1)*2+1]):(l=e[0],u=e[1]);var c=u-s,v=-(l-i),h=Math.sqrt(c*c+v*v),g=c/h,m=v/h;n[f*4]=i+g*r,n[f*4+1]=s+m*r,n[f*4+2]=l+g*r,n[f*4+3]=u+m*r}return n},Ex=function(e,r,n,i,s,l){var u=n-e,f=i-r;u/=s,f/=l;var c=Math.sqrt(u*u+f*f),v=c-1;if(v<0)return[];var h=v/c;return[(n-e)*h+e,(i-r)*h+r]},Oa=function(e,r,n,i,s,l,u){return e-=s,r-=l,e/=n/2+u,r/=i/2+u,e*e+r*r<=1},Fo=function(e,r,n,i,s,l,u){var f=[n-e,i-r],c=[e-s,r-l],v=f[0]*f[0]+f[1]*f[1],h=2*(c[0]*f[0]+c[1]*f[1]),g=c[0]*c[0]+c[1]*c[1]-u*u,m=h*h-4*v*g;if(m<0)return[];var y=(-h+Math.sqrt(m))/(2*v),S=(-h-Math.sqrt(m))/(2*v),E=Math.min(y,S),x=Math.max(y,S),C=[];if(E>=0&&E<=1&&C.push(E),x>=0&&x<=1&&C.push(x),C.length===0)return[];var T=C[0]*f[0]+e,k=C[0]*f[1]+r;if(C.length>1){if(C[0]==C[1])return[T,k];var B=C[1]*f[0]+e,R=C[1]*f[1]+r;return[T,k,B,R]}else return[T,k]},wc=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},oa=function(e,r,n,i,s,l,u,f,c){var v=e-s,h=n-e,g=u-s,m=r-l,y=i-r,S=f-l,E=g*m-S*v,x=h*m-y*v,C=S*h-g*y;if(C!==0){var T=E/C,k=x/C,B=.001,R=0-B,P=1+B;return R<=T&&T<=P&&R<=k&&k<=P?[e+T*h,r+T*y]:c?[e+T*h,r+T*y]:[]}else return E===0||x===0?wc(e,n,u)===u?[u,f]:wc(e,n,s)===s?[s,l]:wc(s,u,n)===n?[n,i]:[]:[]},Qo=function(e,r,n,i,s,l,u,f){var c=[],v,h=new Array(n.length),g=!0;l==null&&(g=!1);var m;if(g){for(var y=0;y<h.length/2;y++)h[y*2]=n[y*2]*l+i,h[y*2+1]=n[y*2+1]*u+s;if(f>0){var S=tu(h,-f);m=eu(S)}else m=h}else m=n;for(var E,x,C,T,k=0;k<m.length/2;k++)E=m[k*2],x=m[k*2+1],k<m.length/2-1?(C=m[(k+1)*2],T=m[(k+1)*2+1]):(C=m[0],T=m[1]),v=oa(e,r,i,s,E,x,C,T),v.length!==0&&c.push(v[0],v[1]);return c},Sx=function(e,r,n,i,s,l,u,f,c){var v=[],h,g=new Array(n.length*2);c.forEach(function(C,T){T===0?(g[g.length-2]=C.startX,g[g.length-1]=C.startY):(g[T*4-2]=C.startX,g[T*4-1]=C.startY),g[T*4]=C.stopX,g[T*4+1]=C.stopY,h=Fo(e,r,i,s,C.cx,C.cy,C.radius),h.length!==0&&v.push(h[0],h[1])});for(var m=0;m<g.length/4;m++)h=oa(e,r,i,s,g[m*4],g[m*4+1],g[m*4+2],g[m*4+3],!1),h.length!==0&&v.push(h[0],h[1]);if(v.length>2){for(var y=[v[0],v[1]],S=Math.pow(y[0]-e,2)+Math.pow(y[1]-r,2),E=1;E<v.length/2;E++){var x=Math.pow(v[E*2]-e,2)+Math.pow(v[E*2+1]-r,2);x<=S&&(y[0]=v[E*2],y[1]=v[E*2+1],S=x)}return y}return v},kl=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],s=Math.sqrt(i[0]*i[0]+i[1]*i[1]),l=(s-n)/s;return l<0&&(l=1e-5),[r[0]+l*i[0],r[1]+l*i[1]]},wr=function(e,r){var n=Lc(e,r);return n=Gg(n),n},Gg=function(e){for(var r,n,i=e.length/2,s=1/0,l=1/0,u=-1/0,f=-1/0,c=0;c<i;c++)r=e[2*c],n=e[2*c+1],s=Math.min(s,r),u=Math.max(u,r),l=Math.min(l,n),f=Math.max(f,n);for(var v=2/(u-s),h=2/(f-l),g=0;g<i;g++)r=e[2*g]=e[2*g]*v,n=e[2*g+1]=e[2*g+1]*h,s=Math.min(s,r),u=Math.max(u,r),l=Math.min(l,n),f=Math.max(f,n);if(l<-1)for(var m=0;m<i;m++)n=e[2*m+1]=e[2*m+1]+(-1-l);return e},Lc=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var s=new Array(e*2),l,u=0;u<e;u++)l=u*n+i,s[2*u]=Math.cos(l),s[2*u+1]=Math.sin(-l);return s},_a=function(e,r){return Math.min(e/4,r/4,8)},Xg=function(e,r){return Math.min(e/10,r/10,8)},nd=function(){return 8},bx=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Mc=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Cx=Xt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Tx={pageRank:function(e){for(var r=Cx(e),n=r.dampingFactor,i=r.precision,s=r.iterations,l=r.weight,u=this._private.cy,f=this.byGroup(),c=f.nodes,v=f.edges,h=c.length,g=h*h,m=v.length,y=new Array(g),S=new Array(h),E=(1-n)/h,x=0;x<h;x++){for(var C=0;C<h;C++){var T=x*h+C;y[T]=0}S[x]=0}for(var k=0;k<m;k++){var B=v[k],R=B.data("source"),P=B.data("target");if(R!==P){var L=c.indexOfId(R),A=c.indexOfId(P),z=l(B),O=A*h+L;y[O]+=z,S[L]+=z}}for(var N=1/h+E,_=0;_<h;_++)if(S[_]===0)for(var F=0;F<h;F++){var K=F*h+_;y[K]=N}else for(var W=0;W<h;W++){var H=W*h+_;y[H]=y[H]/S[_]+E}for(var $=new Array(h),G=new Array(h),X,M=0;M<h;M++)$[M]=1;for(var V=0;V<s;V++){for(var te=0;te<h;te++)G[te]=0;for(var ae=0;ae<h;ae++)for(var se=0;se<h;se++){var oe=ae*h+se;G[ae]+=y[oe]*$[se]}sx(G),X=$,$=G,G=X;for(var ce=0,ue=0;ue<h;ue++){var Z=X[ue]-$[ue];ce+=Z*Z}if(ce<i)break}var Q={rank:function(pe){return pe=u.collection(pe)[0],$[c.indexOf(pe)]}};return Q}},cp=Xt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Pi={degreeCentralityNormalized:function(e){e=cp(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var v={},h={},g=0,m=0,y=0;y<i;y++){var S=n[y],E=S.id();e.root=S;var x=this.degreeCentrality(e);g<x.indegree&&(g=x.indegree),m<x.outdegree&&(m=x.outdegree),v[E]=x.indegree,h[E]=x.outdegree}return{indegree:function(T){return g==0?0:(Me(T)&&(T=r.filter(T)),v[T.id()]/g)},outdegree:function(T){return m===0?0:(Me(T)&&(T=r.filter(T)),h[T.id()]/m)}}}else{for(var s={},l=0,u=0;u<i;u++){var f=n[u];e.root=f;var c=this.degreeCentrality(e);l<c.degree&&(l=c.degree),s[f.id()]=c.degree}return{degree:function(T){return l===0?0:(Me(T)&&(T=r.filter(T)),s[T.id()]/l)}}}},degreeCentrality:function(e){e=cp(e);var r=this.cy(),n=this,i=e,s=i.root,l=i.weight,u=i.directed,f=i.alpha;if(s=r.collection(s)[0],u){for(var m=s.connectedEdges(),y=m.filter(function(R){return R.target().same(s)&&n.has(R)}),S=m.filter(function(R){return R.source().same(s)&&n.has(R)}),E=y.length,x=S.length,C=0,T=0,k=0;k<y.length;k++)C+=l(y[k]);for(var B=0;B<S.length;B++)T+=l(S[B]);return{indegree:Math.pow(E,1-f)*Math.pow(C,f),outdegree:Math.pow(x,1-f)*Math.pow(T,f)}}else{for(var c=s.connectedEdges().intersection(n),v=c.length,h=0,g=0;g<c.length;g++)h+=l(c[g]);return{degree:Math.pow(v,1-f)*Math.pow(h,f)}}}};Pi.dc=Pi.degreeCentrality;Pi.dcn=Pi.degreeCentralityNormalised=Pi.degreeCentralityNormalized;var dp=Xt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Di={closenessCentralityNormalized:function(e){for(var r=dp(e),n=r.harmonic,i=r.weight,s=r.directed,l=this.cy(),u={},f=0,c=this.nodes(),v=this.floydWarshall({weight:i,directed:s}),h=0;h<c.length;h++){for(var g=0,m=c[h],y=0;y<c.length;y++)if(h!==y){var S=v.distance(m,c[y]);n?g+=1/S:g+=S}n||(g=1/g),f<g&&(f=g),u[m.id()]=g}return{closeness:function(x){return f==0?0:(Me(x)?x=l.filter(x)[0].id():x=x.id(),u[x]/f)}}},closenessCentrality:function(e){var r=dp(e),n=r.root,i=r.weight,s=r.directed,l=r.harmonic;n=this.filter(n)[0];for(var u=this.dijkstra({root:n,weight:i,directed:s}),f=0,c=this.nodes(),v=0;v<c.length;v++){var h=c[v];if(!h.same(n)){var g=u.distanceTo(h);l?f+=1/g:f+=g}}return l?f:1/f}};Di.cc=Di.closenessCentrality;Di.ccn=Di.closenessCentralityNormalised=Di.closenessCentralityNormalized;var kx=Xt({weight:null,directed:!1}),Nc={betweennessCentrality:function(e){for(var r=kx(e),n=r.directed,i=r.weight,s=i!=null,l=this.cy(),u=this.nodes(),f={},c={},v=0,h={set:function(T,k){c[T]=k,k>v&&(v=k)},get:function(T){return c[T]}},g=0;g<u.length;g++){var m=u[g],y=m.id();n?f[y]=m.outgoers().nodes():f[y]=m.openNeighborhood().nodes(),h.set(y,0)}for(var S=function(T){for(var k=u[T].id(),B=[],R={},P={},L={},A=new os(function(se,oe){return L[se]-L[oe]}),z=0;z<u.length;z++){var O=u[z].id();R[O]=[],P[O]=0,L[O]=1/0}for(P[k]=1,L[k]=0,A.push(k);!A.empty();){var N=A.pop();if(B.push(N),s)for(var _=0;_<f[N].length;_++){var F=f[N][_],K=l.getElementById(N),W=void 0;K.edgesTo(F).length>0?W=K.edgesTo(F)[0]:W=F.edgesTo(K)[0];var H=i(W);F=F.id(),L[F]>L[N]+H&&(L[F]=L[N]+H,A.nodes.indexOf(F)<0?A.push(F):A.updateItem(F),P[F]=0,R[F]=[]),L[F]==L[N]+H&&(P[F]=P[F]+P[N],R[F].push(N))}else for(var $=0;$<f[N].length;$++){var G=f[N][$].id();L[G]==1/0&&(A.push(G),L[G]=L[N]+1),L[G]==L[N]+1&&(P[G]=P[G]+P[N],R[G].push(N))}}for(var X={},M=0;M<u.length;M++)X[u[M].id()]=0;for(;B.length>0;){for(var V=B.pop(),te=0;te<R[V].length;te++){var ae=R[V][te];X[ae]=X[ae]+P[ae]/P[V]*(1+X[V])}V!=u[T].id()&&h.set(V,h.get(V)+X[V])}},E=0;E<u.length;E++)S(E);var x={betweenness:function(T){var k=l.collection(T).id();return h.get(k)},betweennessNormalized:function(T){if(v==0)return 0;var k=l.collection(T).id();return h.get(k)/v}};return x.betweennessNormalised=x.betweennessNormalized,x}};Nc.bc=Nc.betweennessCentrality;var Px=Xt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Dx=function(e){return Px(e)},Rx=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},Bx=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},Yg=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var s=0;s<r;s++)n+=e[s*r+i];for(var l=0;l<r;l++)e[l*r+i]=e[l*r+i]/n}},Ax=function(e,r,n){for(var i=new Array(n*n),s=0;s<n;s++){for(var l=0;l<n;l++)i[s*n+l]=0;for(var u=0;u<n;u++)for(var f=0;f<n;f++)i[s*n+f]+=e[s*n+u]*r[u*n+f]}return i},Lx=function(e,r,n){for(var i=e.slice(0),s=1;s<n;s++)e=Ax(e,i,r);return e},Mx=function(e,r,n){for(var i=new Array(r*r),s=0;s<r*r;s++)i[s]=Math.pow(e[s],n);return Yg(i,r),i},Nx=function(e,r,n,i){for(var s=0;s<n;s++){var l=Math.round(e[s]*Math.pow(10,i))/Math.pow(10,i),u=Math.round(r[s]*Math.pow(10,i))/Math.pow(10,i);if(l!==u)return!1}return!0},Ix=function(e,r,n,i){for(var s=[],l=0;l<r;l++){for(var u=[],f=0;f<r;f++)Math.round(e[l*r+f]*1e3)/1e3>0&&u.push(n[f]);u.length!==0&&s.push(i.collection(u))}return s},Ox=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},zx=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&Ox(e[r],e[n])&&e.splice(n,1);return e},vp=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),s=Dx(e),l={},u=0;u<r.length;u++)l[r[u].id()]=u;for(var f=r.length,c=f*f,v=new Array(c),h,g=0;g<c;g++)v[g]=0;for(var m=0;m<n.length;m++){var y=n[m],S=l[y.source().id()],E=l[y.target().id()],x=Rx(y,s.attributes);v[S*f+E]+=x,v[E*f+S]+=x}Bx(v,f,s.multFactor),Yg(v,f);for(var C=!0,T=0;C&&T<s.maxIterations;)C=!1,h=Lx(v,f,s.expandFactor),v=Mx(h,f,s.inflateFactor),Nx(v,h,c,4)||(C=!0),T++;var k=Ix(v,f,r,i);return k=zx(k),k},Fx={markovClustering:vp,mcl:vp},_x=function(e){return e},Qg=function(e,r){return Math.abs(r-e)},hp=function(e,r,n){return e+Qg(r,n)},pp=function(e,r,n){return e+Math.pow(n-r,2)},Vx=function(e){return Math.sqrt(e)},Ux=function(e,r,n){return Math.max(e,Qg(r,n))},Do=function(e,r,n,i,s){for(var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:_x,u=i,f,c,v=0;v<e;v++)f=r(v),c=n(v),u=s(u,f,c);return l(u)},Li={euclidean:function(e,r,n){return e>=2?Do(e,r,n,0,pp,Vx):Do(e,r,n,0,hp)},squaredEuclidean:function(e,r,n){return Do(e,r,n,0,pp)},manhattan:function(e,r,n){return Do(e,r,n,0,hp)},max:function(e,r,n){return Do(e,r,n,-1/0,Ux)}};Li["squared-euclidean"]=Li.squaredEuclidean;Li.squaredeuclidean=Li.squaredEuclidean;function vu(t,e,r,n,i,s){var l;return Ct(t)?l=t:l=Li[t]||Li.euclidean,e===0&&Ct(t)?l(i,s):l(e,r,n,i,s)}var $x=Xt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ad=function(e){return $x(e)},ru=function(e,r,n,i,s){var l=s!=="kMedoids",u=l?function(h){return n[h]}:function(h){return i[h](n)},f=function(g){return i[g](r)},c=n,v=r;return vu(e,i.length,u,f,c,v)},xc=function(e,r,n){for(var i=n.length,s=new Array(i),l=new Array(i),u=new Array(r),f=null,c=0;c<i;c++)s[c]=e.min(n[c]).value,l[c]=e.max(n[c]).value;for(var v=0;v<r;v++){f=[];for(var h=0;h<i;h++)f[h]=Math.random()*(l[h]-s[h])+s[h];u[v]=f}return u},Zg=function(e,r,n,i,s){for(var l=1/0,u=0,f=0;f<r.length;f++){var c=ru(n,e,r[f],i,s);c<l&&(l=c,u=f)}return u},jg=function(e,r,n){for(var i=[],s=null,l=0;l<r.length;l++)s=r[l],n[s.id()]===e&&i.push(s);return i},Wx=function(e,r,n){return Math.abs(r-e)<=n},Hx=function(e,r,n){for(var i=0;i<e.length;i++)for(var s=0;s<e[i].length;s++){var l=Math.abs(e[i][s]-r[i][s]);if(l>n)return!1}return!0},Kx=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},gp=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var s=e[Math.floor(Math.random()*e.length)];Kx(s,n,i);)s=e[Math.floor(Math.random()*e.length)];n[i]=s}else for(var l=0;l<r;l++)n[l]=e[Math.floor(Math.random()*e.length)];return n},yp=function(e,r,n){for(var i=0,s=0;s<r.length;s++)i+=ru("manhattan",r[s],e,n,"kMedoids");return i},qx=function(e){var r=this.cy(),n=this.nodes(),i=null,s=ad(e),l=new Array(s.k),u={},f;s.testMode?typeof s.testCentroids=="number"?(s.testCentroids,f=xc(n,s.k,s.attributes)):_t(s.testCentroids)==="object"?f=s.testCentroids:f=xc(n,s.k,s.attributes):f=xc(n,s.k,s.attributes);for(var c=!0,v=0;c&&v<s.maxIterations;){for(var h=0;h<n.length;h++)i=n[h],u[i.id()]=Zg(i,f,s.distance,s.attributes,"kMeans");c=!1;for(var g=0;g<s.k;g++){var m=jg(g,n,u);if(m.length!==0){for(var y=s.attributes.length,S=f[g],E=new Array(y),x=new Array(y),C=0;C<y;C++){x[C]=0;for(var T=0;T<m.length;T++)i=m[T],x[C]+=s.attributes[C](i);E[C]=x[C]/m.length,Wx(E[C],S[C],s.sensitivityThreshold)||(c=!0)}f[g]=E,l[g]=r.collection(m)}}v++}return l},Gx=function(e){var r=this.cy(),n=this.nodes(),i=null,s=ad(e),l=new Array(s.k),u,f={},c,v=new Array(s.k);s.testMode?typeof s.testCentroids=="number"||(_t(s.testCentroids)==="object"?u=s.testCentroids:u=gp(n,s.k)):u=gp(n,s.k);for(var h=!0,g=0;h&&g<s.maxIterations;){for(var m=0;m<n.length;m++)i=n[m],f[i.id()]=Zg(i,u,s.distance,s.attributes,"kMedoids");h=!1;for(var y=0;y<u.length;y++){var S=jg(y,n,f);if(S.length!==0){v[y]=yp(u[y],S,s.attributes);for(var E=0;E<S.length;E++)c=yp(S[E],S,s.attributes),c<v[y]&&(v[y]=c,u[y]=S[E],h=!0);l[y]=r.collection(S)}}g++}return l},Xx=function(e,r,n,i,s){for(var l,u,f=0;f<r.length;f++)for(var c=0;c<e.length;c++)i[f][c]=Math.pow(n[f][c],s.m);for(var v=0;v<e.length;v++)for(var h=0;h<s.attributes.length;h++){l=0,u=0;for(var g=0;g<r.length;g++)l+=i[g][v]*s.attributes[h](r[g]),u+=i[g][v];e[v][h]=l/u}},Yx=function(e,r,n,i,s){for(var l=0;l<e.length;l++)r[l]=e[l].slice();for(var u,f,c,v=2/(s.m-1),h=0;h<n.length;h++)for(var g=0;g<i.length;g++){u=0;for(var m=0;m<n.length;m++)f=ru(s.distance,i[g],n[h],s.attributes,"cmeans"),c=ru(s.distance,i[g],n[m],s.attributes,"cmeans"),u+=Math.pow(f/c,v);e[g][h]=1/u}},Qx=function(e,r,n,i){for(var s=new Array(n.k),l=0;l<s.length;l++)s[l]=[];for(var u,f,c=0;c<r.length;c++){u=-1/0,f=-1;for(var v=0;v<r[0].length;v++)r[c][v]>u&&(u=r[c][v],f=v);s[f].push(e[c])}for(var h=0;h<s.length;h++)s[h]=i.collection(s[h]);return s},mp=function(e){var r=this.cy(),n=this.nodes(),i=ad(e),s,l,u,f,c;f=new Array(n.length);for(var v=0;v<n.length;v++)f[v]=new Array(i.k);u=new Array(n.length);for(var h=0;h<n.length;h++)u[h]=new Array(i.k);for(var g=0;g<n.length;g++){for(var m=0,y=0;y<i.k;y++)u[g][y]=Math.random(),m+=u[g][y];for(var S=0;S<i.k;S++)u[g][S]=u[g][S]/m}l=new Array(i.k);for(var E=0;E<i.k;E++)l[E]=new Array(i.attributes.length);c=new Array(n.length);for(var x=0;x<n.length;x++)c[x]=new Array(i.k);for(var C=!0,T=0;C&&T<i.maxIterations;)C=!1,Xx(l,n,u,c,i),Yx(u,f,l,n,i),Hx(u,f,i.sensitivityThreshold)||(C=!0),T++;return s=Qx(n,u,i,r),{clusters:s,degreeOfMembership:u}},Zx={kMeans:qx,kMedoids:Gx,fuzzyCMeans:mp,fcm:mp},jx=Xt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Jx={single:"min",complete:"max"},eE=function(e){var r=jx(e),n=Jx[r.linkage];return n!=null&&(r.linkage=n),r},wp=function(e,r,n,i,s){for(var l=0,u=1/0,f,c=s.attributes,v=function(A,z){return vu(s.distance,c.length,function(O){return c[O](A)},function(O){return c[O](z)},A,z)},h=0;h<e.length;h++){var g=e[h].key,m=n[g][i[g]];m<u&&(l=g,u=m)}if(s.mode==="threshold"&&u>=s.threshold||s.mode==="dendrogram"&&e.length===1)return!1;var y=r[l],S=r[i[l]],E;s.mode==="dendrogram"?E={left:y,right:S,key:y.key}:E={value:y.value.concat(S.value),key:y.key},e[y.index]=E,e.splice(S.index,1),r[y.key]=E;for(var x=0;x<e.length;x++){var C=e[x];y.key===C.key?f=1/0:s.linkage==="min"?(f=n[y.key][C.key],n[y.key][C.key]>n[S.key][C.key]&&(f=n[S.key][C.key])):s.linkage==="max"?(f=n[y.key][C.key],n[y.key][C.key]<n[S.key][C.key]&&(f=n[S.key][C.key])):s.linkage==="mean"?f=(n[y.key][C.key]*y.size+n[S.key][C.key]*S.size)/(y.size+S.size):s.mode==="dendrogram"?f=v(C.value,y.value):f=v(C.value[0],y.value[0]),n[y.key][C.key]=n[C.key][y.key]=f}for(var T=0;T<e.length;T++){var k=e[T].key;if(i[k]===y.key||i[k]===S.key){for(var B=k,R=0;R<e.length;R++){var P=e[R].key;n[k][P]<n[k][B]&&(B=P)}i[k]=B}e[T].index=T}return y.key=S.key=y.index=S.index=null,!0},Pl=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},tE=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),s=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:s.id()}}),r.add({group:"edges",data:{source:i,target:s.id()}}),s.id()}else if(e.value)return e.value.id()},rE=function t(e,r,n){if(!e)return[];var i=[],s=[],l=[];return r===0?(e.left&&Pl(e.left,i),e.right&&Pl(e.right,s),l=i.concat(s),[n.collection(l)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Pl(e.left,i),e.right&&Pl(e.right,s),[n.collection(i),n.collection(s)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(s=t(e.right,r-1,n)),i.concat(s))},xp=function(e){for(var r=this.cy(),n=this.nodes(),i=eE(e),s=i.attributes,l=function(T,k){return vu(i.distance,s.length,function(B){return s[B](T)},function(B){return s[B](k)},T,k)},u=[],f=[],c=[],v=[],h=0;h<n.length;h++){var g={value:i.mode==="dendrogram"?n[h]:[n[h]],key:h,index:h};u[h]=g,v[h]=g,f[h]=[],c[h]=0}for(var m=0;m<u.length;m++)for(var y=0;y<=m;y++){var S=void 0;i.mode==="dendrogram"?S=m===y?1/0:l(u[m].value,u[y].value):S=m===y?1/0:l(u[m].value[0],u[y].value[0]),f[m][y]=S,f[y][m]=S,S<f[m][c[m]]&&(c[m]=y)}for(var E=wp(u,v,f,c,i);E;)E=wp(u,v,f,c,i);var x;return i.mode==="dendrogram"?(x=rE(u[0],i.dendrogramDepth,r),i.addDendrogram&&tE(u[0],r)):(x=new Array(u.length),u.forEach(function(C,T){C.key=C.index=null,x[T]=r.collection(C.value)})),x},nE={hierarchicalClustering:xp,hca:xp},aE=Xt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),iE=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||bt("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(s){return s===n})||xe(n)||bt("Preference must be one of [".concat(i.map(function(s){return"'".concat(s,"'")}).join(", "),"] or a number.  Got: ").concat(n)),aE(e)},oE=function(e,r,n,i){var s=function(u,f){return i[f](u)};return-vu(e,i.length,function(l){return s(r,l)},function(l){return s(n,l)},r,n)},sE=function(e,r){var n=null;return r==="median"?n=ix(e):r==="mean"?n=ax(e):r==="min"?n=rx(e):r==="max"?n=nx(e):n=r,n},lE=function(e,r,n){for(var i=[],s=0;s<e;s++)r[s*e+s]+n[s*e+s]>0&&i.push(s);return i},Ep=function(e,r,n){for(var i=[],s=0;s<e;s++){for(var l=-1,u=-1/0,f=0;f<n.length;f++){var c=n[f];r[s*e+c]>u&&(l=c,u=r[s*e+c])}l>0&&i.push(l)}for(var v=0;v<n.length;v++)i[n[v]]=n[v];return i},uE=function(e,r,n){for(var i=Ep(e,r,n),s=0;s<n.length;s++){for(var l=[],u=0;u<i.length;u++)i[u]===n[s]&&l.push(u);for(var f=-1,c=-1/0,v=0;v<l.length;v++){for(var h=0,g=0;g<l.length;g++)h+=r[l[g]*e+l[v]];h>c&&(f=v,c=h)}n[s]=l[f]}return i=Ep(e,r,n),i},Sp=function(e){for(var r=this.cy(),n=this.nodes(),i=iE(e),s={},l=0;l<n.length;l++)s[n[l].id()]=l;var u,f,c,v,h,g;u=n.length,f=u*u,c=new Array(f);for(var m=0;m<f;m++)c[m]=-1/0;for(var y=0;y<u;y++)for(var S=0;S<u;S++)y!==S&&(c[y*u+S]=oE(i.distance,n[y],n[S],i.attributes));v=sE(c,i.preference);for(var E=0;E<u;E++)c[E*u+E]=v;h=new Array(f);for(var x=0;x<f;x++)h[x]=0;g=new Array(f);for(var C=0;C<f;C++)g[C]=0;for(var T=new Array(u),k=new Array(u),B=new Array(u),R=0;R<u;R++)T[R]=0,k[R]=0,B[R]=0;for(var P=new Array(u*i.minIterations),L=0;L<P.length;L++)P[L]=0;var A;for(A=0;A<i.maxIterations;A++){for(var z=0;z<u;z++){for(var O=-1/0,N=-1/0,_=-1,F=0,K=0;K<u;K++)T[K]=h[z*u+K],F=g[z*u+K]+c[z*u+K],F>=O?(N=O,O=F,_=K):F>N&&(N=F);for(var W=0;W<u;W++)h[z*u+W]=(1-i.damping)*(c[z*u+W]-O)+i.damping*T[W];h[z*u+_]=(1-i.damping)*(c[z*u+_]-N)+i.damping*T[_]}for(var H=0;H<u;H++){for(var $=0,G=0;G<u;G++)T[G]=g[G*u+H],k[G]=Math.max(0,h[G*u+H]),$+=k[G];$-=k[H],k[H]=h[H*u+H],$+=k[H];for(var X=0;X<u;X++)g[X*u+H]=(1-i.damping)*Math.min(0,$-k[X])+i.damping*T[X];g[H*u+H]=(1-i.damping)*($-k[H])+i.damping*T[H]}for(var M=0,V=0;V<u;V++){var te=g[V*u+V]+h[V*u+V]>0?1:0;P[A%i.minIterations*u+V]=te,M+=te}if(M>0&&(A>=i.minIterations-1||A==i.maxIterations-1)){for(var ae=0,se=0;se<u;se++){B[se]=0;for(var oe=0;oe<i.minIterations;oe++)B[se]+=P[oe*u+se];(B[se]===0||B[se]===i.minIterations)&&ae++}if(ae===u)break}}for(var ce=lE(u,h,g),ue=uE(u,c,ce),Z={},Q=0;Q<ce.length;Q++)Z[ce[Q]]=[];for(var le=0;le<n.length;le++){var pe=s[n[le].id()],Se=ue[pe];Se!=null&&Z[Se].push(n[le])}for(var Te=new Array(ce.length),Xe=0;Xe<ce.length;Xe++)Te[Xe]=r.collection(Z[ce[Xe]]);return Te},fE={affinityPropagation:Sp,ap:Sp},cE=Xt({root:void 0,directed:!1}),dE={hierholzer:function(e){if(!rt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=cE(e),i=n.root,s=n.directed,l=this,u=!1,f,c,v;i&&(v=Me(i)?this.filter(i)[0].id():i[0].id());var h={},g={};s?l.forEach(function(C){var T=C.id();if(C.isNode()){var k=C.indegree(!0),B=C.outdegree(!0),R=k-B,P=B-k;R==1?f?u=!0:f=T:P==1?c?u=!0:c=T:(P>1||R>1)&&(u=!0),h[T]=[],C.outgoers().forEach(function(L){L.isEdge()&&h[T].push(L.id())})}else g[T]=[void 0,C.target().id()]}):l.forEach(function(C){var T=C.id();if(C.isNode()){var k=C.degree(!0);k%2&&(f?c?u=!0:c=T:f=T),h[T]=[],C.connectedEdges().forEach(function(B){return h[T].push(B.id())})}else g[T]=[C.source().id(),C.target().id()]});var m={found:!1,trail:void 0};if(u)return m;if(c&&f)if(s){if(v&&c!=v)return m;v=c}else{if(v&&c!=v&&f!=v)return m;v||(v=c)}else v||(v=l[0].id());var y=function(T){for(var k=T,B=[T],R,P,L;h[k].length;)R=h[k].shift(),P=g[R][0],L=g[R][1],k!=L?(h[L]=h[L].filter(function(A){return A!=R}),k=L):!s&&k!=P&&(h[P]=h[P].filter(function(A){return A!=R}),k=P),B.unshift(R),B.unshift(k);return B},S=[],E=[];for(E=y(v);E.length!=1;)h[E[0]].length==0?(S.unshift(l.getElementById(E.shift())),S.unshift(l.getElementById(E.shift()))):E=y(E.shift()).concat(E);S.unshift(l.getElementById(E.shift()));for(var x in h)if(h[x].length)return m;return m.found=!0,m.trail=this.spawn(S,!0),m}},Dl=function(){var e=this,r={},n=0,i=0,s=[],l=[],u={},f=function(g,m){for(var y=l.length-1,S=[],E=e.spawn();l[y].x!=g||l[y].y!=m;)S.push(l.pop().edge),y--;S.push(l.pop().edge),S.forEach(function(x){var C=x.connectedNodes().intersection(e);E.merge(x),C.forEach(function(T){var k=T.id(),B=T.connectedEdges().intersection(e);E.merge(T),r[k].cutVertex?E.merge(B.filter(function(R){return R.isLoop()})):E.merge(B)})}),s.push(E)},c=function h(g,m,y){g===y&&(i+=1),r[m]={id:n,low:n++,cutVertex:!1};var S=e.getElementById(m).connectedEdges().intersection(e);if(S.size()===0)s.push(e.spawn(e.getElementById(m)));else{var E,x,C,T;S.forEach(function(k){E=k.source().id(),x=k.target().id(),C=E===m?x:E,C!==y&&(T=k.id(),u[T]||(u[T]=!0,l.push({x:m,y:C,edge:k})),C in r?r[m].low=Math.min(r[m].low,r[C].id):(h(g,C,m),r[m].low=Math.min(r[m].low,r[C].low),r[m].id<=r[C].low&&(r[m].cutVertex=!0,f(m,C))))})}};e.forEach(function(h){if(h.isNode()){var g=h.id();g in r||(i=0,c(g,g),r[g].cutVertex=i>1)}});var v=Object.keys(r).filter(function(h){return r[h].cutVertex}).map(function(h){return e.getElementById(h)});return{cut:e.spawn(v),components:s}},vE={hopcroftTarjanBiconnected:Dl,htbc:Dl,htb:Dl,hopcroftTarjanBiconnectedComponents:Dl},Rl=function(){var e=this,r={},n=0,i=[],s=[],l=e.spawn(e),u=function f(c){s.push(c),r[c]={index:n,low:n++,explored:!1};var v=e.getElementById(c).connectedEdges().intersection(e);if(v.forEach(function(S){var E=S.target().id();E!==c&&(E in r||f(E),r[E].explored||(r[c].low=Math.min(r[c].low,r[E].low)))}),r[c].index===r[c].low){for(var h=e.spawn();;){var g=s.pop();if(h.merge(e.getElementById(g)),r[g].low=r[c].index,r[g].explored=!0,g===c)break}var m=h.edgesWith(h),y=h.merge(m);i.push(y),l=l.difference(y)}};return e.forEach(function(f){if(f.isNode()){var c=f.id();c in r||u(c)}}),{cut:l,components:i}},hE={tarjanStronglyConnected:Rl,tsc:Rl,tscc:Rl,tarjanStronglyConnectedComponents:Rl},Jg={};[Xo,Hw,Kw,Gw,Yw,Zw,ex,Tx,Pi,Di,Nc,Fx,Zx,nE,fE,dE,vE,hE].forEach(function(t){Ue(Jg,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var ey=0,ty=1,ry=2,Ln=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=ey,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ln.prototype={fulfill:function(e){return bp(this,ty,"fulfillValue",e)},reject:function(e){return bp(this,ry,"rejectReason",e)},then:function(e,r){var n=this,i=new Ln;return n.onFulfilled.push(Tp(e,i,"fulfill")),n.onRejected.push(Tp(r,i,"reject")),ny(n),i.proxy}};var bp=function(e,r,n,i){return e.state===ey&&(e.state=r,e[n]=i,ny(e)),e},ny=function(e){e.state===ty?Cp(e,"onFulfilled",e.fulfillValue):e.state===ry&&Cp(e,"onRejected",e.rejectReason)},Cp=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var s=function(){for(var u=0;u<i.length;u++)i[u](n)};typeof setImmediate=="function"?setImmediate(s):setTimeout(s,0)}},Tp=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var s;try{s=e(i)}catch(l){r.reject(l);return}pE(r,s)}}},pE=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(_t(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(s){e.reject(s);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(s){i||(i=!0,s===r?e.reject(new TypeError("circular thenable chain")):t(e,s))},function(s){i||(i=!0,e.reject(s))})}catch(s){i||e.reject(s)}return}e.fulfill(r)};Ln.all=function(t){return new Ln(function(e,r){for(var n=new Array(t.length),i=0,s=function(f,c){n[f]=c,i++,i===t.length&&e(n)},l=0;l<t.length;l++)(function(u){var f=t[u],c=f!=null&&f.then!=null;if(c)f.then(function(h){s(u,h)},function(h){r(h)});else{var v=f;s(u,v)}})(l)})};Ln.resolve=function(t){return new Ln(function(e,r){e(t)})};Ln.reject=function(t){return new Ln(function(e,r){r(t)})};var Ii=typeof Promise<"u"?Promise:Ln,Ic=function(e,r,n){var i=Qc(e),s=!i,l=this._private=Ue({duration:1e3},r,n);if(l.target=e,l.style=l.style||l.css,l.started=!1,l.playing=!1,l.hooked=!1,l.applying=!1,l.progress=0,l.completes=[],l.frames=[],l.complete&&Ct(l.complete)&&l.completes.push(l.complete),s){var u=e.position();l.startPosition=l.startPosition||{x:u.x,y:u.y},l.startStyle=l.startStyle||e.cy().style().getAnimationStartStyle(e,l.style)}if(i){var f=e.pan();l.startPan={x:f.x,y:f.y},l.startZoom=e.zoom()}this.length=1,this[0]=this},Va=Ic.prototype;Ue(Va,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),zr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(c,v){var h=e[c];h!=null&&(e[c]=e[v],e[v]=h)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var s=e.style[i],l=s.name,u=e.startStyle[l];e.startStyle[l]=s,e.style[i]=u}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Ii(function(i,s){n.push(function(){i()})})}});Va.complete=Va.completed;Va.run=Va.play;Va.running=Va.playing;var gE={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],s=this._private.cy||this;if(!s.styleEnabled())return!1;var l=i[0];if(l)return l._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<i.length;l++){var u=i[l];u._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,s=i.length!==void 0,l=s?i:[i],u=this._private.cy||this,f=!s,c=!f;if(!u.styleEnabled())return this;var v=u.style();r=Ue({},r,n);var h=Object.keys(r).length===0;if(h)return new Ic(l[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(c&&(r.style=v.getPropsList(r.style||r.css),r.css=void 0),c&&r.renderedPosition!=null){var g=r.renderedPosition,m=u.pan(),y=u.zoom();r.position=$g(g,y,m)}if(f&&r.panBy!=null){var S=r.panBy,E=u.pan();r.pan={x:E.x+S.x,y:E.y+S.y}}var x=r.center||r.centre;if(f&&x!=null){var C=u.getCenterPan(x.eles,r.zoom);C!=null&&(r.pan=C)}if(f&&r.fit!=null){var T=r.fit,k=u.getFitViewport(T.eles||T.boundingBox,T.padding);k!=null&&(r.pan=k.pan,r.zoom=k.zoom)}if(f&&rt(r.zoom)){var B=u.getZoomedViewport(r.zoom);B!=null?(B.zoomed&&(r.zoom=B.zoom),B.panned&&(r.pan=B.pan)):r.zoom=null}return new Ic(l[0],r)}},animate:function(){return function(r,n){var i=this,s=i.length!==void 0,l=s?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;n&&(r=Ue({},r,n));for(var f=0;f<l.length;f++){var c=l[f],v=c.animated()&&(r.queue===void 0||r.queue),h=c.animation(r,v?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(r,n){var i=this,s=i.length!==void 0,l=s?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var f=0;f<l.length;f++){for(var c=l[f],v=c._private,h=v.animation.current,g=0;g<h.length;g++){var m=h[g],y=m._private;n&&(y.duration=0)}r&&(v.animation.queue=[]),n||(v.animation.current=[])}return u.notify("draw"),this}}},yE=Array.isArray,hu=yE,mE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wE=/^\w*$/;function xE(t,e){if(hu(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||as(t)?!0:wE.test(t)||!mE.test(t)||e!=null&&t in Object(e)}var EE=xE,SE="[object AsyncFunction]",bE="[object Function]",CE="[object GeneratorFunction]",TE="[object Proxy]";function kE(t){if(!za(t))return!1;var e=Mg(t);return e==bE||e==CE||e==SE||e==TE}var PE=kE,DE=fu["__core-js_shared__"],Ec=DE,kp=function(){var t=/[^.]+$/.exec(Ec&&Ec.keys&&Ec.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function RE(t){return!!kp&&kp in t}var BE=RE,AE=Function.prototype,LE=AE.toString;function ME(t){if(t!=null){try{return LE.call(t)}catch{}try{return t+""}catch{}}return""}var NE=ME,IE=/[\\^$.*+?()[\]{}|]/g,OE=/^\[object .+?Constructor\]$/,zE=Function.prototype,FE=Object.prototype,_E=zE.toString,VE=FE.hasOwnProperty,UE=RegExp("^"+_E.call(VE).replace(IE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $E(t){if(!za(t)||BE(t))return!1;var e=PE(t)?UE:OE;return e.test(NE(t))}var WE=$E;function HE(t,e){return t==null?void 0:t[e]}var KE=HE;function qE(t,e){var r=KE(t,e);return WE(r)?r:void 0}var id=qE,GE=id(Object,"create"),Zo=GE;function XE(){this.__data__=Zo?Zo(null):{},this.size=0}var YE=XE;function QE(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ZE=QE,jE="__lodash_hash_undefined__",JE=Object.prototype,e2=JE.hasOwnProperty;function t2(t){var e=this.__data__;if(Zo){var r=e[t];return r===jE?void 0:r}return e2.call(e,t)?e[t]:void 0}var r2=t2,n2=Object.prototype,a2=n2.hasOwnProperty;function i2(t){var e=this.__data__;return Zo?e[t]!==void 0:a2.call(e,t)}var o2=i2,s2="__lodash_hash_undefined__";function l2(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Zo&&e===void 0?s2:e,this}var u2=l2;function Oi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Oi.prototype.clear=YE;Oi.prototype.delete=ZE;Oi.prototype.get=r2;Oi.prototype.has=o2;Oi.prototype.set=u2;var Pp=Oi;function f2(){this.__data__=[],this.size=0}var c2=f2;function d2(t,e){return t===e||t!==t&&e!==e}var ay=d2;function v2(t,e){for(var r=t.length;r--;)if(ay(t[r][0],e))return r;return-1}var pu=v2,h2=Array.prototype,p2=h2.splice;function g2(t){var e=this.__data__,r=pu(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():p2.call(e,r,1),--this.size,!0}var y2=g2;function m2(t){var e=this.__data__,r=pu(e,t);return r<0?void 0:e[r][1]}var w2=m2;function x2(t){return pu(this.__data__,t)>-1}var E2=x2;function S2(t,e){var r=this.__data__,n=pu(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var b2=S2;function zi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zi.prototype.clear=c2;zi.prototype.delete=y2;zi.prototype.get=w2;zi.prototype.has=E2;zi.prototype.set=b2;var C2=zi,T2=id(fu,"Map"),k2=T2;function P2(){this.size=0,this.__data__={hash:new Pp,map:new(k2||C2),string:new Pp}}var D2=P2;function R2(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var B2=R2;function A2(t,e){var r=t.__data__;return B2(e)?r[typeof e=="string"?"string":"hash"]:r.map}var gu=A2;function L2(t){var e=gu(this,t).delete(t);return this.size-=e?1:0,e}var M2=L2;function N2(t){return gu(this,t).get(t)}var I2=N2;function O2(t){return gu(this,t).has(t)}var z2=O2;function F2(t,e){var r=gu(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var _2=F2;function Fi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fi.prototype.clear=D2;Fi.prototype.delete=M2;Fi.prototype.get=I2;Fi.prototype.has=z2;Fi.prototype.set=_2;var iy=Fi,V2="Expected a function";function od(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(V2);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var l=t.apply(this,n);return r.cache=s.set(i,l)||s,l};return r.cache=new(od.Cache||iy),r}od.Cache=iy;var U2=od,$2=500;function W2(t){var e=U2(t,function(n){return r.size===$2&&r.clear(),n}),r=e.cache;return e}var H2=W2,K2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q2=/\\(\\)?/g,G2=H2(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(K2,function(r,n,i,s){e.push(i?s.replace(q2,"$1"):n||r)}),e}),oy=G2;function X2(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var sy=X2,Dp=Bi?Bi.prototype:void 0,Rp=Dp?Dp.toString:void 0;function ly(t){if(typeof t=="string")return t;if(hu(t))return sy(t,ly)+"";if(as(t))return Rp?Rp.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Y2=ly;function Q2(t){return t==null?"":Y2(t)}var uy=Q2;function Z2(t,e){return hu(t)?t:EE(t,e)?[t]:oy(uy(t))}var fy=Z2;function j2(t){if(typeof t=="string"||as(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var sd=j2;function J2(t,e){e=fy(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[sd(e[r++])];return r&&r==n?t:void 0}var eS=J2;function tS(t,e,r){var n=t==null?void 0:eS(t,e);return n===void 0?r:n}var rS=tS,nS=function(){try{var t=id(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Bp=nS;function aS(t,e,r){e=="__proto__"&&Bp?Bp(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var iS=aS,oS=Object.prototype,sS=oS.hasOwnProperty;function lS(t,e,r){var n=t[e];(!(sS.call(t,e)&&ay(n,r))||r===void 0&&!(e in t))&&iS(t,e,r)}var uS=lS,fS=9007199254740991,cS=/^(?:0|[1-9]\d*)$/;function dS(t,e){var r=typeof t;return e=e??fS,!!e&&(r=="number"||r!="symbol"&&cS.test(t))&&t>-1&&t%1==0&&t<e}var vS=dS;function hS(t,e,r,n){if(!za(t))return t;e=fy(e,t);for(var i=-1,s=e.length,l=s-1,u=t;u!=null&&++i<s;){var f=sd(e[i]),c=r;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(i!=l){var v=u[f];c=n?n(v,f,u):void 0,c===void 0&&(c=za(v)?v:vS(e[i+1])?[]:{})}uS(u,f,c),u=u[f]}return t}var pS=hS;function gS(t,e,r){return t==null?t:pS(t,e,r)}var yS=gS;function mS(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var wS=mS;function xS(t){return hu(t)?sy(t,sd):as(t)?[t]:wS(oy(uy(t)))}var ES=xS,SS={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,s){},onSet:function(i){},canSet:function(i){return!0}};return e=Ue({},r,e),function(i,s){var l=e,u=this,f=u.length!==void 0,c=f?u:[u],v=f?u[0]:u;if(Me(i)){var h=i.indexOf(".")!==-1,g=h&&ES(i);if(l.allowGetting&&s===void 0){var m;return v&&(l.beforeGet(v),g&&v._private[l.field][i]===void 0?m=rS(v._private[l.field],g):m=v._private[l.field][i]),m}else if(l.allowSetting&&s!==void 0){var y=!l.immutableKeys[i];if(y){var S=Sg({},i,s);l.beforeSet(u,S);for(var E=0,x=c.length;E<x;E++){var C=c[E];l.canSet(C)&&(g&&v._private[l.field][i]===void 0?yS(C._private[l.field],g,s):C._private[l.field][i]=s)}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}}}else if(l.allowSetting&&rt(i)){var T=i,k,B,R=Object.keys(T);l.beforeSet(u,T);for(var P=0;P<R.length;P++){k=R[P],B=T[k];var L=!l.immutableKeys[k];if(L)for(var A=0;A<c.length;A++){var z=c[A];l.canSet(z)&&(z._private[l.field][k]=B)}}l.updateStyle&&u.updateStyle(),l.onSet(u),l.settingTriggersEvent&&u[l.triggerFnName](l.settingEvent)}else if(l.allowBinding&&Ct(i)){var O=i;u.on(l.bindingEvent,O)}else if(l.allowGetting&&i===void 0){var N;return v&&(l.beforeGet(v),N=v._private[l.field]),N}return u}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ue({},r,e),function(i){var s=e,l=this,u=l.length!==void 0,f=u?l:[l];if(Me(i)){for(var c=i.split(/\s+/),v=c.length,h=0;h<v;h++){var g=c[h];if(!ua(g)){var m=!s.immutableKeys[g];if(m)for(var y=0,S=f.length;y<S;y++)f[y]._private[s.field][g]=void 0}}s.triggerEvent&&l[s.triggerFnName](s.event)}else if(i===void 0){for(var E=0,x=f.length;E<x;E++)for(var C=f[E]._private[s.field],T=Object.keys(C),k=0;k<T.length;k++){var B=T[k],R=!s.immutableKeys[B];R&&(C[B]=void 0)}s.triggerEvent&&l[s.triggerFnName](s.event)}return l}}},bS={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var s=this,l=Array.prototype.slice.call(arguments,0);return new Ii(function(u,f){var c=function(m){s.off.apply(s,h),u(m)},v=l.concat([c]),h=v.concat([]);s.on.apply(s,v)})}}},st={};[gE,SS,bS].forEach(function(t){Ue(st,t)});var CS={animate:st.animate(),animation:st.animation(),animated:st.animated(),clearQueue:st.clearQueue(),delay:st.delay(),delayAnimation:st.delayAnimation(),stop:st.stop()},Hl={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(y){return n.push(y)}),n}else ct(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],s=new Ni(e),l=0;l<r.length;l++){for(var u=r[l],f=u._private,c=f.classes,v=!1,h=0;h<e.length;h++){var g=e[h],m=c.has(g);if(!m){v=!0;break}}v||(v=c.size!==e.length),v&&(f.classes=s,i.push(u))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){ct(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,s=[],l=0,u=n.length;l<u;l++)for(var f=n[l],c=f._private.classes,v=!1,h=0;h<e.length;h++){var g=e[h],m=c.has(g),y=!1;r||i&&!m?(c.add(g),y=!0):(!r||i&&m)&&(c.delete(g),y=!0),!v&&y&&(s.push(f),v=!0)}return s.length>0&&this.spawn(s).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Hl.className=Hl.classNames=Hl.classes;var tt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Ft,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};tt.variable="(?:[\\w-.]|(?:\\\\"+tt.metaChar+"))+";tt.className="(?:[\\w-]|(?:\\\\"+tt.metaChar+"))+";tt.value=tt.string+"|"+tt.number;tt.id=tt.variable;(function(){var t,e,r;for(t=tt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],tt.comparatorOp+="|@"+e;for(t=tt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(tt.comparatorOp+="|\\!"+e)})();var ft=function(){return{checks:[]}},De={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Oc=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return _1(t.selector,e.selector)}),TS=function(){for(var t={},e,r=0;r<Oc.length;r++)e=Oc[r],t[e.selector]=e.matches;return t}(),kS=function(e,r){return TS[e](r)},PS="("+Oc.map(function(t){return t.selector}).join("|")+")",gi=function(e){return e.replace(new RegExp("\\\\("+tt.metaChar+")","g"),function(r,n){return n})},aa=function(e,r,n){e[e.length-1]=n},zc=[{name:"group",query:!0,regex:"("+tt.group+")",populate:function(e,r,n){var i=Gt(n,1),s=i[0];r.checks.push({type:De.GROUP,value:s==="*"?s:s+"s"})}},{name:"state",query:!0,regex:PS,populate:function(e,r,n){var i=Gt(n,1),s=i[0];r.checks.push({type:De.STATE,value:s})}},{name:"id",query:!0,regex:"\\#("+tt.id+")",populate:function(e,r,n){var i=Gt(n,1),s=i[0];r.checks.push({type:De.ID,value:gi(s)})}},{name:"className",query:!0,regex:"\\.("+tt.className+")",populate:function(e,r,n){var i=Gt(n,1),s=i[0];r.checks.push({type:De.CLASS,value:gi(s)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+tt.variable+")\\s*\\]",populate:function(e,r,n){var i=Gt(n,1),s=i[0];r.checks.push({type:De.DATA_EXIST,field:gi(s)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+tt.variable+")\\s*("+tt.comparatorOp+")\\s*("+tt.value+")\\s*\\]",populate:function(e,r,n){var i=Gt(n,3),s=i[0],l=i[1],u=i[2],f=new RegExp("^"+tt.string+"$").exec(u)!=null;f?u=u.substring(1,u.length-1):u=parseFloat(u),r.checks.push({type:De.DATA_COMPARE,field:gi(s),operator:l,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+tt.boolOp+")\\s*("+tt.variable+")\\s*\\]",populate:function(e,r,n){var i=Gt(n,2),s=i[0],l=i[1];r.checks.push({type:De.DATA_BOOL,field:gi(l),operator:s})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+tt.meta+")\\s*("+tt.comparatorOp+")\\s*("+tt.number+")\\s*\\]\\]",populate:function(e,r,n){var i=Gt(n,3),s=i[0],l=i[1],u=i[2];r.checks.push({type:De.META_COMPARE,field:gi(s),operator:l,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:tt.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,s=e.compoundCount,l=e[e.length-1];n!=null&&(l.subject=n,e.currentSubject=null),l.edgeCount=i,l.compoundCount=s,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=ft();return u}},{name:"directedEdge",separator:!0,regex:tt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ft(),i=r,s=ft();return n.checks.push({type:De.DIRECTED_EDGE,source:i,target:s}),aa(e,r,n),e.edgeCount++,s}else{var l=ft(),u=r,f=ft();return l.checks.push({type:De.NODE_SOURCE,source:u,target:f}),aa(e,r,l),e.edgeCount++,f}}},{name:"undirectedEdge",separator:!0,regex:tt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=ft(),i=r,s=ft();return n.checks.push({type:De.UNDIRECTED_EDGE,nodes:[i,s]}),aa(e,r,n),e.edgeCount++,s}else{var l=ft(),u=r,f=ft();return l.checks.push({type:De.NODE_NEIGHBOR,node:u,neighbor:f}),aa(e,r,l),f}}},{name:"child",separator:!0,regex:tt.child,populate:function(e,r){if(e.currentSubject==null){var n=ft(),i=ft(),s=e[e.length-1];return n.checks.push({type:De.CHILD,parent:s,child:i}),aa(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var l=ft(),u=e[e.length-1],f=ft(),c=ft(),v=ft(),h=ft();return l.checks.push({type:De.COMPOUND_SPLIT,left:u,right:f,subject:c}),c.checks=r.checks,r.checks=[{type:De.TRUE}],h.checks.push({type:De.TRUE}),f.checks.push({type:De.PARENT,parent:h,child:v}),aa(e,u,l),e.currentSubject=c,e.compoundCount++,v}else{var g=ft(),m=ft(),y=[{type:De.PARENT,parent:g,child:m}];return g.checks=r.checks,r.checks=y,e.compoundCount++,m}}},{name:"descendant",separator:!0,regex:tt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=ft(),i=ft(),s=e[e.length-1];return n.checks.push({type:De.DESCENDANT,ancestor:s,descendant:i}),aa(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var l=ft(),u=e[e.length-1],f=ft(),c=ft(),v=ft(),h=ft();return l.checks.push({type:De.COMPOUND_SPLIT,left:u,right:f,subject:c}),c.checks=r.checks,r.checks=[{type:De.TRUE}],h.checks.push({type:De.TRUE}),f.checks.push({type:De.ANCESTOR,ancestor:h,descendant:v}),aa(e,u,l),e.currentSubject=c,e.compoundCount++,v}else{var g=ft(),m=ft(),y=[{type:De.ANCESTOR,ancestor:g,descendant:m}];return g.checks=r.checks,r.checks=y,e.compoundCount++,m}}},{name:"subject",modifier:!0,regex:tt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return lt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],s=i==null?null:i.type;s===De.DIRECTED_EDGE?i.type=De.NODE_TARGET:s===De.UNDIRECTED_EDGE&&(i.type=De.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];zc.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var DS=function(e){for(var r,n,i,s=0;s<zc.length;s++){var l=zc[s],u=l.name,f=e.match(l.regexObj);if(f!=null){n=f,r=l,i=u;var c=f[0];e=e.substring(c.length);break}}return{expr:r,match:n,name:i,remaining:e}},RS=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},BS=function(e){var r=this,n=r.inputText=e,i=r[0]=ft();for(r.length=1,n=RS(n);;){var s=DS(n);if(s.expr==null)return lt("The selector `"+e+"`is invalid"),!1;var l=s.match.slice(1),u=s.expr.populate(r,i,l);if(u===!1)return!1;if(u!=null&&(i=u),n=s.remaining,n.match(/^\s*$/))break}var f=r[r.length-1];r.currentSubject!=null&&(f.subject=r.currentSubject),f.edgeCount=r.edgeCount,f.compoundCount=r.compoundCount;for(var c=0;c<r.length;c++){var v=r[c];if(v.compoundCount>0&&v.edgeCount>0)return lt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return lt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&lt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},AS=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},r=function(v){return Me(v)?'"'+v+'"':e(v)},n=function(v){return" "+v+" "},i=function(v,h){var g=v.type,m=v.value;switch(g){case De.GROUP:{var y=e(m);return y.substring(0,y.length-1)}case De.DATA_COMPARE:{var S=v.field,E=v.operator;return"["+S+n(e(E))+r(m)+"]"}case De.DATA_BOOL:{var x=v.operator,C=v.field;return"["+e(x)+C+"]"}case De.DATA_EXIST:{var T=v.field;return"["+T+"]"}case De.META_COMPARE:{var k=v.operator,B=v.field;return"[["+B+n(e(k))+r(m)+"]]"}case De.STATE:return m;case De.ID:return"#"+m;case De.CLASS:return"."+m;case De.PARENT:case De.CHILD:return s(v.parent,h)+n(">")+s(v.child,h);case De.ANCESTOR:case De.DESCENDANT:return s(v.ancestor,h)+" "+s(v.descendant,h);case De.COMPOUND_SPLIT:{var R=s(v.left,h),P=s(v.subject,h),L=s(v.right,h);return R+(R.length>0?" ":"")+P+L}case De.TRUE:return""}},s=function(v,h){return v.checks.reduce(function(g,m,y){return g+(h===v&&y===0?"$":"")+i(m,h)},"")},l="",u=0;u<this.length;u++){var f=this[u];l+=s(f,f.subject),this.length>1&&u<this.length-1&&(l+=", ")}return this.toStringCache=l,l},LS={parse:BS,toString:AS},cy=function(e,r,n){var i,s=Me(e),l=xe(e),u=Me(n),f,c,v=!1,h=!1,g=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),h=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),v=!0),(s||u||v)&&(f=!s&&!l?"":""+e,c=""+n),v&&(e=f=f.toLowerCase(),n=c=c.toLowerCase()),r){case"*=":i=f.indexOf(c)>=0;break;case"$=":i=f.indexOf(c,f.length-c.length)>=0;break;case"^=":i=f.indexOf(c)===0;break;case"=":i=e===n;break;case">":g=!0,i=e>n;break;case">=":g=!0,i=e>=n;break;case"<":g=!0,i=e<n;break;case"<=":g=!0,i=e<=n;break;default:i=!1;break}return h&&(e!=null||!g)&&(i=!i),i},MS=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},NS=function(e){return e!==void 0},ld=function(e,r){return e.data(r)},IS=function(e,r){return e[r]()},Pt=[],yt=function(e,r){return e.checks.every(function(n){return Pt[n.type](n,r)})};Pt[De.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Pt[De.STATE]=function(t,e){var r=t.value;return kS(r,e)};Pt[De.ID]=function(t,e){var r=t.value;return e.id()===r};Pt[De.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Pt[De.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return cy(IS(e,r),n,i)};Pt[De.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return cy(ld(e,r),n,i)};Pt[De.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return MS(ld(e,r),n)};Pt[De.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,NS(ld(e,r))};Pt[De.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),s=e.target();return yt(r,i)&&yt(n,s)||yt(n,i)&&yt(r,s)};Pt[De.NODE_NEIGHBOR]=function(t,e){return yt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&yt(t.neighbor,r)})};Pt[De.DIRECTED_EDGE]=function(t,e){return yt(t.source,e.source())&&yt(t.target,e.target())};Pt[De.NODE_SOURCE]=function(t,e){return yt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&yt(t.target,r)})};Pt[De.NODE_TARGET]=function(t,e){return yt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&yt(t.source,r)})};Pt[De.CHILD]=function(t,e){return yt(t.child,e)&&yt(t.parent,e.parent())};Pt[De.PARENT]=function(t,e){return yt(t.parent,e)&&e.children().some(function(r){return yt(t.child,r)})};Pt[De.DESCENDANT]=function(t,e){return yt(t.descendant,e)&&e.ancestors().some(function(r){return yt(t.ancestor,r)})};Pt[De.ANCESTOR]=function(t,e){return yt(t.ancestor,e)&&e.descendants().some(function(r){return yt(t.descendant,r)})};Pt[De.COMPOUND_SPLIT]=function(t,e){return yt(t.subject,e)&&yt(t.left,e)&&yt(t.right,e)};Pt[De.TRUE]=function(){return!0};Pt[De.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Pt[De.FILTER]=function(t,e){var r=t.value;return r(e)};var OS=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===De.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(s){for(var l=0;l<r.length;l++){var u=r[l];if(yt(u,s))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},zS=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(yt(i,e))return!0}return!1},FS={matches:zS,filter:OS},da=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Me(e)&&e.match(/^\s*$/)||(zr(e)?this.addQuery({checks:[{type:De.COLLECTION,value:e.collection()}]}):Ct(e)?this.addQuery({checks:[{type:De.FILTER,value:e}]}):Me(e)?this.parse(e)||(this.invalid=!0):bt("A selector must be created from a string; found "))},va=da.prototype;[LS,FS].forEach(function(t){return Ue(va,t)});va.text=function(){return this.inputText};va.size=function(){return this.length};va.eq=function(t){return this[t]};va.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};va.addQuery=function(t){this[this.length++]=t};va.selector=va.toString;var sa={allAre:function(e){var r=new da(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new da(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};sa.allAreNeighbours=sa.allAreNeighbors;sa.has=sa.contains;sa.equal=sa.equals=sa.same;var Xr=function(e,r){return function(i,s,l,u){var f=i,c=this,v;if(f==null?v="":zr(f)&&f.length===1&&(v=f.id()),c.length===1&&v){var h=c[0]._private,g=h.traversalCache=h.traversalCache||{},m=g[r]=g[r]||[],y=fa(v),S=m[y];return S||(m[y]=e.call(c,i,s,l,u))}else return e.call(c,i,s,l,u)}},Mi={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var s=this[i],l=s._private.parent;l&&r.push(l)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var s=n[i];r.push(s)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],s=i.parents();r=r||s,r=r.intersect(s)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Xr(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,s=0;s<i.length;s++)e.push(i[s]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var s=0;s<i.length;s++){var l=i[s];r.push(l),l.children().nonempty()&&n(l.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function ud(t,e,r,n){for(var i=[],s=new Ni,l=t.cy(),u=l.hasCompoundNodes(),f=0;f<t.length;f++){var c=t[f];r?i.push(c):u&&n(i,s,c)}for(;i.length>0;){var v=i.shift();e(v),s.add(v.id()),u&&n(i,s,v)}return t}function dy(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var s=n[i];e.has(s.id())||t.push(s)}}Mi.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ud(this,t,e,dy)};function vy(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Mi.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ud(this,t,e,vy)};function _S(t,e,r){vy(t,e,r),dy(t,e,r)}Mi.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ud(this,t,e,_S)};Mi.ancestors=Mi.parents;var jo,hy;jo=hy={data:st.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:st.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:st.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:st.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:st.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:st.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};jo.attr=jo.data;jo.removeAttr=jo.removeData;var VS=hy,yu={};function Sc(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],s=i._private.edges,l=0;l<s.length;l++){var u=s[l];!e&&u.isLoop()||(n+=t(i,u))}return n}else return}}Ue(yu,{degree:Sc(function(t,e){return e.source().same(e.target())?2:1}),indegree:Sc(function(t,e){return e.target().same(t)?1:0}),outdegree:Sc(function(t,e){return e.source().same(t)?1:0})});function yi(t,e){return function(r){for(var n,i=this.nodes(),s=0;s<i.length;s++){var l=i[s],u=l[t](r);u!==void 0&&(n===void 0||e(u,n))&&(n=u)}return n}}Ue(yu,{minDegree:yi("degree",function(t,e){return t<e}),maxDegree:yi("degree",function(t,e){return t>e}),minIndegree:yi("indegree",function(t,e){return t<e}),maxIndegree:yi("indegree",function(t,e){return t>e}),minOutdegree:yi("outdegree",function(t,e){return t<e}),maxOutdegree:yi("outdegree",function(t,e){return t>e})});Ue(yu,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var sn,py,gy=function(e,r,n){for(var i=0;i<e.length;i++){var s=e[i];if(!s.locked()){var l=s._private.position,u={x:r.x!=null?r.x-l.x:0,y:r.y!=null?r.y-l.y:0};s.isParent()&&!(u.x===0&&u.y===0)&&s.children().shift(u,n),s.dirtyBoundingBoxCache()}}},Ap={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){gy(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};sn=py={position:st.data(Ap),silentPosition:st.data(Ue({},Ap,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){gy(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(rt(e))r?this.silentPosition(e):this.position(e);else if(Ct(e)){var n=e,i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var l=this[s],u=void 0;(u=n(l,s))&&(r?l.silentPosition(u):l.position(u))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(rt(e)?(i={x:xe(e.x)?e.x:0,y:xe(e.y)?e.y:0},n=r):Me(e)&&xe(r)&&(i={x:0,y:0},i[e]=r),i!=null){var s=this.cy();s.startBatch();for(var l=0;l<this.length;l++){var u=this[l];if(!(s.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var f=u.position(),c={x:f.x+i.x,y:f.y+i.y};n?u.silentPosition(c):u.position(c)}}s.endBatch()}return this},silentShift:function(e,r){return rt(e)?this.shift(e,!0):Me(e)&&xe(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),s=i.zoom(),l=i.pan(),u=rt(e)?e:void 0,f=u!==void 0||r!==void 0&&Me(e);if(n&&n.isNode())if(f)for(var c=0;c<this.length;c++){var v=this[c];r!==void 0?v.position(e,(r-l[e])/s):u!==void 0&&v.position($g(u,s,l))}else{var h=n.position();return u=du(h,s,l),e===void 0?u:u[e]}else if(!f)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),s=rt(e)?e:void 0,l=s!==void 0||r!==void 0&&Me(e),u=i.hasCompoundNodes();if(n&&n.isNode())if(l)for(var f=0;f<this.length;f++){var c=this[f],v=u?c.parent():null,h=v&&v.length>0,g=h;h&&(v=v[0]);var m=g?v.position():{x:0,y:0};r!==void 0?c.position(e,r+m[e]):s!==void 0&&c.position({x:s.x+m.x,y:s.y+m.y})}else{var y=n.position(),S=u?n.parent():null,E=S&&S.length>0,x=E;E&&(S=S[0]);var C=x?S.position():{x:0,y:0};return s={x:y.x-C.x,y:y.y-C.y},e===void 0?s:s[e]}else if(!l)return;return this}};sn.modelPosition=sn.point=sn.position;sn.modelPositions=sn.points=sn.positions;sn.renderedPoint=sn.renderedPosition;sn.relativePoint=sn.relativePosition;var US=py,Ri,ya;Ri=ya={};ya.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),s=e.x1*n+i.x,l=e.x2*n+i.x,u=e.y1*n+i.y,f=e.y2*n+i.y;return{x1:s,x2:l,y1:u,y2:f,w:l-s,h:f-u}};ya.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};ya.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(l){if(!l.isParent())return;var u=l._private,f=l.children(),c=l.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:l.pstyle("min-width").pfValue,left:l.pstyle("min-width-bias-left"),right:l.pstyle("min-width-bias-right")},height:{val:l.pstyle("min-height").pfValue,top:l.pstyle("min-height-bias-top"),bottom:l.pstyle("min-height-bias-bottom")}},h=f.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),g=u.position;(h.w===0||h.h===0)&&(h={w:l.pstyle("width").pfValue,h:l.pstyle("height").pfValue},h.x1=g.x-h.w/2,h.x2=g.x+h.w/2,h.y1=g.y-h.h/2,h.y2=g.y+h.h/2);function m(A,z,O){var N=0,_=0,F=z+O;return A>0&&F>0&&(N=z/F*A,_=O/F*A),{biasDiff:N,biasComplementDiff:_}}function y(A,z,O,N){if(O.units==="%")switch(N){case"width":return A>0?O.pfValue*A:0;case"height":return z>0?O.pfValue*z:0;case"average":return A>0&&z>0?O.pfValue*(A+z)/2:0;case"min":return A>0&&z>0?A>z?O.pfValue*z:O.pfValue*A:0;case"max":return A>0&&z>0?A>z?O.pfValue*A:O.pfValue*z:0;default:return 0}else return O.units==="px"?O.pfValue:0}var S=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(S=S*100/v.width.val);var E=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(E=E*100/v.width.val);var x=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(x=x*100/v.height.val);var C=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(C=C*100/v.height.val);var T=m(v.width.val-h.w,S,E),k=T.biasDiff,B=T.biasComplementDiff,R=m(v.height.val-h.h,x,C),P=R.biasDiff,L=R.biasComplementDiff;u.autoPadding=y(h.w,h.h,l.pstyle("padding"),l.pstyle("padding-relative-to").value),u.autoWidth=Math.max(h.w,v.width.val),g.x=(-k+h.x1+h.x2+B)/2,u.autoHeight=Math.max(h.h,v.height.val),g.y=(-P+h.y1+h.y2+L)/2}for(var n=0;n<this.length;n++){var i=this[n],s=i._private;(!s.compoundBoundsClean||t)&&(r(i),e.batching()||(s.compoundBoundsClean=!0))}return this};var Gr=function(e){return e===1/0||e===-1/0?0:e},an=function(e,r,n,i,s){i-r===0||s-n===0||r==null||n==null||i==null||s==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=s>e.y2?s:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ma=function(e,r){return r==null?e:an(e,r.x1,r.y1,r.x2,r.y2)},Ro=function(e,r,n){return on(e,r,n)},Bl=function(e,r,n){if(!r.cy().headless()){var i=r._private,s=i.rstyle,l=s.arrowWidth/2,u=r.pstyle(n+"-arrow-shape").value,f,c;if(u!=="none"){n==="source"?(f=s.srcX,c=s.srcY):n==="target"?(f=s.tgtX,c=s.tgtY):(f=s.midX,c=s.midY);var v=i.arrowBounds=i.arrowBounds||{},h=v[n]=v[n]||{};h.x1=f-l,h.y1=c-l,h.x2=f+l,h.y2=c+l,h.w=h.x2-h.x1,h.h=h.y2-h.y1,$l(h,1),an(e,h.x1,h.y1,h.x2,h.y2)}}},bc=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var s=r._private,l=s.rstyle,u=r.pstyle(i+"label").strValue;if(u){var f=r.pstyle("text-halign"),c=r.pstyle("text-valign"),v=Ro(l,"labelWidth",n),h=Ro(l,"labelHeight",n),g=Ro(l,"labelX",n),m=Ro(l,"labelY",n),y=r.pstyle(i+"text-margin-x").pfValue,S=r.pstyle(i+"text-margin-y").pfValue,E=r.isEdge(),x=r.pstyle(i+"text-rotation"),C=r.pstyle("text-outline-width").pfValue,T=r.pstyle("text-border-width").pfValue,k=T/2,B=r.pstyle("text-background-padding").pfValue,R=2,P=h,L=v,A=L/2,z=P/2,O,N,_,F;if(E)O=g-A,N=g+A,_=m-z,F=m+z;else{switch(f.value){case"left":O=g-L,N=g;break;case"center":O=g-A,N=g+A;break;case"right":O=g,N=g+L;break}switch(c.value){case"top":_=m-P,F=m;break;case"center":_=m-z,F=m+z;break;case"bottom":_=m,F=m+P;break}}var K=y-Math.max(C,k)-B-R,W=y+Math.max(C,k)+B+R,H=S-Math.max(C,k)-B-R,$=S+Math.max(C,k)+B+R;O+=K,N+=W,_+=H,F+=$;var G=n||"main",X=s.labelBounds,M=X[G]=X[G]||{};M.x1=O,M.y1=_,M.x2=N,M.y2=F,M.w=N-O,M.h=F-_,M.leftPad=K,M.rightPad=W,M.topPad=H,M.botPad=$;var V=E&&x.strValue==="autorotate",te=x.pfValue!=null&&x.pfValue!==0;if(V||te){var ae=V?Ro(s.rstyle,"labelAngle",n):x.pfValue,se=Math.cos(ae),oe=Math.sin(ae),ce=(O+N)/2,ue=(_+F)/2;if(!E){switch(f.value){case"left":ce=N;break;case"right":ce=O;break}switch(c.value){case"top":ue=F;break;case"bottom":ue=_;break}}var Z=function(je,ke){return je=je-ce,ke=ke-ue,{x:je*se-ke*oe+ce,y:je*oe+ke*se+ue}},Q=Z(O,_),le=Z(O,F),pe=Z(N,_),Se=Z(N,F);O=Math.min(Q.x,le.x,pe.x,Se.x),N=Math.max(Q.x,le.x,pe.x,Se.x),_=Math.min(Q.y,le.y,pe.y,Se.y),F=Math.max(Q.y,le.y,pe.y,Se.y)}var Te=G+"Rot",Xe=X[Te]=X[Te]||{};Xe.x1=O,Xe.y1=_,Xe.x2=N,Xe.y2=F,Xe.w=N-O,Xe.h=F-_,an(e,O,_,N,F),an(s.labelBounds.all,O,_,N,F)}return e}},$S=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,i=r.pstyle("outline-width").value;if(n>0&&i>0){var s=r.pstyle("outline-offset").value,l=r.pstyle("shape").value,u=i+s,f=(e.w+u*2)/e.w,c=(e.h+u*2)/e.h,v=0,h=0;["diamond","pentagon","round-triangle"].includes(l)?(f=(e.w+u*2.4)/e.w,h=-u/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(l)?f=(e.w+u*2.4)/e.w:l==="star"?(f=(e.w+u*2.8)/e.w,c=(e.h+u*2.6)/e.h,h=-u/3.8):l==="triangle"?(f=(e.w+u*2.8)/e.w,c=(e.h+u*2.4)/e.h,h=-u/1.4):l==="vee"&&(f=(e.w+u*4.4)/e.w,c=(e.h+u*3.8)/e.h,h=-u*.5);var g=e.h*c-e.h,m=e.w*f-e.w;if(Wl(e,[Math.ceil(g/2),Math.ceil(m/2)]),v!=0||h!==0){var y=cx(e,v,h);Hg(e,y)}}}},WS=function(e,r){var n=e._private.cy,i=n.styleEnabled(),s=n.headless(),l=Rr(),u=e._private,f=e.isNode(),c=e.isEdge(),v,h,g,m,y,S,E=u.rstyle,x=f&&i?e.pstyle("bounds-expansion").pfValue:[0],C=function(nt){return nt.pstyle("display").value!=="none"},T=!i||C(e)&&(!c||C(e.source())&&C(e.target()));if(T){var k=0,B=0;i&&r.includeOverlays&&(k=e.pstyle("overlay-opacity").value,k!==0&&(B=e.pstyle("overlay-padding").value));var R=0,P=0;i&&r.includeUnderlays&&(R=e.pstyle("underlay-opacity").value,R!==0&&(P=e.pstyle("underlay-padding").value));var L=Math.max(B,P),A=0,z=0;if(i&&(A=e.pstyle("width").pfValue,z=A/2),f&&r.includeNodes){var O=e.position();y=O.x,S=O.y;var N=e.outerWidth(),_=N/2,F=e.outerHeight(),K=F/2;v=y-_,h=y+_,g=S-K,m=S+K,an(l,v,g,h,m),i&&r.includeOutlines&&$S(l,e)}else if(c&&r.includeEdges)if(i&&!s){var W=e.pstyle("curve-style").strValue;if(v=Math.min(E.srcX,E.midX,E.tgtX),h=Math.max(E.srcX,E.midX,E.tgtX),g=Math.min(E.srcY,E.midY,E.tgtY),m=Math.max(E.srcY,E.midY,E.tgtY),v-=z,h+=z,g-=z,m+=z,an(l,v,g,h,m),W==="haystack"){var H=E.haystackPts;if(H&&H.length===2){if(v=H[0].x,g=H[0].y,h=H[1].x,m=H[1].y,v>h){var $=v;v=h,h=$}if(g>m){var G=g;g=m,m=G}an(l,v-z,g-z,h+z,m+z)}}else if(W==="bezier"||W==="unbundled-bezier"||W.endsWith("segments")||W.endsWith("taxi")){var X;switch(W){case"bezier":case"unbundled-bezier":X=E.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":X=E.linePts;break}if(X!=null)for(var M=0;M<X.length;M++){var V=X[M];v=V.x-z,h=V.x+z,g=V.y-z,m=V.y+z,an(l,v,g,h,m)}}}else{var te=e.source(),ae=te.position(),se=e.target(),oe=se.position();if(v=ae.x,h=oe.x,g=ae.y,m=oe.y,v>h){var ce=v;v=h,h=ce}if(g>m){var ue=g;g=m,m=ue}v-=z,h+=z,g-=z,m+=z,an(l,v,g,h,m)}if(i&&r.includeEdges&&c&&(Bl(l,e,"mid-source"),Bl(l,e,"mid-target"),Bl(l,e,"source"),Bl(l,e,"target")),i){var Z=e.pstyle("ghost").value==="yes";if(Z){var Q=e.pstyle("ghost-offset-x").pfValue,le=e.pstyle("ghost-offset-y").pfValue;an(l,l.x1+Q,l.y1+le,l.x2+Q,l.y2+le)}}var pe=u.bodyBounds=u.bodyBounds||{};fp(pe,l),Wl(pe,x),$l(pe,1),i&&(v=l.x1,h=l.x2,g=l.y1,m=l.y2,an(l,v-L,g-L,h+L,m+L));var Se=u.overlayBounds=u.overlayBounds||{};fp(Se,l),Wl(Se,x),$l(Se,1);var Te=u.labelBounds=u.labelBounds||{};Te.all!=null?fx(Te.all):Te.all=Rr(),i&&r.includeLabels&&(r.includeMainLabels&&bc(l,e,null),c&&(r.includeSourceLabels&&bc(l,e,"source"),r.includeTargetLabels&&bc(l,e,"target")))}return l.x1=Gr(l.x1),l.y1=Gr(l.y1),l.x2=Gr(l.x2),l.y2=Gr(l.y2),l.w=Gr(l.x2-l.x1),l.h=Gr(l.y2-l.y1),l.w>0&&l.h>0&&T&&(Wl(l,x),$l(l,1)),l},yy=function(e){var r=0,n=function(l){return(l?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},my=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),i=function(l){return Math.round(l)};return Aw([i(r.x),i(r.y),i(n.x),i(n.y)])}else return 0},Lp=function(e,r){var n=e._private,i,s=e.isEdge(),l=r==null?Mp:yy(r),u=l===Mp,f=my(e),c=n.bbCachePosKey===f,v=r.useCache&&c,h=function(S){return S._private.bbCache==null||S._private.styleDirty},g=!v||h(e)||s&&(h(e.source())||h(e.target()));if(g?(c||e.recalculateRenderedStyle(v),i=WS(e,Jo),n.bbCache=i,n.bbCachePosKey=f):i=n.bbCache,!u){var m=e.isNode();i=Rr(),(r.includeNodes&&m||r.includeEdges&&!m)&&(r.includeOverlays?Ma(i,n.overlayBounds):Ma(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!s||r.includeSourceLabels&&r.includeTargetLabels)?Ma(i,n.labelBounds.all):(r.includeMainLabels&&Ma(i,n.labelBounds.mainRot),r.includeSourceLabels&&Ma(i,n.labelBounds.sourceRot),r.includeTargetLabels&&Ma(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Jo={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Mp=yy(Jo),Np=Xt(Jo);ya.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=Jo:t=Np(t),e=Lp(this[0],t);else{e=Rr(),t=t||Jo;var r=Np(t),n=this,i=n.cy(),s=i.styleEnabled();if(s)for(var l=0;l<n.length;l++){var u=n[l],f=u._private,c=my(u),v=f.bbCachePosKey===c,h=r.useCache&&v&&!f.styleDirty;u.recalculateRenderedStyle(h)}this.updateCompoundBounds(!t.useCache);for(var g=0;g<n.length;g++){var m=n[g];Ma(e,Lp(m,r))}}return e.x1=Gr(e.x1),e.y1=Gr(e.y1),e.x2=Gr(e.x2),e.y2=Gr(e.y2),e.w=Gr(e.x2-e.x1),e.h=Gr(e.y2-e.y1),e};ya.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};ya.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(c){return c.isParent()}),e=e.not(i)),rt(t)){var s=t;t=function(){return s}}var l=function(v,h){return v._private.bbAtOldPos=t(v,h)},u=function(v){return v._private.bbAtOldPos};r.startBatch(),e.forEach(l).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var f=ux(this.boundingBox({useCache:!1}));return e.silentPositions(u),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),f};Ri.boundingbox=Ri.bb=Ri.boundingBox;Ri.renderedBoundingbox=Ri.renderedBoundingBox;var HS=ya,_o,ss;_o=ss={};var wy=function(e){e.uppercaseName=np(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=np(e.outerName),_o[e.name]=function(){var n=this[0],i=n._private,s=i.cy,l=s._private.styleEnabled;if(n)if(l){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var u=n.pstyle(e.name);switch(u.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return u.pfValue}}else return 1},_o["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,s=i.cy,l=s._private.styleEnabled;if(n)if(l){var u=n[e.name](),f=n.pstyle("border-width").pfValue,c=2*n.padding();return u+f+c}else return 1},_o["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},_o["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};wy({name:"width"});wy({name:"height"});ss.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};ss.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};ss.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var KS=ss,qS=function(e,r){if(e.isEdge())return r(e)},GS=function(e,r){if(e.isEdge()){var n=e.cy();return du(r(e),n.zoom(),n.pan())}},XS=function(e,r){if(e.isEdge()){var n=e.cy(),i=n.pan(),s=n.zoom();return r(e).map(function(l){return du(l,s,i)})}},YS=function(e){return e.renderer().getControlPoints(e)},QS=function(e){return e.renderer().getSegmentPoints(e)},ZS=function(e){return e.renderer().getSourceEndpoint(e)},jS=function(e){return e.renderer().getTargetEndpoint(e)},JS=function(e){return e.renderer().getEdgeMidpoint(e)},Ip={controlPoints:{get:YS,mult:!0},segmentPoints:{get:QS,mult:!0},sourceEndpoint:{get:ZS},targetEndpoint:{get:jS},midpoint:{get:JS}},eb=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},tb=Object.keys(Ip).reduce(function(t,e){var r=Ip[e],n=eb(e);return t[e]=function(){return qS(this,r.get)},r.mult?t[n]=function(){return XS(this,r.get)}:t[n]=function(){return GS(this,r.get)},t},{}),rb=Ue({},US,HS,KS,tb);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var xy=function(e,r){this.recycle(e,r)};function Bo(){return!1}function Al(){return!0}xy.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Bo,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Al:Bo):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),s=this.cy.pan();this.renderedPosition={x:n.x*i+s.x,y:n.y*i+s.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Al;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Al;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Al,this.stopPropagation()},isDefaultPrevented:Bo,isPropagationStopped:Bo,isImmediatePropagationStopped:Bo};var Ey=/^([^.]+)(\.(?:[^.]+))?$/,nb=".*",Sy={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Op=Object.keys(Sy),ab={};function mu(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ab,e=arguments.length>1?arguments[1]:void 0,r=0;r<Op.length;r++){var n=Op[r];this[n]=t[n]||Sy[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var ha=mu.prototype,by=function(e,r,n,i,s,l,u){Ct(i)&&(s=i,i=null),u&&(l==null?l=u:l=Ue({},l,u));for(var f=ct(n)?n:n.split(/\s+/),c=0;c<f.length;c++){var v=f[c];if(!ua(v)){var h=v.match(Ey);if(h){var g=h[1],m=h[2]?h[2]:null,y=r(e,v,g,m,i,s,l);if(y===!1)break}}}},zp=function(e,r){return e.addEventFields(e.context,r),new xy(r.type,r)},ib=function(e,r,n){if(D1(n)){r(e,n);return}else if(rt(n)){r(e,zp(e,n));return}for(var i=ct(n)?n:n.split(/\s+/),s=0;s<i.length;s++){var l=i[s];if(!ua(l)){var u=l.match(Ey);if(u){var f=u[1],c=u[2]?u[2]:null,v=zp(e,{type:f,namespace:c,target:e.context});r(e,v)}}}};ha.on=ha.addListener=function(t,e,r,n,i){return by(this,function(s,l,u,f,c,v,h){Ct(v)&&s.listeners.push({event:l,callback:v,type:u,namespace:f,qualifier:c,conf:h})},t,e,r,n,i),this};ha.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};ha.removeListener=ha.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=Ow(this.listeners));for(var s=this.listeners,l=function(c){var v=s[c];by(i,function(h,g,m,y,S,E){if((v.type===m||t==="*")&&(!y&&v.namespace!==".*"||v.namespace===y)&&(!S||h.qualifierCompare(v.qualifier,S))&&(!E||v.callback===E))return s.splice(c,1),!1},t,e,r,n)},u=s.length-1;u>=0;u--)l(u);return this};ha.removeAllListeners=function(){return this.removeListener("*")};ha.emit=ha.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,ct(e)||(e=[e]),ib(this,function(s,l){r!=null&&(n=[{event:l.event,type:l.type,namespace:l.namespace,callback:r}],i=n.length);for(var u=function(v){var h=n[v];if(h.type===l.type&&(!h.namespace||h.namespace===l.namespace||h.namespace===nb)&&s.eventMatches(s.context,h,l)){var g=[l];e!=null&&Fw(g,e),s.beforeEmit(s.context,h,l),h.conf&&h.conf.one&&(s.listeners=s.listeners.filter(function(S){return S!==h}));var m=s.callbackContext(s.context,h,l),y=h.callback.apply(m,g);s.afterEmit(s.context,h,l),y===!1&&(l.stopPropagation(),l.preventDefault())}},f=0;f<i;f++)u(f);s.bubble(s.context)&&!l.isPropagationStopped()&&s.parent(s.context).emit(l,e)},t),this.emitting--,this};var ob={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&ns(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},Ll=function(e){return Me(e)?new da(e):e},Cy={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new mu(ob,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=Ll(r),s=0;s<this.length;s++){var l=this[s];l.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=Ll(r),s=0;s<this.length;s++){var l=this[s];l.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=Ll(r),s=0;s<this.length;s++){var l=this[s];l.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=Ll(r),s=0;s<this.length;s++){var l=this[s];l.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};st.eventAliasesOn(Cy);var Ty={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Me(e)||zr(e))return new da(e).filter(this);if(Ct(e)){for(var n=this.spawn(),i=this,s=0;s<i.length;s++){var l=i[s],u=r?e.apply(r,[l,s,i]):e(l,s,i);u&&n.push(l)}return n}return this.spawn()},not:function(e){if(e){Me(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],s=e.has(i);s||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Me(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,s=e,l=this.length<e.length,u=l?i:s,f=l?s:i,c=0;c<u.length;c++){var v=u[c];f.has(v)&&n.push(v)}return n},xor:function(e){var r=this._private.cy;Me(e)&&(e=r.$(e));var n=this.spawn(),i=this,s=e,l=function(f,c){for(var v=0;v<f.length;v++){var h=f[v],g=h._private.data.id,m=c.hasElementWithId(g);m||n.push(h)}};return l(i,s),l(s,i),n},diff:function(e){var r=this._private.cy;Me(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),s=this.spawn(),l=this,u=e,f=function(v,h,g){for(var m=0;m<v.length;m++){var y=v[m],S=y._private.data.id,E=h.hasElementWithId(S);E?s.merge(y):g.push(y)}};return f(l,u,n),f(u,l,i),{left:n,right:i,both:s}},add:function(e){var r=this._private.cy;if(!e)return this;if(Me(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),s=0;s<e.length;s++){var l=e[s],u=!this.has(l);u&&i.push(l)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Me(e)){var i=e;e=n.mutableElements().filter(i)}for(var s=r.map,l=0;l<e.length;l++){var u=e[l],f=u._private.data.id,c=!s.has(f);if(c){var v=this.length++;this[v]=u,s.set(f,{ele:u,index:v})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,s=i.map;this[e]=void 0,s.delete(n);var l=e===this.length-1;if(this.length>1&&!l){var u=this.length-1,f=this[u],c=f._private.data.id;this[u]=void 0,this[e]=f,s.set(c,{ele:f,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,s=i.get(n);if(!s)return this;var l=s.index;return this.unmergeAt(l),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Me(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,s=0;s<i.length;s++){var l=i[s],u=r?e.apply(r,[l,s,i]):e(l,s,i);n.push(u)}return n},reduce:function(e,r){for(var n=r,i=this,s=0;s<i.length;s++)n=e(n,i[s],s,i);return n},max:function(e,r){for(var n=-1/0,i,s=this,l=0;l<s.length;l++){var u=s[l],f=r?e.apply(r,[u,l,s]):e(u,l,s);f>n&&(n=f,i=u)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,s=this,l=0;l<s.length;l++){var u=s[l],f=r?e.apply(r,[u,l,s]):e(u,l,s);f<n&&(n=f,i=u)}return{value:n,ele:i}}},it=Ty;it.u=it["|"]=it["+"]=it.union=it.or=it.add;it["\\"]=it["!"]=it["-"]=it.difference=it.relativeComplement=it.subtract=it.not;it.n=it["&"]=it["."]=it.and=it.intersection=it.intersect;it["^"]=it["(+)"]=it["(-)"]=it.symmetricDifference=it.symdiff=it.xor;it.fnFilter=it.filterFn=it.stdFilter=it.filter;it.complement=it.abscomp=it.absoluteComplement;var sb={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},ky=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function s(v){var h=v.pstyle("z-compound-depth");return h.value==="auto"?i?v.zDepth():0:h.value==="bottom"?-1:h.value==="top"?jc:0}var l=s(e)-s(r);if(l!==0)return l;function u(v){var h=v.pstyle("z-index-compare");return h.value==="auto"&&v.isNode()?1:0}var f=u(e)-u(r);if(f!==0)return f;var c=e.pstyle("z-index").value-r.pstyle("z-index").value;return c!==0?c:e.poolIndex()-r.poolIndex()},nu={forEach:function(e,r){if(Ct(e))for(var n=this.length,i=0;i<n;i++){var s=this[i],l=r?e.apply(r,[s,i,this]):e(s,i,this);if(l===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var s=e;s>=0&&s<r&&s<i;s++)n.push(this[s]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Ct(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(ky)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:jc-1}else{var s=r.source,l=r.target,u=s.zDepth(),f=l.zDepth();return Math.max(u,f,0)}}}};nu.each=nu.forEach;var lb=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":_t(Symbol))!=e&&_t(Symbol.iterator)!=e;r&&(nu[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},s=0,l=this.length;return Sg({next:function(){return s<l?i.value=n[s++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};lb();var ub=Xt({nodeDimensionsIncludeLabels:!1}),Kl={layoutDimensions:function(e){e=ub(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(B){return!B.isParent()}),s=this.cy(),l=r.eles,u=function(R){return R.id()},f=Ko(n,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=function(R,P,L){var A={x:P.x1+P.w/2,y:P.y1+P.h/2},z={x:(L.x-A.x)*R,y:(L.y-A.y)*R};return{x:A.x+z.x,y:A.y+z.y}},v=r.spacingFactor&&r.spacingFactor!==1,h=function(){if(!v)return null;for(var R=Rr(),P=0;P<i.length;P++){var L=i[P],A=f(L,P);dx(R,A.x,A.y)}return R},g=h(),m=Ko(function(B,R){var P=f(B,R);if(v){var L=Math.abs(r.spacingFactor);P=c(L,g,P)}return r.transform!=null&&(P=r.transform(B,P)),P},u);if(r.animate){for(var y=0;y<i.length;y++){var S=i[y],E=m(S,y),x=r.animateFilter==null||r.animateFilter(S,y);if(x){var C=S.animation({position:E,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(C)}else S.position(E)}if(r.fit){var T=s.animation({fit:{boundingBox:l.boundingBoxAt(m),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}else if(r.zoom!==void 0&&r.pan!==void 0){var k=s.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(k)}e.animations.forEach(function(B){return B.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Ii.all(e.animations.map(function(B){return B.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(m),r.fit&&s.fit(r.eles,r.padding),r.zoom!=null&&s.zoom(r.zoom),r.pan&&s.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Ue({},e,{eles:this}))}};Kl.createLayout=Kl.makeLayout=Kl.layout;function Py(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],s;return(s=i[t])!=null||(s=i[t]=e(r)),s}function wu(t,e){return t=fa(t),function(n){return Py(t,e,n)}}function xu(t,e){t=fa(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return Py(t,r,i)}}var jt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(s){return s._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),s=this;e=!!(e||e===void 0),i&&(s=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var l=s;return e?l.emitAndNotify("style"):l.emit("style"),s.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var s=n._private.style[e];return s??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,s=n.style();if(rt(e)){var l=e;s.applyBypass(this,l,i),this.emitAndNotify("style")}else if(Me(e))if(r===void 0){var u=this[0];return u?s.getStylePropertyValue(u,e):void 0}else s.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var f=this[0];return f?s.getRawStyle(f):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),s=this;if(e===void 0)for(var l=0;l<s.length;l++){var u=s[l];i.removeAllBypasses(u,n)}else{e=e.split(/\s+/);for(var f=0;f<s.length;f++){var c=s[f];i.removeBypasses(c,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,s=n.pstyle("opacity").value;if(!r)return s;var l=i.data.parent?n.parents():null;if(l)for(var u=0;u<l.length;u++){var f=l[u],c=f.pstyle("opacity").value;s=c*s}return s}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Cc(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var s=n[i];if(!e(s))return!1}return!0}function fd(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var s=this[0],l=i.hasCompoundNodes();if(s){var u=s._private;if(!e(s))return!1;if(s.isNode())return!l||Cc(s,n);var f=u.source,c=u.target;return r(f)&&(!l||Cc(f,r))&&(f===c||r(c)&&(!l||Cc(c,r)))}}}var _i=wu("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});jt.takesUpSpace=xu("takesUpSpace",fd({ok:_i}));var fb=wu("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&_i(t)}),cb=wu("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&_i(t)});jt.interactive=xu("interactive",fd({ok:fb,parentOk:cb,edgeOkViaNode:_i}));jt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var db=wu("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&_i(t)}),vb=_i;jt.visible=xu("visible",fd({ok:db,edgeOkViaNode:vb}));jt.hidden=function(){var t=this[0];if(t)return!t.visible()};jt.isBundledBezier=xu("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});jt.bypass=jt.css=jt.style;jt.renderedCss=jt.renderedStyle;jt.removeBypass=jt.removeCss=jt.removeStyle;jt.pstyle=jt.parsedStyle;var la={};function Fp(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&Ct(e[0])){var s=e[0];this.on(t.event,s)}else if(e.length===0||e.length===1&&ct(e[0])){for(var l=e.length===1?e[0]:null,u=0;u<this.length;u++){var f=this[u],c=!t.ableField||f._private[t.ableField],v=f._private[t.field]!=t.value;if(t.overrideAble){var h=t.overrideAble(f);if(h!==void 0&&(c=h,!h))return this}c&&(f._private[t.field]=t.value,v&&r.push(f))}var g=this.spawn(r);g.updateStyle(),g.emit(t.event),l&&g.emit(l)}return this}}function Vi(t){la[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},la[t.on]=Fp({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),la[t.off]=Fp({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Vi({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Vi({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Vi({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Vi({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});la.deselect=la.unselect;la.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Vi({field:"active",on:"activate",off:"unactivate"});Vi({field:"pannable",on:"panify",off:"unpanify"});la.inactive=function(){var t=this[0];if(t)return!t._private.active};var dr={},_p=function(e){return function(n){for(var i=this,s=[],l=0;l<i.length;l++){var u=i[l];if(u.isNode()){for(var f=!1,c=u.connectedEdges(),v=0;v<c.length;v++){var h=c[v],g=h.source(),m=h.target();if(e.noIncomingEdges&&m===u&&g!==u||e.noOutgoingEdges&&g===u&&m!==u){f=!0;break}}f||s.push(u)}}return this.spawn(s,!0).filter(n)}},Vp=function(e){return function(r){for(var n=this,i=[],s=0;s<n.length;s++){var l=n[s];if(l.isNode())for(var u=l.connectedEdges(),f=0;f<u.length;f++){var c=u[f],v=c.source(),h=c.target();e.outgoing&&v===l?(i.push(c),i.push(h)):e.incoming&&h===l&&(i.push(c),i.push(v))}}return this.spawn(i,!0).filter(r)}},Up=function(e){return function(r){for(var n=this,i=[],s={};;){var l=e.outgoing?n.outgoers():n.incomers();if(l.length===0)break;for(var u=!1,f=0;f<l.length;f++){var c=l[f],v=c.id();s[v]||(s[v]=!0,i.push(c),u=!0)}if(!u)break;n=l}return this.spawn(i,!0).filter(r)}};dr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Ue(dr,{roots:_p({noIncomingEdges:!0}),leaves:_p({noOutgoingEdges:!0}),outgoers:Xr(Vp({outgoing:!0}),"outgoers"),successors:Up({outgoing:!0}),incomers:Xr(Vp({incoming:!0}),"incomers"),predecessors:Up({incoming:!0})});Ue(dr,{neighborhood:Xr(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],s=i.connectedEdges(),l=0;l<s.length;l++){var u=s[l],f=u.source(),c=u.target(),v=i===f?c:f;v.length>0&&e.push(v[0]),e.push(u[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});dr.neighbourhood=dr.neighborhood;dr.closedNeighbourhood=dr.closedNeighborhood;dr.openNeighbourhood=dr.openNeighborhood;Ue(dr,{source:Xr(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Xr(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:$p({attr:"source"}),targets:$p({attr:"target"})});function $p(t){return function(r){for(var n=[],i=0;i<this.length;i++){var s=this[i],l=s._private[t.attr];l&&n.push(l)}return this.spawn(n,!0).filter(r)}}Ue(dr,{edgesWith:Xr(Wp(),"edgesWith"),edgesTo:Xr(Wp({thisIsSrc:!0}),"edgesTo")});function Wp(t){return function(r){var n=[],i=this._private.cy,s=t||{};Me(r)&&(r=i.$(r));for(var l=0;l<r.length;l++)for(var u=r[l]._private.edges,f=0;f<u.length;f++){var c=u[f],v=c._private.data,h=this.hasElementWithId(v.source)&&r.hasElementWithId(v.target),g=r.hasElementWithId(v.source)&&this.hasElementWithId(v.target),m=h||g;m&&((s.thisIsSrc||s.thisIsTgt)&&(s.thisIsSrc&&!h||s.thisIsTgt&&!g)||n.push(c))}return this.spawn(n,!0)}}Ue(dr,{connectedEdges:Xr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var s=i._private.edges,l=0;l<s.length;l++){var u=s[l];e.push(u)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Xr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Xr(Hp(),"parallelEdges"),codirectedEdges:Xr(Hp({codirected:!0}),"codirectedEdges")});function Hp(t){var e={codirected:!1};return t=Ue({},e,t),function(n){for(var i=[],s=this.edges(),l=t,u=0;u<s.length;u++)for(var f=s[u],c=f._private,v=c.source,h=v._private.data.id,g=c.data.target,m=v._private.edges,y=0;y<m.length;y++){var S=m[y],E=S._private.data,x=E.target,C=E.source,T=x===g&&C===h,k=h===x&&g===C;(l.codirected&&T||!l.codirected&&(T||k))&&i.push(S)}return this.spawn(i,!0).filter(n)}}Ue(dr,{components:function(e){var r=this,n=r.cy(),i=n.collection(),s=e==null?r.nodes():e.nodes(),l=[];e!=null&&s.empty()&&(s=e.sources());var u=function(v,h){i.merge(v),s.unmerge(v),h.merge(v)};if(s.empty())return r.spawn();var f=function(){var v=n.collection();l.push(v);var h=s[0];u(h,v),r.bfs({directed:!1,roots:h,visit:function(m){return u(m,v)}}),v.forEach(function(g){g.connectedEdges().forEach(function(m){r.has(m)&&v.has(m.source())&&v.has(m.target())&&v.merge(m)})})};do f();while(s.length>0);return l},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});dr.componentsOf=dr.components;var Jt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){bt("A collection must have a reference to the core");return}var s=new pn,l=!1;if(!r)r=[];else if(r.length>0&&rt(r[0])&&!ns(r[0])){l=!0;for(var u=[],f=new Ni,c=0,v=r.length;c<v;c++){var h=r[c];h.data==null&&(h.data={});var g=h.data;if(g.id==null)g.id=Vg();else if(e.hasElementWithId(g.id)||f.has(g.id))continue;var m=new cu(e,h,!1);u.push(m),f.add(g.id)}r=u}this.length=0;for(var y=0,S=r.length;y<S;y++){var E=r[y][0];if(E!=null){var x=E._private.data.id;(!n||!s.has(x))&&(n&&s.set(x,{index:this.length,ele:E}),this[this.length]=E,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(C){this.lazyMap=C},rebuildMap:function(){for(var T=this.lazyMap=new pn,k=this.eles,B=0;B<k.length;B++){var R=k[B];T.set(R.id(),{index:B,ele:R})}}},n&&(this._private.map=s),l&&!i&&this.restore()},ht=cu.prototype=Jt.prototype=Object.create(Array.prototype);ht.instanceString=function(){return"collection"};ht.spawn=function(t,e){return new Jt(this.cy(),t,e)};ht.spawnSelf=function(){return this.spawn(this)};ht.cy=function(){return this._private.cy};ht.renderer=function(){return this._private.cy.renderer()};ht.element=function(){return this[0]};ht.collection=function(){return Tg(this)?this:new Jt(this._private.cy,[this])};ht.unique=function(){return new Jt(this._private.cy,this,!0)};ht.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};ht.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Jt(e)};ht.$id=ht.getElementById;ht.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};ht.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};ht.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};ht.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(rt(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var s=!1,l={},u=t.data.source,f=t.data.target;u!=null&&u!=i.source&&(l.source=""+u,s=!0),f!=null&&f!=i.target&&(l.target=""+f,s=!0),s&&(e=e.move(l))}else{var c="parent"in t.data,v=t.data.parent;c&&(v!=null||i.parent!=null)&&v!=i.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}t.position&&e.position(t.position);var h=function(S,E,x){var C=t[S];C!=null&&C!==n[S]&&(C?e[E]():e[x]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var g={data:hn(n.data),position:hn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};g.classes="";var m=0;return n.classes.forEach(function(y){return g.classes+=m++===0?y:" "+y}),g}}};ht.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};ht.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),s=new cu(t,i,!1);e.push(s)}return new Jt(t,e)};ht.copy=ht.clone;ht.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,s=[],l=[],u,f=0,c=r.length;f<c;f++){var v=r[f];e&&!v.removed()||(v.isNode()?s.push(v):l.push(v))}u=s.concat(l);var h,g=function(){u.splice(h,1),h--};for(h=0;h<u.length;h++){var m=u[h],y=m._private,S=y.data;if(m.clearTraversalCache(),!(!e&&!y.removed)){if(S.id===void 0)S.id=Vg();else if(xe(S.id))S.id=""+S.id;else if(ua(S.id)||!Me(S.id)){bt("Can not create element with invalid string ID `"+S.id+"`"),g();continue}else if(n.hasElementWithId(S.id)){bt("Can not create second element with ID `"+S.id+"`"),g();continue}}var E=S.id;if(m.isNode()){var x=y.position;x.x==null&&(x.x=0),x.y==null&&(x.y=0)}if(m.isEdge()){for(var C=m,T=["source","target"],k=T.length,B=!1,R=0;R<k;R++){var P=T[R],L=S[P];xe(L)&&(L=S[P]=""+S[P]),L==null||L===""?(bt("Can not create edge `"+E+"` with unspecified "+P),B=!0):n.hasElementWithId(L)||(bt("Can not create edge `"+E+"` with nonexistant "+P+" `"+L+"`"),B=!0)}if(B){g();continue}var A=n.getElementById(S.source),z=n.getElementById(S.target);A.same(z)?A._private.edges.push(C):(A._private.edges.push(C),z._private.edges.push(C)),C._private.source=A,C._private.target=z}y.map=new pn,y.map.set(E,{ele:m,index:0}),y.removed=!1,e&&n.addToPool(m)}for(var O=0;O<s.length;O++){var N=s[O],_=N._private.data;xe(_.parent)&&(_.parent=""+_.parent);var F=_.parent,K=F!=null;if(K||N._private.parent){var W=N._private.parent?n.collection().merge(N._private.parent):n.getElementById(F);if(W.empty())_.parent=void 0;else if(W[0].removed())lt("Node added with missing parent, reference to parent removed"),_.parent=void 0,N._private.parent=null;else{for(var H=!1,$=W;!$.empty();){if(N.same($)){H=!0,_.parent=void 0;break}$=$.parent()}H||(W[0]._private.children.push(N),N._private.parent=W[0],i.hasCompoundNodes=!0)}}}if(u.length>0){for(var G=u.length===r.length?r:new Jt(n,u),X=0;X<G.length;X++){var M=G[X];M.isNode()||(M.parallelEdges().clearTraversalCache(),M.source().clearTraversalCache(),M.target().clearTraversalCache())}var V;i.hasCompoundNodes?V=n.collection().merge(G).merge(G.connectedNodes()).merge(G.parent()):V=G,V.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?G.emitAndNotify("add"):e&&G.emit("add")}return r};ht.removed=function(){var t=this[0];return t&&t._private.removed};ht.inside=function(){var t=this[0];return t&&!t._private.removed};ht.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},s=r._private.cy;function l(F){for(var K=F._private.edges,W=0;W<K.length;W++)f(K[W])}function u(F){for(var K=F._private.children,W=0;W<K.length;W++)f(K[W])}function f(F){var K=i[F.id()];e&&F.removed()||K||(i[F.id()]=!0,F.isNode()?(n.push(F),l(F),u(F)):n.unshift(F))}for(var c=0,v=r.length;c<v;c++){var h=r[c];f(h)}function g(F,K){var W=F._private.edges;ca(W,K),F.clearTraversalCache()}function m(F){F.clearTraversalCache()}var y=[];y.ids={};function S(F,K){K=K[0],F=F[0];var W=F._private.children,H=F.id();ca(W,K),K._private.parent=null,y.ids[H]||(y.ids[H]=!0,y.push(F))}r.dirtyCompoundBoundsCache(),e&&s.removeFromPool(n);for(var E=0;E<n.length;E++){var x=n[E];if(x.isEdge()){var C=x.source()[0],T=x.target()[0];g(C,x),g(T,x);for(var k=x.parallelEdges(),B=0;B<k.length;B++){var R=k[B];m(R),R.isBundledBezier()&&R.dirtyBoundingBoxCache()}}else{var P=x.parent();P.length!==0&&S(P,x)}e&&(x._private.removed=!0)}var L=s._private.elements;s._private.hasCompoundNodes=!1;for(var A=0;A<L.length;A++){var z=L[A];if(z.isParent()){s._private.hasCompoundNodes=!0;break}}var O=new Jt(this.cy(),n);O.size()>0&&(t?O.emitAndNotify("remove"):e&&O.emit("remove"));for(var N=0;N<y.length;N++){var _=y[N];(!e||!_.removed())&&_.updateStyle()}return O};ht.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,s=function(y){return y==null?y:""+y};if(t.source!==void 0||t.target!==void 0){var l=s(t.source),u=s(t.target),f=l!=null&&e.hasElementWithId(l),c=u!=null&&e.hasElementWithId(u);(f||c)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var y=r[m],S=y._private.data;y.isEdge()&&(f&&(S.source=l),c&&(S.target=u))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var v=s(t.parent),h=v===null||e.hasElementWithId(v);if(h){var g=v===null?void 0:v;e.batch(function(){var m=r.remove(n,i);m.emitAndNotify("moveout");for(var y=0;y<r.length;y++){var S=r[y],E=S._private.data;S.isNode()&&(E.parent=g)}m.restore(n,i)}),r.emitAndNotify("move")}}return this};[Jg,CS,Hl,sa,Mi,VS,yu,rb,Cy,Ty,sb,nu,Kl,jt,la,dr].forEach(function(t){Ue(ht,t)});var hb={add:function(e){var r,n=this;if(zr(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var s=[],l=0;l<i.length;l++){var u=i[l];s.push(u.json())}r=new Jt(n,s)}}else if(ct(e)){var f=e;r=new Jt(n,f)}else if(rt(e)&&(ct(e.nodes)||ct(e.edges))){for(var c=e,v=[],h=["nodes","edges"],g=0,m=h.length;g<m;g++){var y=h[g],S=c[y];if(ct(S))for(var E=0,x=S.length;E<x;E++){var C=Ue({group:y},S[E]);v.push(C)}}r=new Jt(n,v)}else{var T=e;r=new cu(n,T).collection()}return r},remove:function(e){if(!zr(e)){if(Me(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function pb(t,e,r,n){var i=4,s=.001,l=1e-7,u=10,f=11,c=1/(f-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var g=v?new Float32Array(f):new Array(f);function m(z,O){return 1-3*O+3*z}function y(z,O){return 3*O-6*z}function S(z){return 3*z}function E(z,O,N){return((m(O,N)*z+y(O,N))*z+S(O))*z}function x(z,O,N){return 3*m(O,N)*z*z+2*y(O,N)*z+S(O)}function C(z,O){for(var N=0;N<i;++N){var _=x(O,t,r);if(_===0)return O;var F=E(O,t,r)-z;O-=F/_}return O}function T(){for(var z=0;z<f;++z)g[z]=E(z*c,t,r)}function k(z,O,N){var _,F,K=0;do F=O+(N-O)/2,_=E(F,t,r)-z,_>0?N=F:O=F;while(Math.abs(_)>l&&++K<u);return F}function B(z){for(var O=0,N=1,_=f-1;N!==_&&g[N]<=z;++N)O+=c;--N;var F=(z-g[N])/(g[N+1]-g[N]),K=O+F*c,W=x(K,t,r);return W>=s?C(z,K):W===0?K:k(z,O,O+c)}var R=!1;function P(){R=!0,(t!==e||r!==n)&&T()}var L=function(O){return R||P(),t===e&&r===n?O:O===0?0:O===1?1:E(B(O),e,n)};L.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var A="generateBezier("+[t,e,r,n]+")";return L.toString=function(){return A},L}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var gb=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,s){var l={x:n.x+s.dx*i,v:n.v+s.dv*i,tension:n.tension,friction:n.friction};return{dx:l.v,dv:t(l)}}function r(n,i){var s={dx:n.v,dv:t(n)},l=e(n,i*.5,s),u=e(n,i*.5,l),f=e(n,i,u),c=1/6*(s.dx+2*(l.dx+u.dx)+f.dx),v=1/6*(s.dv+2*(l.dv+u.dv)+f.dv);return n.x=n.x+c*i,n.v=n.v+v*i,n}return function n(i,s,l){var u={x:-1,v:0,tension:null,friction:null},f=[0],c=0,v=1/1e4,h=16/1e3,g,m,y;for(i=parseFloat(i)||500,s=parseFloat(s)||20,l=l||null,u.tension=i,u.friction=s,g=l!==null,g?(c=n(i,s),m=c/l*h):m=h;y=r(y||u,m),f.push(1+y.x),c+=16,Math.abs(y.x)>v&&Math.abs(y.v)>v;);return g?function(S){return f[S*(f.length-1)|0]}:c}}(),vt=function(e,r,n,i){var s=pb(e,r,n,i);return function(l,u,f){return l+(u-l)*s(f)}},ql={linear:function(e,r,n){return e+(r-e)*n},ease:vt(.25,.1,.25,1),"ease-in":vt(.42,0,1,1),"ease-out":vt(0,0,.58,1),"ease-in-out":vt(.42,0,.58,1),"ease-in-sine":vt(.47,0,.745,.715),"ease-out-sine":vt(.39,.575,.565,1),"ease-in-out-sine":vt(.445,.05,.55,.95),"ease-in-quad":vt(.55,.085,.68,.53),"ease-out-quad":vt(.25,.46,.45,.94),"ease-in-out-quad":vt(.455,.03,.515,.955),"ease-in-cubic":vt(.55,.055,.675,.19),"ease-out-cubic":vt(.215,.61,.355,1),"ease-in-out-cubic":vt(.645,.045,.355,1),"ease-in-quart":vt(.895,.03,.685,.22),"ease-out-quart":vt(.165,.84,.44,1),"ease-in-out-quart":vt(.77,0,.175,1),"ease-in-quint":vt(.755,.05,.855,.06),"ease-out-quint":vt(.23,1,.32,1),"ease-in-out-quint":vt(.86,0,.07,1),"ease-in-expo":vt(.95,.05,.795,.035),"ease-out-expo":vt(.19,1,.22,1),"ease-in-out-expo":vt(1,0,0,1),"ease-in-circ":vt(.6,.04,.98,.335),"ease-out-circ":vt(.075,.82,.165,1),"ease-in-out-circ":vt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return ql.linear;var i=gb(e,r,n);return function(s,l,u){return s+(l-s)*i(u)}},"cubic-bezier":vt};function Kp(t,e,r,n,i){if(n===1||e===r)return r;var s=i(e,r,n);return t==null||((t.roundValue||t.color)&&(s=Math.round(s)),t.min!==void 0&&(s=Math.max(s,t.min)),t.max!==void 0&&(s=Math.min(s,t.max))),s}function qp(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function mi(t,e,r,n,i){var s=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var l=qp(t,i),u=qp(e,i);if(xe(l)&&xe(u))return Kp(s,l,u,r,n);if(ct(l)&&ct(u)){for(var f=[],c=0;c<u.length;c++){var v=l[c],h=u[c];if(v!=null&&h!=null){var g=Kp(s,v,h,r,n);f.push(g)}else f.push(h)}return f}}function yb(t,e,r,n){var i=!n,s=t._private,l=e._private,u=l.easing,f=l.startTime,c=n?t:t.cy(),v=c.style();if(!l.easingImpl)if(u==null)l.easingImpl=ql.linear;else{var h;if(Me(u)){var g=v.parse("transition-timing-function",u);h=g.value}else h=u;var m,y;Me(h)?(m=h,y=[]):(m=h[1],y=h.slice(2).map(function(G){return+G})),y.length>0?(m==="spring"&&y.push(l.duration),l.easingImpl=ql[m].apply(null,y)):l.easingImpl=ql[m]}var S=l.easingImpl,E;if(l.duration===0?E=1:E=(r-f)/l.duration,l.applying&&(E=l.progress),E<0?E=0:E>1&&(E=1),l.delay==null){var x=l.startPosition,C=l.position;if(C&&i&&!t.locked()){var T={};Ao(x.x,C.x)&&(T.x=mi(x.x,C.x,E,S)),Ao(x.y,C.y)&&(T.y=mi(x.y,C.y,E,S)),t.position(T)}var k=l.startPan,B=l.pan,R=s.pan,P=B!=null&&n;P&&(Ao(k.x,B.x)&&(R.x=mi(k.x,B.x,E,S)),Ao(k.y,B.y)&&(R.y=mi(k.y,B.y,E,S)),t.emit("pan"));var L=l.startZoom,A=l.zoom,z=A!=null&&n;z&&(Ao(L,A)&&(s.zoom=Yo(s.minZoom,mi(L,A,E,S),s.maxZoom)),t.emit("zoom")),(P||z)&&t.emit("viewport");var O=l.style;if(O&&O.length>0&&i){for(var N=0;N<O.length;N++){var _=O[N],F=_.name,K=_,W=l.startStyle[F],H=v.properties[W.name],$=mi(W,K,E,S,H);v.overrideBypass(t,F,$)}t.emit("style")}}return l.progress=E,E}function Ao(t,e){return t==null||e==null?!1:xe(t)&&xe(e)?!0:!!(t&&e)}function mb(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function Gp(t,e){var r=e._private.aniEles,n=[];function i(v,h){var g=v._private,m=g.animation.current,y=g.animation.queue,S=!1;if(m.length===0){var E=y.shift();E&&m.push(E)}for(var x=function(R){for(var P=R.length-1;P>=0;P--){var L=R[P];L()}R.splice(0,R.length)},C=m.length-1;C>=0;C--){var T=m[C],k=T._private;if(k.stopped){m.splice(C,1),k.hooked=!1,k.playing=!1,k.started=!1,x(k.frames);continue}!k.playing&&!k.applying||(k.playing&&k.applying&&(k.applying=!1),k.started||mb(v,T,t),yb(v,T,t,h),k.applying&&(k.applying=!1),x(k.frames),k.step!=null&&k.step(t),T.completed()&&(m.splice(C,1),k.hooked=!1,k.playing=!1,k.started=!1,x(k.completes)),S=!0)}return!h&&m.length===0&&y.length===0&&n.push(v),S}for(var s=!1,l=0;l<r.length;l++){var u=r[l],f=i(u);s=s||f}var c=i(e,!0);(s||c)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var wb={animate:st.animate(),animation:st.animation(),animated:st.animated(),clearQueue:st.clearQueue(),delay:st.delay(),delayAnimation:st.delayAnimation(),stop:st.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&jl(function(s){Gp(s,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(s,l){Gp(l,e)},n.beforeRenderPriorities.animations):r()}},xb={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&ns(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Ml=function(e){return Me(e)?new da(e):e},Dy={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new mu(xb,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Ml(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Ml(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Ml(r),n),this},once:function(e,r,n){return this.emitter().one(e,Ml(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};st.eventAliasesOn(Dy);var Fc={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Fc.jpeg=Fc.jpg;var Gl={layout:function(e){var r=this;if(e==null){bt("Layout options must be specified to make a layout");return}if(e.name==null){bt("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){bt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var s;Me(e.eles)?s=r.$(e.eles):s=e.eles!=null?e.eles:r.$();var l=new i(Ue({},e,{cy:r,eles:s}));return l}};Gl.createLayout=Gl.makeLayout=Gl.layout;var Eb={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var s=this.renderer();this.destroyed()||!s||s.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var s=n[i],l=e[s],u=r.getElementById(s);u.data(l)}})}},Sb=Xt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:12,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),_c={renderTo:function(e,r,n,i){var s=this._private.renderer;return s.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){bt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&lt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=Sb(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};_c.invalidateDimensions=_c.resize;var Xl={collection:function(e,r){return Me(e)?this.$(e):zr(e)?e.collection():ct(e)?(r||(r={}),new Jt(this,e,r.unique,r.removed)):new Jt(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Xl.elements=Xl.filter=Xl.$;var hr={},Uo="t",bb="f";hr.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),s=0;s<t.length;s++){var l=t[s],u=e.getContextMeta(l);if(!u.empty){var f=e.getContextStyle(u),c=e.applyContextStyle(u,f,l);l._private.appliedInitStyle?e.updateTransitions(l,c.diffProps):l._private.appliedInitStyle=!0;var v=e.updateStyleHints(l);v&&i.push(l)}}return i};hr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,s=n[i];if(s)return s;for(var l=[],u={},f=0;f<r.length;f++){var c=r[f],v=t[f]===Uo,h=e[f]===Uo,g=v!==h,m=c.mappedProperties.length>0;if(g||h&&m){var y=void 0;g&&m||g?y=c.properties:m&&(y=c.mappedProperties);for(var S=0;S<y.length;S++){for(var E=y[S],x=E.name,C=!1,T=f+1;T<r.length;T++){var k=r[T],B=e[T]===Uo;if(B&&(C=k.properties[E.name]!=null,C))break}!u[x]&&!C&&(u[x]=!0,l.push(x))}}}return n[i]=l,l};hr.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",s=0;s<e.length;s++){var l=e[s],u=l.selector&&l.selector.matches(t);u?r+=Uo:r+=bb}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};hr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},s=0;s<r.length;s++){var l=r[s],u=e[s]===Uo;if(u)for(var f=0;f<l.properties.length;f++){var c=l.properties[f];i[c.name]=c}}return n[e]=i,i};hr.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,s={},l=n.types,u=0;u<i.length;u++){var f=i[u],c=e[f],v=r.pstyle(f);if(!c)if(v)v.bypass?c={name:f,deleteBypassed:!0}:c={name:f,delete:!0};else continue;if(v!==c){if(c.mapped===l.fn&&v!=null&&v.mapping!=null&&v.mapping.value===c.value){var h=v.mapping,g=h.fnValue=c.value(r);if(g===h.prevFnValue)continue}var m=s[f]={prev:v};n.applyParsedProperty(r,c),m.next=r.pstyle(f),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:s}};hr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,s=function(le,pe,Se){return r.getPropertiesHash(le,pe,Se)},l=e.styleKey;if(t.removed())return!1;var u=e.group==="nodes",f=t._private.style;n=Object.keys(f);for(var c=0;c<i.length;c++){var v=i[c];e.styleKeys[v]=[bi,zo]}for(var h=function(le,pe){return e.styleKeys[pe][0]=qo(le,e.styleKeys[pe][0])},g=function(le,pe){return e.styleKeys[pe][1]=Go(le,e.styleKeys[pe][1])},m=function(le,pe){h(le,pe),g(le,pe)},y=function(le,pe){for(var Se=0;Se<le.length;Se++){var Te=le.charCodeAt(Se);h(Te,pe),g(Te,pe)}},S=2e9,E=function(le){return-128<le&&le<128&&Math.floor(le)!==le?S-(le*1024|0):le},x=0;x<n.length;x++){var C=n[x],T=f[C];if(T!=null){var k=this.properties[C],B=k.type,R=k.groupKey,P=void 0;k.hashOverride!=null?P=k.hashOverride(t,T):T.pfValue!=null&&(P=T.pfValue);var L=k.enums==null?T.value:null,A=P!=null,z=L!=null,O=A||z,N=T.units;if(B.number&&O&&!B.multiple){var _=A?P:L;m(E(_),R),!A&&N!=null&&y(N,R)}else y(T.strValue,R)}}for(var F=[bi,zo],K=0;K<i.length;K++){var W=i[K],H=e.styleKeys[W];F[0]=qo(H[0],F[0]),F[1]=Go(H[1],F[1])}e.styleKey=Bw(F[0],F[1]);var $=e.styleKeys;e.labelDimsKey=na($.labelDimensions);var G=s(t,["label"],$.labelDimensions);if(e.labelKey=na(G),e.labelStyleKey=na(Cl($.commonLabel,G)),!u){var X=s(t,["source-label"],$.labelDimensions);e.sourceLabelKey=na(X),e.sourceLabelStyleKey=na(Cl($.commonLabel,X));var M=s(t,["target-label"],$.labelDimensions);e.targetLabelKey=na(M),e.targetLabelStyleKey=na(Cl($.commonLabel,M))}if(u){var V=e.styleKeys,te=V.nodeBody,ae=V.nodeBorder,se=V.nodeOutline,oe=V.backgroundImage,ce=V.compound,ue=V.pie,Z=[te,ae,se,oe,ce,ue].filter(function(Q){return Q!=null}).reduce(Cl,[bi,zo]);e.nodeKey=na(Z),e.hasPie=ue!=null&&ue[0]!==bi&&ue[1]!==zo}return l!==e.styleKey};hr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};hr.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,s,l=r.types,u=r.properties[n.name].type,f=n.bypass,c=i[n.name],v=c&&c.bypass,h=t._private,g="mapping",m=function(te){return te==null?null:te.pfValue!=null?te.pfValue:te.value},y=function(){var te=m(c),ae=m(n);r.checkTriggers(t,n.name,te,ae)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",f)),n.delete)return i[n.name]=void 0,y(),!0;if(n.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,y(),!0):!1:(y(),!0);if(n.deleteBypass)return c?c.bypass?(i[n.name]=c.bypassed,y(),!0):!1:(y(),!0);var S=function(){lt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case l.mapData:{for(var E=n.field.split("."),x=h.data,C=0;C<E.length&&x;C++){var T=E[C];x=x[T]}if(x==null)return S(),!1;var k;if(xe(x)){var B=n.fieldMax-n.fieldMin;B===0?k=0:k=(x-n.fieldMin)/B}else return lt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+x+"` for `"+t.id()+"` is non-numeric)"),!1;if(k<0?k=0:k>1&&(k=1),u.color){var R=n.valueMin[0],P=n.valueMax[0],L=n.valueMin[1],A=n.valueMax[1],z=n.valueMin[2],O=n.valueMax[2],N=n.valueMin[3]==null?1:n.valueMin[3],_=n.valueMax[3]==null?1:n.valueMax[3],F=[Math.round(R+(P-R)*k),Math.round(L+(A-L)*k),Math.round(z+(O-z)*k),Math.round(N+(_-N)*k)];s={bypass:n.bypass,name:n.name,value:F,strValue:"rgb("+F[0]+", "+F[1]+", "+F[2]+")"}}else if(u.number){var K=n.valueMin+(n.valueMax-n.valueMin)*k;s=this.parse(n.name,K,n.bypass,g)}else return!1;if(!s)return S(),!1;s.mapping=n,n=s;break}case l.data:{for(var W=n.field.split("."),H=h.data,$=0;$<W.length&&H;$++){var G=W[$];H=H[G]}if(H!=null&&(s=this.parse(n.name,H,n.bypass,g)),!s)return S(),!1;s.mapping=n,n=s;break}case l.fn:{var X=n.value,M=n.fnValue!=null?n.fnValue:X(t);if(n.prevFnValue=M,M==null)return lt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(s=this.parse(n.name,M,n.bypass,g),!s)return lt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;s.mapping=hn(n),n=s;break}case void 0:break;default:return!1}return f?(v?n.bypassed=c.bypassed:n.bypassed=c,i[n.name]=n):v?c.bypassed=n:i[n.name]=n,y(),!0};hr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,s=Object.keys(i),l=0;l<s.length;l++){var u=s[l],f=i[u];f!=null&&(f.bypass?f.bypassed=null:i[u]=null)}}};hr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};hr.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,s=t.pstyle("transition-duration").pfValue,l=t.pstyle("transition-delay").pfValue;if(i.length>0&&s>0){for(var u={},f=!1,c=0;c<i.length;c++){var v=i[c],h=t.pstyle(v),g=e[v];if(g){var m=g.prev,y=m,S=g.next!=null?g.next:h,E=!1,x=void 0,C=1e-6;y&&(xe(y.pfValue)&&xe(S.pfValue)?(E=S.pfValue-y.pfValue,x=y.pfValue+C*E):xe(y.value)&&xe(S.value)?(E=S.value-y.value,x=y.value+C*E):ct(y.value)&&ct(S.value)&&(E=y.value[0]!==S.value[0]||y.value[1]!==S.value[1]||y.value[2]!==S.value[2],x=y.strValue),E&&(u[v]=S.strValue,this.applyBypass(t,v,x),f=!0))}}if(!f)return;n.transitioning=!0,new Ii(function(T){l>0?t.delayAnimation(l).play().promise().then(T):T()}).then(function(){return t.animation({style:u,duration:s,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};hr.checkTrigger=function(t,e,r,n,i,s){var l=this.properties[e],u=i(l);u!=null&&u(r,n)&&s(l)};hr.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(s){return s.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};hr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&e==="curve-style"&&(r==="bezier"||n==="bezier")&&t.parallelEdges().forEach(function(s){s.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&e==="display"&&(r==="none"||n==="none")&&t.connectedEdges().forEach(function(s){s.dirtyBoundingBoxCache()})})};hr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var ls={};ls.applyBypass=function(t,e,r,n){var i=this,s=[],l=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var u=0;u<i.properties.length;u++){var f=i.properties[u],c=f.name,v=this.parse(c,r,!0);v&&s.push(v)}}else if(Me(e)){var h=this.parse(e,r,!0);h&&s.push(h)}else if(rt(e)){var g=e;n=r;for(var m=Object.keys(g),y=0;y<m.length;y++){var S=m[y],E=g[S];if(E===void 0&&(E=g[uu(S)]),E!==void 0){var x=this.parse(S,E,!0);x&&s.push(x)}}}else return!1;if(s.length===0)return!1;for(var C=!1,T=0;T<t.length;T++){for(var k=t[T],B={},R=void 0,P=0;P<s.length;P++){var L=s[P];if(n){var A=k.pstyle(L.name);R=B[L.name]={prev:A}}C=this.applyParsedProperty(k,hn(L))||C,n&&(R.next=k.pstyle(L.name))}C&&this.updateStyleHints(k),n&&this.updateTransitions(k,B,l)}return C};ls.overrideBypass=function(t,e,r){e=Zc(e);for(var n=0;n<t.length;n++){var i=t[n],s=i._private.style[e],l=this.properties[e].type,u=l.color,f=l.mutiple,c=s?s.pfValue!=null?s.pfValue:s.value:null;!s||!s.bypass?this.applyBypass(i,e,r):(s.value=r,s.pfValue!=null&&(s.pfValue=r),u?s.strValue="rgb("+r.join(",")+")":f?s.strValue=r.join(" "):s.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,c,r)}};ls.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};ls.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var s=t[i],l={},u=0;u<e.length;u++){var f=e[u],c=this.properties[f],v=s.pstyle(c.name);if(!(!v||!v.bypass)){var h="",g=this.parse(f,h,!0),m=l[c.name]={prev:v};this.applyParsedProperty(s,g),m.next=s.pstyle(c.name)}}this.updateStyleHints(s),r&&this.updateTransitions(s,l,n)}};var cd={};cd.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};cd.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var gn={};gn.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};gn.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var s=r.properties[i],l=r.getStylePropertyValue(t,s.name,e);l!=null&&(n[s.name]=l,n[uu(s.name)]=l)}return n}};gn.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};gn.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var s=i.type,l=t.pstyle(i.name);if(l){var u=l.value,f=l.units,c=l.strValue;if(r&&s.number&&u!=null&&xe(u)){var v=t.cy().zoom(),h=function(E){return E*v},g=function(E,x){return h(E)+x},m=ct(u),y=m?f.every(function(S){return S!=null}):f!=null;return y?m?u.map(function(S,E){return g(S,f[E])}).join(" "):g(u,f):m?u.map(function(S){return Me(S)?S:""+h(S)}).join(" "):""+h(u)}else if(c!=null)return c}return null}};gn.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],s=i.name,l=t.pstyle(s);l!==void 0&&(rt(l)?l=this.parse(s,l.strValue):l=this.parse(s,l)),l&&(r[s]=l)}return r};gn.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var s=Object.keys(n),l=0;l<s.length;l++){var u=s[l],f=n[u],c=i[u]||i[Zc(u)],v=this.parse(c.name,f);v&&r.push(v)}return r};gn.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,s,l,u,f,c;for(f=0;f<e.length;f++)if(i=e[f],s=t.pstyle(i,!1),s!=null)if(s.pfValue!=null)n[0]=qo(u,n[0]),n[1]=Go(u,n[1]);else for(l=s.strValue,c=0;c<l.length;c++)u=l.charCodeAt(c),n[0]=qo(u,n[0]),n[1]=Go(u,n[1]);return n};gn.getPropertiesHash=gn.getNonDefaultPropertiesHash;var Eu={};Eu.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,s=n.style||n.css,l=Object.keys(s);e.selector(i);for(var u=0;u<l.length;u++){var f=l[u],c=s[f];e.css(f,c)}}return e};Eu.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Eu.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,s={},l=0;l<i.length;l++){var u=i[l];s[u.name]=u.strValue}t.push({selector:n?n.toString():"core",style:s})}return t};var dd={};dd.appendFromString=function(t){var e=this,r=this,n=""+t,i,s,l;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){n.length>i.length?n=n.substr(i.length):n=""}function f(){s.length>l.length?s=s.substr(l.length):s=""}for(;;){var c=n.match(/^\s*$/);if(c)break;var v=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){lt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=v[0];var h=v[1];if(h!=="core"){var g=new da(h);if(g.invalid){lt("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),u();continue}}var m=v[2],y=!1;s=m;for(var S=[];;){var E=s.match(/^\s*$/);if(E)break;var x=s.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!x){lt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),y=!0;break}l=x[0];var C=x[1],T=x[2],k=e.properties[C];if(!k){lt("Skipping property: Invalid property name in: "+l),f();continue}var B=r.parse(C,T);if(!B){lt("Skipping property: Invalid property definition in: "+l),f();continue}S.push({name:C,val:T}),f()}if(y){u();break}r.selector(h);for(var R=0;R<S.length;R++){var P=S[R];r.css(P.name,P.val)}u()}return r};dd.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Zt={};(function(){var t=Ft,e=N1,r=O1,n=z1,i=F1,s=function(Z){return"^"+Z+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(Z){var Q=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+Z+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+Q+")\\s*\\,\\s*("+Q+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Zt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Z,Q){switch(Z.length){case 2:return Q[0]!=="deg"&&Q[0]!=="rad"&&Q[1]!=="deg"&&Q[1]!=="rad";case 1:return Me(Z[0])||Q[0]==="deg"||Q[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Z){var Q=Z.length;return Q===1||Q===2||Q===4}}};var f={zeroNonZero:function(Z,Q){return(Z==null||Q==null)&&Z!==Q||Z==0&&Q!=0?!0:Z!=0&&Q==0},any:function(Z,Q){return Z!=Q},emptyNonEmpty:function(Z,Q){var le=ua(Z),pe=ua(Q);return le&&!pe||!le&&pe}},c=Zt.types,v=[{name:"label",type:c.text,triggersBounds:f.any,triggersZOrder:f.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any}],h=[{name:"source-label",type:c.text,triggersBounds:f.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"source-text-offset",type:c.size,triggersBounds:f.any}],g=[{name:"target-label",type:c.text,triggersBounds:f.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:f.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"target-text-offset",type:c.size,triggersBounds:f.any}],m=[{name:"font-family",type:c.fontFamily,triggersBounds:f.any},{name:"font-style",type:c.fontStyle,triggersBounds:f.any},{name:"font-weight",type:c.fontWeight,triggersBounds:f.any},{name:"font-size",type:c.size,triggersBounds:f.any},{name:"text-transform",type:c.textTransform,triggersBounds:f.any},{name:"text-wrap",type:c.textWrap,triggersBounds:f.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:f.any},{name:"text-max-width",type:c.size,triggersBounds:f.any},{name:"text-outline-width",type:c.size,triggersBounds:f.any},{name:"line-height",type:c.positiveNumber,triggersBounds:f.any}],y=[{name:"text-valign",type:c.valign,triggersBounds:f.any},{name:"text-halign",type:c.halign,triggersBounds:f.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:f.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:f.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:f.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:f.any},{name:"text-justification",type:c.justification}],S=[{name:"events",type:c.bool,triggersZOrder:f.any},{name:"text-events",type:c.bool,triggersZOrder:f.any}],E=[{name:"display",type:c.display,triggersZOrder:f.any,triggersBounds:f.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:c.visibility,triggersZOrder:f.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:f.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:f.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:f.any},{name:"z-index",type:c.number,triggersZOrder:f.any}],x=[{name:"overlay-padding",type:c.size,triggersBounds:f.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:f.any},{name:"overlay-corner-radius",type:c.cornerRadius}],C=[{name:"underlay-padding",type:c.size,triggersBounds:f.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:f.any},{name:"underlay-corner-radius",type:c.cornerRadius}],T=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],k=function(Z,Q){return Q.value==="label"?-Z.poolIndex():Q.pfValue},B=[{name:"height",type:c.nodeSize,triggersBounds:f.any,hashOverride:k},{name:"width",type:c.nodeSize,triggersBounds:f.any,hashOverride:k},{name:"shape",type:c.nodeShape,triggersBounds:f.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:f.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:f.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:f.any}],R=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:f.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],P=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:f.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:f.any}],L=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],A=[{name:"position",type:c.position,triggersBounds:f.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:f.any},{name:"min-width",type:c.size,triggersBounds:f.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-height",type:c.size,triggersBounds:f.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:f.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:f.any}],z=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:f.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:f.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:f.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:f.any},{name:"control-point-step-size",type:c.size,triggersBounds:f.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:f.any},{name:"control-point-weights",type:c.numbers,triggersBounds:f.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:f.any},{name:"segment-weights",type:c.numbers,triggersBounds:f.any},{name:"segment-radii",type:c.numbers,triggersBounds:f.any},{name:"radius-type",type:c.radiusType,triggersBounds:f.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:f.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:f.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:f.any},{name:"taxi-radius",type:c.number,triggersBounds:f.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:f.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:f.any},{name:"loop-direction",type:c.angle,triggersBounds:f.any},{name:"loop-sweep",type:c.angle,triggersBounds:f.any},{name:"source-distance-from-node",type:c.size,triggersBounds:f.any},{name:"target-distance-from-node",type:c.size,triggersBounds:f.any}],O=[{name:"ghost",type:c.bool,triggersBounds:f.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:f.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:f.any},{name:"ghost-opacity",type:c.zeroOneNumber}],N=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],_=[];Zt.pieBackgroundN=16,_.push({name:"pie-size",type:c.sizeMaybePercent});for(var F=1;F<=Zt.pieBackgroundN;F++)_.push({name:"pie-"+F+"-background-color",type:c.color}),_.push({name:"pie-"+F+"-background-size",type:c.percent}),_.push({name:"pie-"+F+"-background-opacity",type:c.zeroOneNumber});var K=[],W=Zt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:f.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(ue){W.forEach(function(Z){var Q=Z+"-"+ue.name,le=ue.type,pe=ue.triggersBounds;K.push({name:Q,type:le,triggersBounds:pe})})},{});var H=Zt.properties=[].concat(S,T,E,x,C,O,y,m,v,h,g,B,R,P,L,_,A,z,K,N),$=Zt.propertyGroups={behavior:S,transition:T,visibility:E,overlay:x,underlay:C,ghost:O,commonLabel:y,labelDimensions:m,mainLabel:v,sourceLabel:h,targetLabel:g,nodeBody:B,nodeBorder:R,nodeOutline:P,backgroundImage:L,pie:_,compound:A,edgeLine:z,edgeArrow:K,core:N},G=Zt.propertyGroupNames={},X=Zt.propertyGroupKeys=Object.keys($);X.forEach(function(ue){G[ue]=$[ue].map(function(Z){return Z.name}),$[ue].forEach(function(Z){return Z.groupKey=ue})});var M=Zt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Zt.propertyNames=H.map(function(ue){return ue.name});for(var V=0;V<H.length;V++){var te=H[V];H[te.name]=te}for(var ae=0;ae<M.length;ae++){var se=M[ae],oe=H[se.pointsTo],ce={name:se.name,alias:!0,pointsTo:oe};H.push(ce),H[se.name]=ce}})();Zt.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Zt.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Ue({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(f,c){for(var v=1;v<=Zt.pieBackgroundN;v++){var h=c.name.replace("{{i}}",v),g=c.value;f[h]=g}return f},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(f,c){return Zt.arrowPrefixes.forEach(function(v){var h=v+"-"+c.name,g=c.value;f[h]=g}),f},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var s=i.name,l=e[s],u=this.parse(s,l);r[s]=u}}return t.defaultProperties=r,t.defaultProperties};Zt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Su={};Su.parse=function(t,e,r,n){var i=this;if(Ct(e))return i.parseImplWarn(t,e,r,n);var s=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,l=r?"t":"f",u=""+e,f=zg(t,u,l,s),c=i.propCache=i.propCache||[],v;return(v=c[f])||(v=c[f]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(v=hn(v),v&&(v.value=hn(v.value))),v};Su.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&lt("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&lt("The style value of `label` is deprecated for `"+i.name+"`"),i};Su.parseImpl=function(t,e,r,n){var i=this;t=Zc(t);var s=i.properties[t],l=e,u=i.types;if(!s||e===void 0)return null;s.alias&&(s=s.pointsTo,t=s.name);var f=Me(e);f&&(e=e.trim());var c=s.type;if(!c)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Ct(e))return{name:t,value:e,strValue:"fn",mapped:u.fn,bypass:r};var v,h;if(!(!f||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(u.data.regex).exec(e))){if(r)return!1;var g=u.data;return{name:t,value:v,strValue:""+e,mapped:g,field:v[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(h=new RegExp(u.mapData.regex).exec(e))){if(r||c.multiple)return!1;var m=u.mapData;if(!(c.color||c.number))return!1;var y=this.parse(t,h[4]);if(!y||y.mapped)return!1;var S=this.parse(t,h[5]);if(!S||S.mapped)return!1;if(y.pfValue===S.pfValue||y.strValue===S.strValue)return lt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+y.strValue+"`"),this.parse(t,y.strValue);if(c.color){var E=y.value,x=S.value,C=E[0]===x[0]&&E[1]===x[1]&&E[2]===x[2]&&(E[3]===x[3]||(E[3]==null||E[3]===1)&&(x[3]==null||x[3]===1));if(C)return!1}return{name:t,value:h,strValue:""+e,mapped:m,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:y.value,valueMax:S.value,bypass:r}}}if(c.multiple&&n!=="multiple"){var T;if(f?T=e.split(/\s+/):ct(e)?T=e:T=[e],c.evenMultiple&&T.length%2!==0)return null;for(var k=[],B=[],R=[],P="",L=!1,A=0;A<T.length;A++){var z=i.parse(t,T[A],r,"multiple");L=L||Me(z.value),k.push(z.value),R.push(z.pfValue!=null?z.pfValue:z.value),B.push(z.units),P+=(A>0?" ":"")+z.strValue}return c.validate&&!c.validate(k,B)?null:c.singleEnum&&L?k.length===1&&Me(k[0])?{name:t,value:k[0],strValue:k[0],bypass:r}:null:{name:t,value:k,pfValue:R,strValue:P,bypass:r,units:B}}var O=function(){for(var Z=0;Z<c.enums.length;Z++){var Q=c.enums[Z];if(Q===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(c.number){var N,_="px";if(c.units&&(N=c.units),c.implicitUnits&&(_=c.implicitUnits),!c.unitless)if(f){var F="px|em"+(c.allowPercent?"|\\%":"");N&&(F=N);var K=e.match("^("+Ft+")("+F+")?$");K&&(e=K[1],N=K[2]||_)}else(!N||c.implicitUnits)&&(N=_);if(e=parseFloat(e),isNaN(e)&&c.enums===void 0)return null;if(isNaN(e)&&c.enums!==void 0)return e=l,O();if(c.integer&&!P1(e)||c.min!==void 0&&(e<c.min||c.strictMin&&e===c.min)||c.max!==void 0&&(e>c.max||c.strictMax&&e===c.max))return null;var W={name:t,value:e,strValue:""+e+(N||""),units:N,bypass:r};return c.unitless||N!=="px"&&N!=="em"?W.pfValue=e:W.pfValue=N==="px"||!N?e:this.getEmSizeInPixels()*e,(N==="ms"||N==="s")&&(W.pfValue=N==="ms"?e:1e3*e),(N==="deg"||N==="rad")&&(W.pfValue=N==="rad"?e:ox(e)),N==="%"&&(W.pfValue=e/100),W}else if(c.propList){var H=[],$=""+e;if($!=="none"){for(var G=$.split(/\s*,\s*|\s+/),X=0;X<G.length;X++){var M=G[X].trim();i.properties[M]?H.push(M):lt("`"+M+"` is not a valid property name")}if(H.length===0)return null}return{name:t,value:H,strValue:H.length===0?"none":H.join(" "),bypass:r}}else if(c.color){var V=Rg(e);return V?{name:t,value:V,pfValue:V,strValue:"rgb("+V[0]+","+V[1]+","+V[2]+")",bypass:r}:null}else if(c.regex||c.regexes){if(c.enums){var te=O();if(te)return te}for(var ae=c.regexes?c.regexes:[c.regex],se=0;se<ae.length;se++){var oe=new RegExp(ae[se]),ce=oe.exec(e);if(ce)return{name:t,value:c.singleRegexMatchValue?ce[1]:ce,strValue:""+e,bypass:r}}return null}else return c.string?{name:t,value:""+e,strValue:""+e,bypass:r}:c.enums?O():null};var cr=function t(e){if(!(this instanceof t))return new t(e);if(!Qc(e)){bt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},vr=cr.prototype;vr.instanceString=function(){return"style"};vr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var s=i[0]._private;s.styleDirty=!0,s.appliedInitStyle=!1}),this};vr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};vr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};vr.selector=function(t){var e=t==="core"?null:new da(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};vr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],s=r[i.name];s===void 0&&(s=r[uu(i.name)]),s!==void 0&&this.cssRule(i.name,s)}else e.length===2&&this.cssRule(e[0],e[1]);return this};vr.style=vr.css;vr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};vr.append=function(t){return kg(t)?t.appendToStyle(this):ct(t)?this.appendFromJson(t):Me(t)&&this.appendFromString(t),this};cr.fromJson=function(t,e){var r=new cr(t);return r.fromJson(e),r};cr.fromString=function(t,e){return new cr(t).fromString(e)};[hr,ls,cd,gn,Eu,dd,Zt,Su].forEach(function(t){Ue(vr,t)});cr.types=vr.types;cr.properties=vr.properties;cr.propertyGroups=vr.propertyGroups;cr.propertyGroupNames=vr.propertyGroupNames;cr.propertyGroupKeys=vr.propertyGroupKeys;var Cb={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return kg(e)?r.style=e.generateStyle(this):ct(e)?r.style=cr.fromJson(this,e):Me(e)?r.style=cr.fromString(this,e):r.style=cr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},Tb="single",Ua={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=Tb),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,s,l,u;switch(e.length){case 0:return r;case 1:if(Me(e[0]))return n=e[0],r[n];if(rt(e[0])){if(!this._private.panningEnabled)return this;s=e[0],l=s.x,u=s.y,xe(l)&&(r.x=l),xe(u)&&(r.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&xe(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,s,l,u,f,c;if(!this._private.panningEnabled)return this;switch(n.length){case 1:rt(e)&&(u=n[0],f=u.x,c=u.y,xe(f)&&(i.x+=f),xe(c)&&(i.y+=c),this.emit("pan viewport"));break;case 2:s=e,l=r,(s==="x"||s==="y")&&xe(l)&&(i[s]+=l),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(xe(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Me(e)){var i=e;e=this.$(i)}else if(B1(e)){var s=e;n={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else zr(e)||(e=this.mutableElements());if(!(zr(e)&&e.empty())){n=n||e.boundingBox();var l=this.width(),u=this.height(),f;if(r=xe(r)?r:0,!isNaN(l)&&!isNaN(u)&&l>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){f=Math.min((l-2*r)/n.w,(u-2*r)/n.h),f=f>this._private.maxZoom?this._private.maxZoom:f,f=f<this._private.minZoom?this._private.minZoom:f;var c={x:(l-f*(n.x1+n.x2))/2,y:(u-f*(n.y1+n.y2))/2};return{zoom:f,pan:c}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return xe(e)&&xe(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):xe(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:xe(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,s,l,u=!1;if(r.zoomingEnabled||(u=!0),xe(e)?l=e:rt(e)&&(l=e.level,e.position!=null?s=du(e.position,i,n):e.renderedPosition!=null&&(s=e.renderedPosition),s!=null&&!r.panningEnabled&&(u=!0)),l=l>r.maxZoom?r.maxZoom:l,l=l<r.minZoom?r.minZoom:l,u||!xe(l)||l===i||s!=null&&(!xe(s.x)||!xe(s.y)))return null;if(s!=null){var f=n,c=i,v=l,h={x:-v/c*(s.x-f.x)+s.x,y:-v/c*(s.y-f.y)+s.y};return{zoomed:!0,panned:!0,zoom:v,pan:h}}else return{zoomed:!0,panned:!1,zoom:l,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,s=[],l=!1,u=!1;if(!e)return this;if(xe(e.zoom)||(n=!1),rt(e.pan)||(i=!1),!n&&!i)return this;if(n){var f=e.zoom;f<r.minZoom||f>r.maxZoom||!r.zoomingEnabled?l=!0:(r.zoom=f,s.push("zoom"))}if(i&&(!l||!e.cancelOnFailedZoom)&&r.panningEnabled){var c=e.pan;xe(c.x)&&(r.pan.x=c.x,u=!1),xe(c.y)&&(r.pan.y=c.y,u=!1),u||s.push("pan")}return s.length>0&&(s.push("viewport"),this.emit(s.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Me(e)){var n=e;e=this.mutableElements().filter(n)}else zr(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),s=this.width(),l=this.height();r=r===void 0?this._private.zoom:r;var u={x:(s-r*(i.x1+i.x2))/2,y:(l-r*(i.y1+i.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?function(){var i=n.window().getComputedStyle(r),s=function(u){return parseFloat(i.getPropertyValue(u))};return{width:r.clientWidth-s("padding-left")-s("padding-right"),height:r.clientHeight-s("padding-top")-s("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Ua.centre=Ua.center;Ua.autolockNodes=Ua.autolock;Ua.autoungrabifyNodes=Ua.autoungrabify;var es={data:st.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:st.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:st.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:st.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};es.attr=es.data;es.removeAttr=es.removeData;var ts=function(e){var r=this;e=Ue({},e);var n=e.container;n&&!Zl(n)&&Zl(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var s=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var l=zt!==void 0&&n!==void 0&&!e.headless,u=e;u.layout=Ue({name:l?"grid":"null"},u.layout),u.renderer=Ue({name:l?"canvas":"null"},u.renderer);var f=function(y,S,E){return S!==void 0?S:E!==void 0?E:y},c=this._private={container:n,ready:!1,options:u,elements:new Jt(this),listeners:[],aniEles:new Jt(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:f(!0,u.zoomingEnabled),userZoomingEnabled:f(!0,u.userZoomingEnabled),panningEnabled:f(!0,u.panningEnabled),userPanningEnabled:f(!0,u.userPanningEnabled),boxSelectionEnabled:f(!0,u.boxSelectionEnabled),autolock:f(!1,u.autolock,u.autolockNodes),autoungrabify:f(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:f(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?l:u.styleEnabled,zoom:xe(u.zoom)?u.zoom:1,pan:{x:rt(u.pan)&&xe(u.pan.x)?u.pan.x:0,y:rt(u.pan)&&xe(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:f(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var v=function(y,S){var E=y.some(A1);if(E)return Ii.all(y).then(S);S(y)};c.styleEnabled&&r.setStyle([]);var h=Ue({},u,u.renderer);r.initRenderer(h);var g=function(y,S,E){r.notifications(!1);var x=r.mutableElements();x.length>0&&x.remove(),y!=null&&(rt(y)||ct(y))&&r.add(y),r.one("layoutready",function(T){r.notifications(!0),r.emit(T),r.one("load",S),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",E),r.emit("done")});var C=Ue({},r._private.options.layout);C.eles=r.elements(),r.layout(C).run()};v([u.style,u.elements],function(m){var y=m[0],S=m[1];c.styleEnabled&&r.style().append(y),g(S,function(){r.startAnimationLoop(),c.ready=!0,Ct(u.ready)&&r.on("ready",u.ready);for(var E=0;E<s.length;E++){var x=s[E];r.on("ready",x)}i&&(i.readies=[]),r.emit("ready")},u.done)})},au=ts.prototype;Ue(au,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return zt;var r=this._private.container.ownerDocument;return r===void 0||r==null?zt:r.defaultView||zt},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!Zl(e)&&Zl(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Ue({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return hn(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),s=function(k){return r.getElementById(k.id())};if(rt(e)){if(r.startBatch(),e.elements){var l={},u=function(k,B){for(var R=[],P=[],L=0;L<k.length;L++){var A=k[L];if(!A.data.id){lt("cy.json() cannot handle elements without an ID attribute");continue}var z=""+A.data.id,O=r.getElementById(z);l[z]=!0,O.length!==0?P.push({ele:O,json:A}):(B&&(A.group=B),R.push(A))}r.add(R);for(var N=0;N<P.length;N++){var _=P[N],F=_.ele,K=_.json;F.json(K)}};if(ct(e.elements))u(e.elements);else for(var f=["nodes","edges"],c=0;c<f.length;c++){var v=f[c],h=e.elements[v];ct(h)&&u(h,v)}var g=r.collection();i.filter(function(T){return!l[T.id()]}).forEach(function(T){T.isParent()?g.merge(T):T.remove()}),g.forEach(function(T){return T.children().move({parent:null})}),g.forEach(function(T){return s(T).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],y=0;y<m.length;y++){var S=m[y];e[S]!=null&&r[S](e[S])}return r.endBatch(),this}else{var E=!!e,x={};E?x.elements=this.elements().map(function(T){return T.json()}):(x.elements={},i.forEach(function(T){var k=T.group();x.elements[k]||(x.elements[k]=[]),x.elements[k].push(T.json())})),this._private.styleEnabled&&(x.style=r.style().json()),x.data=hn(r.data());var C=n.options;return x.zoomingEnabled=n.zoomingEnabled,x.userZoomingEnabled=n.userZoomingEnabled,x.zoom=n.zoom,x.minZoom=n.minZoom,x.maxZoom=n.maxZoom,x.panningEnabled=n.panningEnabled,x.userPanningEnabled=n.userPanningEnabled,x.pan=hn(n.pan),x.boxSelectionEnabled=n.boxSelectionEnabled,x.renderer=hn(C.renderer),x.hideEdgesOnViewport=C.hideEdgesOnViewport,x.textureOnViewport=C.textureOnViewport,x.wheelSensitivity=C.wheelSensitivity,x.motionBlur=C.motionBlur,x.multiClickDebounceTime=C.multiClickDebounceTime,x}}});au.$id=au.getElementById;[hb,wb,Dy,Fc,Gl,Eb,_c,Xl,Cb,Ua,es].forEach(function(t){Ue(au,t)});var kb={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},Pb={maximal:!1,acyclic:!1},wi=function(e){return e.scratch("breadthfirst")},Xp=function(e,r){return e.scratch("breadthfirst",r)};function Ry(t){this.options=Ue({},kb,Pb,t)}Ry.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(ke){return ke.isChildless()}),i=r,s=t.directed,l=t.acyclic||t.maximal||t.maximalAdjustments>0,u=!!t.boundingBox,f=e.extent(),c=Rr(u?t.boundingBox:{x1:f.x1,y1:f.y1,w:f.w,h:f.h}),v;if(zr(t.roots))v=t.roots;else if(ct(t.roots)){for(var h=[],g=0;g<t.roots.length;g++){var m=t.roots[g],y=e.getElementById(m);h.push(y)}v=e.collection(h)}else if(Me(t.roots))v=e.$(t.roots);else if(s)v=n.roots();else{var S=r.components();v=e.collection();for(var E=function(Ce){var Ne=S[Ce],Ie=Ne.maxDegree(!1),Oe=Ne.filter(function($e){return $e.degree(!1)===Ie});v=v.add(Oe)},x=0;x<S.length;x++)E(x)}var C=[],T={},k=function(Ce,Ne){C[Ne]==null&&(C[Ne]=[]);var Ie=C[Ne].length;C[Ne].push(Ce),Xp(Ce,{index:Ie,depth:Ne})},B=function(Ce,Ne){var Ie=wi(Ce),Oe=Ie.depth,$e=Ie.index;C[Oe][$e]=null,Ce.isChildless()&&k(Ce,Ne)};i.bfs({roots:v,directed:t.directed,visit:function(Ce,Ne,Ie,Oe,$e){var Ge=Ce[0],Ye=Ge.id();Ge.isChildless()&&k(Ge,$e),T[Ye]=!0}});for(var R=[],P=0;P<n.length;P++){var L=n[P];T[L.id()]||R.push(L)}var A=function(Ce){for(var Ne=C[Ce],Ie=0;Ie<Ne.length;Ie++){var Oe=Ne[Ie];if(Oe==null){Ne.splice(Ie,1),Ie--;continue}Xp(Oe,{depth:Ce,index:Ie})}},z=function(Ce,Ne){for(var Ie=wi(Ce),Oe=Ce.incomers().filter(function(fe){return fe.isNode()&&r.has(fe)}),$e=-1,Ge=Ce.id(),Ye=0;Ye<Oe.length;Ye++){var ve=Oe[Ye],I=wi(ve);$e=Math.max($e,I.depth)}if(Ie.depth<=$e){if(!t.acyclic&&Ne[Ge])return null;var j=$e+1;return B(Ce,j),Ne[Ge]=j,!0}return!1};if(s&&l){var O=[],N={},_=function(Ce){return O.push(Ce)},F=function(){return O.shift()};for(n.forEach(function(ke){return O.push(ke)});O.length>0;){var K=F(),W=z(K,N);if(W)K.outgoers().filter(function(ke){return ke.isNode()&&r.has(ke)}).forEach(_);else if(W===null){lt("Detected double maximal shift for node `"+K.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var H=0;if(t.avoidOverlap)for(var $=0;$<n.length;$++){var G=n[$],X=G.layoutDimensions(t),M=X.w,V=X.h;H=Math.max(H,M,V)}var te={},ae=function(Ce){if(te[Ce.id()])return te[Ce.id()];for(var Ne=wi(Ce).depth,Ie=Ce.neighborhood(),Oe=0,$e=0,Ge=0;Ge<Ie.length;Ge++){var Ye=Ie[Ge];if(!(Ye.isEdge()||Ye.isParent()||!n.has(Ye))){var ve=wi(Ye);if(ve!=null){var I=ve.index,j=ve.depth;if(!(I==null||j==null)){var fe=C[j].length;j<Ne&&(Oe+=I/fe,$e++)}}}}return $e=Math.max(1,$e),Oe=Oe/$e,$e===0&&(Oe=0),te[Ce.id()]=Oe,Oe},se=function(Ce,Ne){var Ie=ae(Ce),Oe=ae(Ne),$e=Ie-Oe;return $e===0?Dg(Ce.id(),Ne.id()):$e};t.depthSort!==void 0&&(se=t.depthSort);for(var oe=C.length,ce=0;ce<oe;ce++)C[ce].sort(se),A(ce);for(var ue=[],Z=0;Z<R.length;Z++)ue.push(R[Z]);var Q=function(){for(var Ce=0;Ce<oe;Ce++)A(Ce)};ue.length&&(C.unshift(ue),oe=C.length,Q());for(var le=0,pe=0;pe<oe;pe++)le=Math.max(C[pe].length,le);var Se={x:c.x1+c.w/2,y:c.y1+c.h/2},Te=n.reduce(function(ke,Ce){return function(Ne){return{w:ke.w===-1?Ne.w:(ke.w+Ne.w)/2,h:ke.h===-1?Ne.h:(ke.h+Ne.h)/2}}(Ce.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Xe=Math.max(oe===1?0:u?(c.h-t.padding*2-Te.h)/(oe-1):(c.h-t.padding*2-Te.h)/(oe+1),H),nt=C.reduce(function(ke,Ce){return Math.max(ke,Ce.length)},0),je=function(Ce){var Ne=wi(Ce),Ie=Ne.depth,Oe=Ne.index;if(t.circle){var $e=Math.min(c.w/2/oe,c.h/2/oe);$e=Math.max($e,H);var Ge=$e*Ie+$e-(oe>0&&C[0].length<=3?$e/2:0),Ye=2*Math.PI/C[Ie].length*Oe;return Ie===0&&C[0].length===1&&(Ge=1),{x:Se.x+Ge*Math.cos(Ye),y:Se.y+Ge*Math.sin(Ye)}}else{var ve=C[Ie].length,I=Math.max(ve===1?0:u?(c.w-t.padding*2-Te.w)/((t.grid?nt:ve)-1):(c.w-t.padding*2-Te.w)/((t.grid?nt:ve)+1),H),j={x:Se.x+(Oe+1-(ve+1)/2)*I,y:Se.y+(Ie+1-(oe+1)/2)*Xe};return j}};return r.nodes().layoutPositions(this,t,je),this};var Db={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function By(t){this.options=Ue({},Db,t)}By.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,s=n.nodes().not(":parent");e.sort&&(s=s.sort(e.sort));for(var l=Rr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},f=e.sweep===void 0?2*Math.PI-2*Math.PI/s.length:e.sweep,c=f/Math.max(1,s.length-1),v,h=0,g=0;g<s.length;g++){var m=s[g],y=m.layoutDimensions(e),S=y.w,E=y.h;h=Math.max(h,S,E)}if(xe(e.radius)?v=e.radius:s.length<=1?v=0:v=Math.min(l.h,l.w)/2-h,s.length>1&&e.avoidOverlap){h*=1.75;var x=Math.cos(c)-Math.cos(0),C=Math.sin(c)-Math.sin(0),T=Math.sqrt(h*h/(x*x+C*C));v=Math.max(T,v)}var k=function(R,P){var L=e.startAngle+P*c*(i?1:-1),A=v*Math.cos(L),z=v*Math.sin(L),O={x:u.x+A,y:u.y+z};return O};return n.nodes().layoutPositions(this,e,k),this};var Rb={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Ay(t){this.options=Ue({},Rb,t)}Ay.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,s=i.nodes().not(":parent"),l=Rr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},f=[],c=0,v=0;v<s.length;v++){var h=s[v],g=void 0;g=e.concentric(h),f.push({value:g,node:h}),h._private.scratch.concentric=g}s.updateStyle();for(var m=0;m<s.length;m++){var y=s[m],S=y.layoutDimensions(e);c=Math.max(c,S.w,S.h)}f.sort(function(Te,Xe){return Xe.value-Te.value});for(var E=e.levelWidth(s),x=[[]],C=x[0],T=0;T<f.length;T++){var k=f[T];if(C.length>0){var B=Math.abs(C[0].value-k.value);B>=E&&(C=[],x.push(C))}C.push(k)}var R=c+e.minNodeSpacing;if(!e.avoidOverlap){var P=x.length>0&&x[0].length>1,L=Math.min(l.w,l.h)/2-R,A=L/(x.length+P?1:0);R=Math.min(R,A)}for(var z=0,O=0;O<x.length;O++){var N=x[O],_=e.sweep===void 0?2*Math.PI-2*Math.PI/N.length:e.sweep,F=N.dTheta=_/Math.max(1,N.length-1);if(N.length>1&&e.avoidOverlap){var K=Math.cos(F)-Math.cos(0),W=Math.sin(F)-Math.sin(0),H=Math.sqrt(R*R/(K*K+W*W));z=Math.max(H,z)}N.r=z,z+=R}if(e.equidistant){for(var $=0,G=0,X=0;X<x.length;X++){var M=x[X],V=M.r-G;$=Math.max($,V)}G=0;for(var te=0;te<x.length;te++){var ae=x[te];te===0&&(G=ae.r),ae.r=G,G+=$}}for(var se={},oe=0;oe<x.length;oe++)for(var ce=x[oe],ue=ce.dTheta,Z=ce.r,Q=0;Q<ce.length;Q++){var le=ce[Q],pe=e.startAngle+(r?1:-1)*ue*Q,Se={x:u.x+Z*Math.cos(pe),y:u.y+Z*Math.sin(pe)};se[le.node.id()]=Se}return i.nodes().layoutPositions(this,e,function(Te){var Xe=Te.id();return se[Xe]}),this};var Tc,Bb={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function bu(t){this.options=Ue({},Bb,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var s=i.source().data("id"),l=i.target().data("id"),u=e.some(function(c){return c.data("id")===s}),f=e.some(function(c){return c.data("id")===l});return!u||!f});this.options.eles=this.options.eles.not(n)}bu.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Tc=!0:Tc=!1;var n=Ab(e,r,t);Tc&&Nb(n),t.randomize&&Ib(n);var i=Bn(),s=function(){Ob(n,e,t),t.fit===!0&&e.fit(t.padding)},l=function(g){return!(r.stopped||g>=t.numIter||(zb(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},u=function(){if(t.animate===!0||t.animate===!1)s(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var g=t.eles.nodes(),m=Ly(n,t,g);g.layoutPositions(r,t,m)}},f=0,c=!0;if(t.animate===!0){var v=function h(){for(var g=0;c&&g<t.refresh;)c=l(f),f++,g++;if(!c)Qp(n,t),u();else{var m=Bn();m-i>=t.animationThreshold&&s(),jl(h)}};v()}else{for(;c;)c=l(f),f++;Qp(n,t),u()}return this};bu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};bu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ab=function(e,r,n){for(var i=n.eles.edges(),s=n.eles.nodes(),l=Rr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:s.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:l.w,clientHeight:l.h,boundingBox:l},f=n.eles.components(),c={},v=0;v<f.length;v++)for(var h=f[v],g=0;g<h.length;g++){var m=h[g];c[m.id()]=v}for(var v=0;v<u.nodeSize;v++){var y=s[v],S=y.layoutDimensions(n),E={};E.isLocked=y.locked(),E.id=y.data("id"),E.parentId=y.data("parent"),E.cmptId=c[y.id()],E.children=[],E.positionX=y.position("x"),E.positionY=y.position("y"),E.offsetX=0,E.offsetY=0,E.height=S.w,E.width=S.h,E.maxX=E.positionX+E.width/2,E.minX=E.positionX-E.width/2,E.maxY=E.positionY+E.height/2,E.minY=E.positionY-E.height/2,E.padLeft=parseFloat(y.style("padding")),E.padRight=parseFloat(y.style("padding")),E.padTop=parseFloat(y.style("padding")),E.padBottom=parseFloat(y.style("padding")),E.nodeRepulsion=Ct(n.nodeRepulsion)?n.nodeRepulsion(y):n.nodeRepulsion,u.layoutNodes.push(E),u.idToIndex[E.id]=v}for(var x=[],C=0,T=-1,k=[],v=0;v<u.nodeSize;v++){var y=u.layoutNodes[v],B=y.parentId;B!=null?u.layoutNodes[u.idToIndex[B]].children.push(y.id):(x[++T]=y.id,k.push(y.id))}for(u.graphSet.push(k);C<=T;){var R=x[C++],P=u.idToIndex[R],m=u.layoutNodes[P],L=m.children;if(L.length>0){u.graphSet.push(L);for(var v=0;v<L.length;v++)x[++T]=L[v]}}for(var v=0;v<u.graphSet.length;v++)for(var A=u.graphSet[v],g=0;g<A.length;g++){var z=u.idToIndex[A[g]];u.indexToGraph[z]=v}for(var v=0;v<u.edgeSize;v++){var O=i[v],N={};N.id=O.data("id"),N.sourceId=O.data("source"),N.targetId=O.data("target");var _=Ct(n.idealEdgeLength)?n.idealEdgeLength(O):n.idealEdgeLength,F=Ct(n.edgeElasticity)?n.edgeElasticity(O):n.edgeElasticity,K=u.idToIndex[N.sourceId],W=u.idToIndex[N.targetId],H=u.indexToGraph[K],$=u.indexToGraph[W];if(H!=$){for(var G=Lb(N.sourceId,N.targetId,u),X=u.graphSet[G],M=0,E=u.layoutNodes[K];X.indexOf(E.id)===-1;)E=u.layoutNodes[u.idToIndex[E.parentId]],M++;for(E=u.layoutNodes[W];X.indexOf(E.id)===-1;)E=u.layoutNodes[u.idToIndex[E.parentId]],M++;_*=M*n.nestingFactor}N.idealLength=_,N.elasticity=F,u.layoutEdges.push(N)}return u},Lb=function(e,r,n){var i=Mb(e,r,0,n);return 2>i.count?0:i.graph},Mb=function t(e,r,n,i){var s=i.graphSet[n];if(-1<s.indexOf(e)&&-1<s.indexOf(r))return{count:2,graph:n};for(var l=0,u=0;u<s.length;u++){var f=s[u],c=i.idToIndex[f],v=i.layoutNodes[c].children;if(v.length!==0){var h=i.indexToGraph[i.idToIndex[v[0]]],g=t(e,r,h,i);if(g.count!==0)if(g.count===1){if(l++,l===2)break}else return g}}return{count:l,graph:n}},Nb,Ib=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,s=0;s<e.nodeSize;s++){var l=e.layoutNodes[s];l.children.length===0&&!l.isLocked&&(l.positionX=Math.random()*n,l.positionY=Math.random()*i)}},Ly=function(e,r,n){var i=e.boundingBox,s={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(l){var u=e.layoutNodes[e.idToIndex[l.data("id")]];s.x1=Math.min(s.x1,u.positionX),s.x2=Math.max(s.x2,u.positionX),s.y1=Math.min(s.y1,u.positionY),s.y2=Math.max(s.y2,u.positionY)}),s.w=s.x2-s.x1,s.h=s.y2-s.y1),function(l,u){var f=e.layoutNodes[e.idToIndex[l.data("id")]];if(r.boundingBox){var c=(f.positionX-s.x1)/s.w,v=(f.positionY-s.y1)/s.h;return{x:i.x1+c*i.w,y:i.y1+v*i.h}}else return{x:f.positionX,y:f.positionY}}},Ob=function(e,r,n){var i=n.layout,s=n.eles.nodes(),l=Ly(e,n,s);s.positions(l),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},zb=function(e,r,n){Fb(e,r),Ub(e),$b(e,r),Wb(e),Hb(e)},Fb=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],s=i.length,l=0;l<s;l++)for(var u=e.layoutNodes[e.idToIndex[i[l]]],f=l+1;f<s;f++){var c=e.layoutNodes[e.idToIndex[i[f]]];_b(u,c,e,r)}},Yp=function(e){return-1+2*e*Math.random()},_b=function(e,r,n,i){var s=e.cmptId,l=r.cmptId;if(!(s!==l&&!n.isCompound)){var u=r.positionX-e.positionX,f=r.positionY-e.positionY,c=1;u===0&&f===0&&(u=Yp(c),f=Yp(c));var v=Vb(e,r,u,f);if(v>0)var h=i.nodeOverlap*v,g=Math.sqrt(u*u+f*f),m=h*u/g,y=h*f/g;else var S=iu(e,u,f),E=iu(r,-1*u,-1*f),x=E.x-S.x,C=E.y-S.y,T=x*x+C*C,g=Math.sqrt(T),h=(e.nodeRepulsion+r.nodeRepulsion)/T,m=h*x/g,y=h*C/g;e.isLocked||(e.offsetX-=m,e.offsetY-=y),r.isLocked||(r.offsetX+=m,r.offsetY+=y)}},Vb=function(e,r,n,i){if(n>0)var s=e.maxX-r.minX;else var s=r.maxX-e.minX;if(i>0)var l=e.maxY-r.minY;else var l=r.maxY-e.minY;return s>=0&&l>=0?Math.sqrt(s*s+l*l):0},iu=function(e,r,n){var i=e.positionX,s=e.positionY,l=e.height||1,u=e.width||1,f=n/r,c=l/u,v={};return r===0&&0<n||r===0&&0>n?(v.x=i,v.y=s+l/2,v):0<r&&-1*c<=f&&f<=c?(v.x=i+u/2,v.y=s+u*n/2/r,v):0>r&&-1*c<=f&&f<=c?(v.x=i-u/2,v.y=s-u*n/2/r,v):0<n&&(f<=-1*c||f>=c)?(v.x=i+l*r/2/n,v.y=s+l/2,v):(0>n&&(f<=-1*c||f>=c)&&(v.x=i-l*r/2/n,v.y=s-l/2),v)},Ub=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],s=e.idToIndex[i.sourceId],l=e.layoutNodes[s],u=e.idToIndex[i.targetId],f=e.layoutNodes[u],c=f.positionX-l.positionX,v=f.positionY-l.positionY;if(!(c===0&&v===0)){var h=iu(l,c,v),g=iu(f,-1*c,-1*v),m=g.x-h.x,y=g.y-h.y,S=Math.sqrt(m*m+y*y),E=Math.pow(i.idealLength-S,2)/i.elasticity;if(S!==0)var x=E*m/S,C=E*y/S;else var x=0,C=0;l.isLocked||(l.offsetX+=x,l.offsetY+=C),f.isLocked||(f.offsetX-=x,f.offsetY-=C)}}},$b=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var s=e.graphSet[i],l=s.length;if(i===0)var u=e.clientHeight/2,f=e.clientWidth/2;else var c=e.layoutNodes[e.idToIndex[s[0]]],v=e.layoutNodes[e.idToIndex[c.parentId]],u=v.positionX,f=v.positionY;for(var h=0;h<l;h++){var g=e.layoutNodes[e.idToIndex[s[h]]];if(!g.isLocked){var m=u-g.positionX,y=f-g.positionY,S=Math.sqrt(m*m+y*y);if(S>n){var E=r.gravity*m/S,x=r.gravity*y/S;g.offsetX+=E,g.offsetY+=x}}}}},Wb=function(e,r){var n=[],i=0,s=-1;for(n.push.apply(n,e.graphSet[0]),s+=e.graphSet[0].length;i<=s;){var l=n[i++],u=e.idToIndex[l],f=e.layoutNodes[u],c=f.children;if(0<c.length&&!f.isLocked){for(var v=f.offsetX,h=f.offsetY,g=0;g<c.length;g++){var m=e.layoutNodes[e.idToIndex[c[g]]];m.offsetX+=v,m.offsetY+=h,n[++s]=c[g]}f.offsetX=0,f.offsetY=0}}},Hb=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var s=Kb(i.offsetX,i.offsetY,e.temperature);i.positionX+=s.x,i.positionY+=s.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,qb(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Kb=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var s={x:n*e/i,y:n*r/i};else var s={x:e,y:r};return s},qb=function t(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],s=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,s=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,s=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,s=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,s=!0),s)return t(i,r)}},Qp=function(e,r){for(var n=e.layoutNodes,i=[],s=0;s<n.length;s++){var l=n[s],u=l.cmptId,f=i[u]=i[u]||[];f.push(l)}for(var c=0,s=0;s<i.length;s++){var v=i[s];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var h=0;h<v.length;h++){var g=v[h];v.x1=Math.min(v.x1,g.positionX-g.width/2),v.x2=Math.max(v.x2,g.positionX+g.width/2),v.y1=Math.min(v.y1,g.positionY-g.height/2),v.y2=Math.max(v.y2,g.positionY+g.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,c+=v.w*v.h}}i.sort(function(C,T){return T.w*T.h-C.w*C.h});for(var m=0,y=0,S=0,E=0,x=Math.sqrt(c)*e.clientWidth/e.clientHeight,s=0;s<i.length;s++){var v=i[s];if(v){for(var h=0;h<v.length;h++){var g=v[h];g.isLocked||(g.positionX+=m-v.x1,g.positionY+=y-v.y1)}m+=v.w+r.componentSpacing,S+=v.w+r.componentSpacing,E=Math.max(E,v.h),S>x&&(y+=E+r.componentSpacing,m=0,S=0,E=0)}}},Gb={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function My(t){this.options=Ue({},Gb,t)}My.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var s=Rr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(s.h===0||s.w===0)n.nodes().layoutPositions(this,e,function(te){return{x:s.x1,y:s.y1}});else{var l=i.size(),u=Math.sqrt(l*s.h/s.w),f=Math.round(u),c=Math.round(s.w/s.h*u),v=function(ae){if(ae==null)return Math.min(f,c);var se=Math.min(f,c);se==f?f=ae:c=ae},h=function(ae){if(ae==null)return Math.max(f,c);var se=Math.max(f,c);se==f?f=ae:c=ae},g=e.rows,m=e.cols!=null?e.cols:e.columns;if(g!=null&&m!=null)f=g,c=m;else if(g!=null&&m==null)f=g,c=Math.ceil(l/f);else if(g==null&&m!=null)c=m,f=Math.ceil(l/c);else if(c*f>l){var y=v(),S=h();(y-1)*S>=l?v(y-1):(S-1)*y>=l&&h(S-1)}else for(;c*f<l;){var E=v(),x=h();(x+1)*E>=l?h(x+1):v(E+1)}var C=s.w/c,T=s.h/f;if(e.condense&&(C=0,T=0),e.avoidOverlap)for(var k=0;k<i.length;k++){var B=i[k],R=B._private.position;(R.x==null||R.y==null)&&(R.x=0,R.y=0);var P=B.layoutDimensions(e),L=e.avoidOverlapPadding,A=P.w+L,z=P.h+L;C=Math.max(C,A),T=Math.max(T,z)}for(var O={},N=function(ae,se){return!!O["c-"+ae+"-"+se]},_=function(ae,se){O["c-"+ae+"-"+se]=!0},F=0,K=0,W=function(){K++,K>=c&&(K=0,F++)},H={},$=0;$<i.length;$++){var G=i[$],X=e.position(G);if(X&&(X.row!==void 0||X.col!==void 0)){var M={row:X.row,col:X.col};if(M.col===void 0)for(M.col=0;N(M.row,M.col);)M.col++;else if(M.row===void 0)for(M.row=0;N(M.row,M.col);)M.row++;H[G.id()]=M,_(M.row,M.col)}}var V=function(ae,se){var oe,ce;if(ae.locked()||ae.isParent())return!1;var ue=H[ae.id()];if(ue)oe=ue.col*C+C/2+s.x1,ce=ue.row*T+T/2+s.y1;else{for(;N(F,K);)W();oe=K*C+C/2+s.x1,ce=F*T+T/2+s.y1,_(F,K),W()}return{x:oe,y:ce}};i.layoutPositions(this,e,V)}return this};var Xb={ready:function(){},stop:function(){}};function vd(t){this.options=Ue({},Xb,t)}vd.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};vd.prototype.stop=function(){return this};var Yb={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Ny(t){this.options=Ue({},Yb,t)}Ny.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Ct(t.positions);function i(s){if(t.positions==null)return tx(s.position());if(n)return t.positions(s);var l=t.positions[s._private.data.id];return l??null}return r.layoutPositions(this,t,function(s,l){var u=i(s);return s.locked()||u==null?!1:u}),this};var Qb={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Iy(t){this.options=Ue({},Qb,t)}Iy.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=Rr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(l,u){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var Zb=[{name:"breadthfirst",impl:Ry},{name:"circle",impl:By},{name:"concentric",impl:Ay},{name:"cose",impl:bu},{name:"grid",impl:My},{name:"null",impl:vd},{name:"preset",impl:Ny},{name:"random",impl:Iy}];function Oy(t){this.options=t,this.notifications=0}var Zp=function(){},jp=function(){throw new Error("A headless instance can not render images")};Oy.prototype={recalculateRenderedStyle:Zp,notify:function(){this.notifications++},init:Zp,isHeadless:function(){return!0},png:jp,jpg:jp};var hd={};hd.arrowShapeWidth=.3;hd.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(c,v,h,g,m,y,S){var E=m.x-h/2-S,x=m.x+h/2+S,C=m.y-h/2-S,T=m.y+h/2+S,k=E<=c&&c<=x&&C<=v&&v<=T;return k},n=function(c,v,h,g,m){var y=c*Math.cos(g)-v*Math.sin(g),S=c*Math.sin(g)+v*Math.cos(g),E=y*h,x=S*h,C=E+m.x,T=x+m.y;return{x:C,y:T}},i=function(c,v,h,g){for(var m=[],y=0;y<c.length;y+=2){var S=c[y],E=c[y+1];m.push(n(S,E,v,h,g))}return m},s=function(c){for(var v=[],h=0;h<c.length;h++){var g=c[h];v.push(g.x,g.y)}return v},l=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},u=function(c,v){Me(v)&&(v=t[v]),t[c]=Ue({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(g,m,y,S,E,x){var C=s(i(this.points,y+2*x,S,E)),T=Dr(g,m,C);return T},roughCollide:r,draw:function(g,m,y,S){var E=i(this.points,m,y,S);e.arrowShapeImpl("polygon")(g,E)},spacing:function(g){return 0},gap:l},v)};u("none",{collide:Jl,roughCollide:Jl,draw:Jc,spacing:lp,gap:lp}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(c,v,h,g,m){var y=i(this.points,v,h,g),S=this.controlPoint,E=n(S[0],S[1],v,h,g);e.arrowShapeImpl(this.name)(c,y,E)},gap:function(c){return l(c)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,v,h,g,m,y,S){var E=s(i(this.points,h+2*S,g,m)),x=s(i(this.pointsTee,h+2*S,g,m)),C=Dr(c,v,E)||Dr(c,v,x);return C},draw:function(c,v,h,g,m){var y=i(this.points,v,h,g),S=i(this.pointsTee,v,h,g);e.arrowShapeImpl(this.name)(c,y,S)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,v,h,g,m,y,S){var E=m,x=Math.pow(E.x-c,2)+Math.pow(E.y-v,2)<=Math.pow((h+2*S)*this.radius,2),C=s(i(this.points,h+2*S,g,m));return Dr(c,v,C)||x},draw:function(c,v,h,g,m){var y=i(this.pointsTr,v,h,g);e.arrowShapeImpl(this.name)(c,y,g.x,g.y,this.radius*v)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,v){var h=this.baseCrossLinePts.slice(),g=v/c,m=3,y=5;return h[m]=h[m]-g,h[y]=h[y]-g,h},collide:function(c,v,h,g,m,y,S){var E=s(i(this.points,h+2*S,g,m)),x=s(i(this.crossLinePts(h,y),h+2*S,g,m)),C=Dr(c,v,E)||Dr(c,v,x);return C},draw:function(c,v,h,g,m){var y=i(this.points,v,h,g),S=i(this.crossLinePts(v,m),v,h,g);e.arrowShapeImpl(this.name)(c,y,S)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return l(c)*.525}}),u("circle",{radius:.15,collide:function(c,v,h,g,m,y,S){var E=m,x=Math.pow(E.x-c,2)+Math.pow(E.y-v,2)<=Math.pow((h+2*S)*this.radius,2);return x},draw:function(c,v,h,g,m){e.arrowShapeImpl(this.name)(c,g.x,g.y,this.radius*v)},spacing:function(c){return e.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var Ha={};Ha.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],s=n[1],l=n[4],u=r.pan(),f=r.zoom(),c=((t-i)/l-u.x)/f,v=((e-s)/l-u.y)/f;return[c,v]};Ha.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(x){return parseFloat(r.getPropertyValue(x))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},s={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},l=t.clientWidth,u=t.clientHeight,f=i.left+i.right,c=i.top+i.bottom,v=s.left+s.right,h=e.width/(l+v),g=l-f,m=u-c,y=e.left+i.left+s.left,S=e.top+i.top+s.top;return this.containerBB=[y,S,g,m,h]};Ha.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ha.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Ha.findNearestElements=function(t,e,r,n){var i=this,s=this,l=s.getCachedZSortedEles(),u=[],f=s.cy.zoom(),c=s.cy.hasCompoundNodes(),v=(n?24:8)/f,h=(n?8:2)/f,g=(n?8:2)/f,m=1/0,y,S;r&&(l=l.interactive);function E(P,L){if(P.isNode()){if(S)return;S=P,u.push(P)}if(P.isEdge()&&(L==null||L<m))if(y){if(y.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value&&y.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value){for(var A=0;A<u.length;A++)if(u[A].isEdge()){u[A]=P,y=P,m=L??m;break}}}else u.push(P),y=P,m=L??m}function x(P){var L=P.outerWidth()+2*h,A=P.outerHeight()+2*h,z=L/2,O=A/2,N=P.position(),_=P.pstyle("corner-radius").value==="auto"?"auto":P.pstyle("corner-radius").pfValue,F=P._private.rscratch;if(N.x-z<=t&&t<=N.x+z&&N.y-O<=e&&e<=N.y+O){var K=s.nodeShapes[i.getNodeShape(P)];if(K.checkPoint(t,e,0,L,A,N.x,N.y,_,F))return E(P,0),!0}}function C(P){var L=P._private,A=L.rscratch,z=P.pstyle("width").pfValue,O=P.pstyle("arrow-scale").value,N=z/2+v,_=N*N,F=N*2,$=L.source,G=L.target,K;if(A.edgeType==="segments"||A.edgeType==="straight"||A.edgeType==="haystack"){for(var W=A.allpts,H=0;H+3<W.length;H+=2)if(hx(t,e,W[H],W[H+1],W[H+2],W[H+3],F)&&_>(K=wx(t,e,W[H],W[H+1],W[H+2],W[H+3])))return E(P,K),!0}else if(A.edgeType==="bezier"||A.edgeType==="multibezier"||A.edgeType==="self"||A.edgeType==="compound"){for(var W=A.allpts,H=0;H+5<A.allpts.length;H+=4)if(px(t,e,W[H],W[H+1],W[H+2],W[H+3],W[H+4],W[H+5],F)&&_>(K=mx(t,e,W[H],W[H+1],W[H+2],W[H+3],W[H+4],W[H+5])))return E(P,K),!0}for(var $=$||L.source,G=G||L.target,X=i.getArrowWidth(z,O),M=[{name:"source",x:A.arrowStartX,y:A.arrowStartY,angle:A.srcArrowAngle},{name:"target",x:A.arrowEndX,y:A.arrowEndY,angle:A.tgtArrowAngle},{name:"mid-source",x:A.midX,y:A.midY,angle:A.midsrcArrowAngle},{name:"mid-target",x:A.midX,y:A.midY,angle:A.midtgtArrowAngle}],H=0;H<M.length;H++){var V=M[H],te=s.arrowShapes[P.pstyle(V.name+"-arrow-shape").value],ae=P.pstyle("width").pfValue;if(te.roughCollide(t,e,X,V.angle,{x:V.x,y:V.y},ae,v)&&te.collide(t,e,X,V.angle,{x:V.x,y:V.y},ae,v))return E(P),!0}c&&u.length>0&&(x($),x(G))}function T(P,L,A){return on(P,L,A)}function k(P,L){var A=P._private,z=g,O;L?O=L+"-":O="",P.boundingBox();var N=A.labelBounds[L||"main"],_=P.pstyle(O+"label").value,F=P.pstyle("text-events").strValue==="yes";if(!(!F||!_)){var K=T(A.rscratch,"labelX",L),W=T(A.rscratch,"labelY",L),H=T(A.rscratch,"labelAngle",L),$=P.pstyle(O+"text-margin-x").pfValue,G=P.pstyle(O+"text-margin-y").pfValue,X=N.x1-z-$,M=N.x2+z-$,V=N.y1-z-G,te=N.y2+z-G;if(H){var ae=Math.cos(H),se=Math.sin(H),oe=function(Se,Te){return Se=Se-K,Te=Te-W,{x:Se*ae-Te*se+K,y:Se*se+Te*ae+W}},ce=oe(X,V),ue=oe(X,te),Z=oe(M,V),Q=oe(M,te),le=[ce.x+$,ce.y+G,Z.x+$,Z.y+G,Q.x+$,Q.y+G,ue.x+$,ue.y+G];if(Dr(t,e,le))return E(P),!0}else if(Ai(N,t,e))return E(P),!0}}for(var B=l.length-1;B>=0;B--){var R=l[B];R.isNode()?x(R)||k(R):C(R)||k(R)||k(R,"source")||k(R,"target")}return u};Ha.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,s=[],l=Math.min(t,r),u=Math.max(t,r),f=Math.min(e,n),c=Math.max(e,n);t=l,r=u,e=f,n=c;for(var v=Rr({x1:t,y1:e,x2:r,y2:n}),h=0;h<i.length;h++){var g=i[h];if(g.isNode()){var m=g,y=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});rd(v,y)&&!Kg(y,v)&&s.push(m)}else{var S=g,E=S._private,x=E.rscratch;if(x.startX!=null&&x.startY!=null&&!Ai(v,x.startX,x.startY)||x.endX!=null&&x.endY!=null&&!Ai(v,x.endX,x.endY))continue;if(x.edgeType==="bezier"||x.edgeType==="multibezier"||x.edgeType==="self"||x.edgeType==="compound"||x.edgeType==="segments"||x.edgeType==="haystack"){for(var C=E.rstyle.bezierPts||E.rstyle.linePts||E.rstyle.haystackPts,T=!0,k=0;k<C.length;k++)if(!vx(v,C[k])){T=!1;break}T&&s.push(S)}else(x.edgeType==="haystack"||x.edgeType==="straight")&&s.push(S)}}return s};var ou={};ou.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",s=e.edgeType==="segments",l=e.edgeType==="compound",u=e.edgeType==="self",f,c,v,h,g,m,x,C;if(r?(v=e.haystackPts[0],h=e.haystackPts[1],g=e.haystackPts[2],m=e.haystackPts[3]):(v=e.arrowStartX,h=e.arrowStartY,g=e.arrowEndX,m=e.arrowEndY),x=e.midX,C=e.midY,s)f=v-e.segpts[0],c=h-e.segpts[1];else if(i||l||u||n){var y=e.allpts,S=qt(y[0],y[2],y[4],.1),E=qt(y[1],y[3],y[5],.1);f=v-S,c=h-E}else f=v-x,c=h-C;e.srcArrowAngle=Tl(f,c);var x=e.midX,C=e.midY;if(r&&(x=(v+g)/2,C=(h+m)/2),f=g-v,c=m-h,s){var y=e.allpts;if(y.length/2%2===0){var T=y.length/2,k=T-2;f=y[T]-y[k],c=y[T+1]-y[k+1]}else if(e.isRound)f=e.midVector[1],c=-e.midVector[0];else{var T=y.length/2-1,k=T-2;f=y[T]-y[k],c=y[T+1]-y[k+1]}}else if(i||l||u){var y=e.allpts,B=e.ctrlpts,R,P,L,A;if(B.length/2%2===0){var z=y.length/2-1,O=z+2,N=O+2;R=qt(y[z],y[O],y[N],0),P=qt(y[z+1],y[O+1],y[N+1],0),L=qt(y[z],y[O],y[N],1e-4),A=qt(y[z+1],y[O+1],y[N+1],1e-4)}else{var O=y.length/2-1,z=O-2,N=O+2;R=qt(y[z],y[O],y[N],.4999),P=qt(y[z+1],y[O+1],y[N+1],.4999),L=qt(y[z],y[O],y[N],.5),A=qt(y[z+1],y[O+1],y[N+1],.5)}f=L-R,c=A-P}if(e.midtgtArrowAngle=Tl(f,c),e.midDispX=f,e.midDispY=c,f*=-1,c*=-1,s){var y=e.allpts;if(y.length/2%2!==0){if(!e.isRound){var T=y.length/2-1,_=T+2;f=-(y[_]-y[T]),c=-(y[_+1]-y[T+1])}}}if(e.midsrcArrowAngle=Tl(f,c),s)f=g-e.segpts[e.segpts.length-2],c=m-e.segpts[e.segpts.length-1];else if(i||l||u||n){var y=e.allpts,F=y.length,S=qt(y[F-6],y[F-4],y[F-2],.9),E=qt(y[F-5],y[F-3],y[F-1],.9);f=g-S,c=m-E}else f=g-x,c=m-C;e.tgtArrowAngle=Tl(f,c)};ou.getArrowWidth=ou.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Vc,Uc,vn={},qr={},Jp,eg,Ia,Yl,Dn,Aa,Na,dn,xi,Nl,zy,Fy,$c,Wc,tg,rg=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},jb=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},Jb=function(e,r,n,i,s){if(e!==tg?rg(r,e,vn):jb(qr,vn),rg(r,n,qr),Jp=vn.nx*qr.ny-vn.ny*qr.nx,eg=vn.nx*qr.nx-vn.ny*-qr.ny,Dn=Math.asin(Math.max(-1,Math.min(1,Jp))),Math.abs(Dn)<1e-6){Vc=r.x,Uc=r.y,Na=xi=0;return}Ia=1,Yl=!1,eg<0?Dn<0?Dn=Math.PI+Dn:(Dn=Math.PI-Dn,Ia=-1,Yl=!0):Dn>0&&(Ia=-1,Yl=!0),r.radius!==void 0?xi=r.radius:xi=i,Aa=Dn/2,Nl=Math.min(vn.len/2,qr.len/2),s?(dn=Math.abs(Math.cos(Aa)*xi/Math.sin(Aa)),dn>Nl?(dn=Nl,Na=Math.abs(dn*Math.sin(Aa)/Math.cos(Aa))):Na=xi):(dn=Math.min(Nl,xi),Na=Math.abs(dn*Math.sin(Aa)/Math.cos(Aa))),$c=r.x+qr.nx*dn,Wc=r.y+qr.ny*dn,Vc=$c-qr.ny*Na*Ia,Uc=Wc+qr.nx*Na*Ia,zy=r.x+vn.nx*dn,Fy=r.y+vn.ny*dn,tg=r};function _y(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function pd(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Jb(t,e,r,n,i),{cx:Vc,cy:Uc,radius:Na,startX:zy,startY:Fy,stopX:$c,stopY:Wc,startAngle:vn.ang+Math.PI/2*Ia,endAngle:qr.ang-Math.PI/2*Ia,counterClockwise:Yl})}var pr={};pr.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,s,l=t.pstyle("source-endpoint"),u=t.pstyle("target-endpoint"),f=l.units!=null&&u.units!=null,c=function(B,R,P,L){var A=L-R,z=P-B,O=Math.sqrt(z*z+A*A);return{x:-A/O,y:z/O}},v=t.pstyle("edge-distances").value;switch(v){case"node-position":s=r;break;case"intersection":s=n;break;case"endpoints":{if(f){var h=this.manualEndptToPx(t.source()[0],l),g=Gt(h,2),m=g[0],y=g[1],S=this.manualEndptToPx(t.target()[0],u),E=Gt(S,2),x=E[0],C=E[1],T={x1:m,y1:y,x2:x,y2:C};i=c(m,y,x,C),s=T}else lt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),s=n;break}}return{midptPts:s,vectorNormInverse:i}};pr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var s=Math.random()*2*Math.PI;i.source={x:Math.cos(s),y:Math.sin(s)},s=Math.random()*2*Math.PI,i.target={x:Math.cos(s),y:Math.sin(s)}}var l=n.source,u=n.target,f=l.position(),c=u.position(),v=l.width(),h=u.width(),g=l.height(),m=u.height(),y=r.pstyle("haystack-radius").value,S=y/2;i.haystackPts=i.allpts=[i.source.x*v*S+f.x,i.source.y*g*S+f.y,i.target.x*h*S+c.x,i.target.y*m*S+c.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};pr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),i=t.pstyle("segment-distances"),s=t.pstyle("segment-radii"),l=t.pstyle("radius-type"),u=Math.min(n.pfValue.length,i.pfValue.length),f=s.pfValue[s.pfValue.length-1],c=l.pfValue[l.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var v=0;v<u;v++){var h=n.pfValue[v],g=i.pfValue[v],m=1-h,y=h,S=this.findMidptPtsEtc(t,e),E=S.midptPts,x=S.vectorNormInverse,C={x:E.x1*m+E.x2*y,y:E.y1*m+E.y2*y};r.segpts.push(C.x+x.x*g,C.y+x.y*g),r.radii.push(s.pfValue[v]!==void 0?s.pfValue[v]:f),r.isArcRadius.push((l.pfValue[v]!==void 0?l.pfValue[v]:c)==="arc-radius")}};pr.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,s=e.dirCounts,l=e.srcPos,u=t.pstyle("control-point-distances"),f=u?u.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,v=t.pstyle("loop-sweep").pfValue,h=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var g=r,m=h;n&&(g=0,m=f);var y=c-Math.PI/2,S=y-v/2,E=y+v/2,x=c+"_"+v;g=s[x]===void 0?s[x]=0:++s[x],i.ctrlpts=[l.x+Math.cos(S)*1.4*m*(g/3+1),l.y+Math.sin(S)*1.4*m*(g/3+1),l.x+Math.cos(E)*1.4*m*(g/3+1),l.y+Math.sin(E)*1.4*m*(g/3+1)]};pr.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var s=e.srcPos,l=e.tgtPos,u=e.srcW,f=e.srcH,c=e.tgtW,v=e.tgtH,h=t.pstyle("control-point-step-size").pfValue,g=t.pstyle("control-point-distances"),m=g?g.pfValue[0]:void 0,y=r,S=h;n&&(y=0,S=m);var E=50,x={x:s.x-u/2,y:s.y-f/2},C={x:l.x-c/2,y:l.y-v/2},T={x:Math.min(x.x,C.x),y:Math.min(x.y,C.y)},k=.5,B=Math.max(k,Math.log(u*.01)),R=Math.max(k,Math.log(c*.01));i.ctrlpts=[T.x,T.y-(1+Math.pow(E,1.12)/100)*S*(y/3+1)*B,T.x-(1+Math.pow(E,1.12)/100)*S*(y/3+1)*R,T.y]};pr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};pr.findBezierPoints=function(t,e,r,n,i){var s=t._private.rscratch,l=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),f=t.pstyle("control-point-weights"),c=u&&f?Math.min(u.value.length,f.value.length):1,v=u?u.pfValue[0]:void 0,h=f.value[0],g=n;s.edgeType=g?"multibezier":"bezier",s.ctrlpts=[];for(var m=0;m<c;m++){var y=(.5-e.eles.length/2+r)*l*(i?-1:1),S=void 0,E=Wg(y);g&&(v=u?u.pfValue[m]:l,h=f.value[m]),n?S=v:S=v!==void 0?E*v:void 0;var x=S!==void 0?S:y,C=1-h,T=h,k=this.findMidptPtsEtc(t,e),B=k.midptPts,R=k.vectorNormInverse,P={x:B.x1*C+B.x2*T,y:B.y1*C+B.y2*T};s.ctrlpts.push(P.x+R.x*x,P.y+R.y*x)}};pr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",s="leftward",l="rightward",u="downward",f="upward",c="auto",v=e.posPts,h=e.srcW,g=e.srcH,m=e.tgtW,y=e.tgtH,S=t.pstyle("edge-distances").value,E=S!=="node-position",x=t.pstyle("taxi-direction").value,C=x,T=t.pstyle("taxi-turn"),k=T.units==="%",B=T.pfValue,R=B<0,P=t.pstyle("taxi-turn-min-distance").pfValue,L=E?(h+m)/2:0,A=E?(g+y)/2:0,z=v.x2-v.x1,O=v.y2-v.y1,N=function(de,we){return de>0?Math.max(de-we,0):Math.min(de+we,0)},_=N(z,L),F=N(O,A),K=!1;C===c?x=Math.abs(_)>Math.abs(F)?i:n:C===f||C===u?(x=n,K=!0):(C===s||C===l)&&(x=i,K=!0);var W=x===n,H=W?F:_,$=W?O:z,G=Wg($),X=!1;!(K&&(k||R))&&(C===u&&$<0||C===f&&$>0||C===s&&$>0||C===l&&$<0)&&(G*=-1,H=G*Math.abs(H),X=!0);var M;if(k){var V=B<0?1+B:B;M=V*H}else{var te=B<0?H:0;M=te+B*G}var ae=function(de){return Math.abs(de)<P||Math.abs(de)>=Math.abs(H)},se=ae(M),oe=ae(Math.abs(H)-Math.abs(M)),ce=se||oe;if(ce&&!X)if(W){var ue=Math.abs($)<=g/2,Z=Math.abs(z)<=m/2;if(ue){var Q=(v.x1+v.x2)/2,le=v.y1,pe=v.y2;r.segpts=[Q,le,Q,pe]}else if(Z){var Se=(v.y1+v.y2)/2,Te=v.x1,Xe=v.x2;r.segpts=[Te,Se,Xe,Se]}else r.segpts=[v.x1,v.y2]}else{var nt=Math.abs($)<=h/2,je=Math.abs(O)<=y/2;if(nt){var ke=(v.y1+v.y2)/2,Ce=v.x1,Ne=v.x2;r.segpts=[Ce,ke,Ne,ke]}else if(je){var Ie=(v.x1+v.x2)/2,Oe=v.y1,$e=v.y2;r.segpts=[Ie,Oe,Ie,$e]}else r.segpts=[v.x2,v.y1]}else if(W){var Ge=v.y1+M+(E?g/2*G:0),Ye=v.x1,ve=v.x2;r.segpts=[Ye,Ge,ve,Ge]}else{var I=v.x1+M+(E?h/2*G:0),j=v.y1,fe=v.y2;r.segpts=[I,j,I,fe]}if(r.isRound){var J=t.pstyle("taxi-radius").value,ne=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(J),r.isArcRadius=new Array(r.segpts.length/2).fill(ne)}};pr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,f=e.tgtH,c=e.srcShape,v=e.tgtShape,h=e.srcCornerRadius,g=e.tgtCornerRadius,m=e.srcRs,y=e.tgtRs,S=!xe(r.startX)||!xe(r.startY),E=!xe(r.arrowStartX)||!xe(r.arrowStartY),x=!xe(r.endX)||!xe(r.endY),C=!xe(r.arrowEndX)||!xe(r.arrowEndY),T=3,k=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,B=T*k,R=Fa({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),P=R<B,L=Fa({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),A=L<B,z=!1;if(S||E||P){z=!0;var O={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},N=Math.sqrt(O.x*O.x+O.y*O.y),_={x:O.x/N,y:O.y/N},F=Math.max(s,l),K={x:r.ctrlpts[0]+_.x*2*F,y:r.ctrlpts[1]+_.y*2*F},W=c.intersectLine(n.x,n.y,s,l,K.x,K.y,0,h,m);P?(r.ctrlpts[0]=r.ctrlpts[0]+_.x*(B-R),r.ctrlpts[1]=r.ctrlpts[1]+_.y*(B-R)):(r.ctrlpts[0]=W[0]+_.x*B,r.ctrlpts[1]=W[1]+_.y*B)}if(x||C||A){z=!0;var H={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},$=Math.sqrt(H.x*H.x+H.y*H.y),G={x:H.x/$,y:H.y/$},X=Math.max(s,l),M={x:r.ctrlpts[0]+G.x*2*X,y:r.ctrlpts[1]+G.y*2*X},V=v.intersectLine(i.x,i.y,u,f,M.x,M.y,0,g,y);A?(r.ctrlpts[0]=r.ctrlpts[0]+G.x*(B-L),r.ctrlpts[1]=r.ctrlpts[1]+G.y*(B-L)):(r.ctrlpts[0]=V[0]+G.x*B,r.ctrlpts[1]=V[1]+G.y*B)}z&&this.findEndpoints(t)}};pr.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=qt(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=qt(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var s=2;s+3<e.allpts.length;s+=2){var l=e.radii[s/2-1],u=e.isArcRadius[s/2-1];e.roundCorners.push(pd({x:e.allpts[s-2],y:e.allpts[s-1]},{x:e.allpts[s],y:e.allpts[s+1],radius:l},{x:e.allpts[s+2],y:e.allpts[s+3]},l,u))}}if(e.segpts.length%4===0){var f=e.segpts.length/2,c=f-2;e.midX=(e.segpts[c]+e.segpts[f])/2,e.midY=(e.segpts[c+1]+e.segpts[f+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var h={x:e.segpts[v],y:e.segpts[v+1]},g=e.roundCorners[v/2],m=[h.x-g.cx,h.y-g.cy],y=g.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(S){return S*y}),e.midX=g.cx+m[0],e.midY=g.cy+m[1],e.midVector=m}}}};pr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||xe(e.startX)&&xe(e.startY)&&xe(e.endX)&&xe(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,lt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};pr.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),s={map:new pn,get:function(P){var L=this.map.get(P[0]);return L!=null?L.get(P[1]):null},set:function(P,L){var A=this.map.get(P[0]);A==null&&(A=new pn,this.map.set(P[0],A)),A.set(P[1],L)}},l=[],u=[],f=0;f<t.length;f++){var c=t[f],v=c._private,h=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(h==="haystack"){u.push(c);continue}var g=h==="unbundled-bezier"||h.endsWith("segments")||h==="straight"||h==="straight-triangle"||h.endsWith("taxi"),m=h==="unbundled-bezier"||h==="bezier",y=v.source,S=v.target,E=y.poolIndex(),x=S.poolIndex(),C=[E,x].sort(),T=s.get(C);T==null&&(T={eles:[]},s.set(C,T),l.push(C)),T.eles.push(c),g&&(T.hasUnbundled=!0),m&&(T.hasBezier=!0)}}for(var k=function(P){var L=l[P],A=s.get(L),z=void 0;if(!A.hasUnbundled){var O=A.eles[0].parallelEdges().filter(function(I){return I.isBundledBezier()});ed(A.eles),O.forEach(function(I){return A.eles.push(I)}),A.eles.sort(function(I,j){return I.poolIndex()-j.poolIndex()})}var N=A.eles[0],_=N.source(),F=N.target();if(_.poolIndex()>F.poolIndex()){var K=_;_=F,F=K}var W=A.srcPos=_.position(),H=A.tgtPos=F.position(),$=A.srcW=_.outerWidth(),G=A.srcH=_.outerHeight(),X=A.tgtW=F.outerWidth(),M=A.tgtH=F.outerHeight(),V=A.srcShape=r.nodeShapes[e.getNodeShape(_)],te=A.tgtShape=r.nodeShapes[e.getNodeShape(F)],ae=A.srcCornerRadius=_.pstyle("corner-radius").value==="auto"?"auto":_.pstyle("corner-radius").pfValue,se=A.tgtCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,oe=A.tgtRs=F._private.rscratch,ce=A.srcRs=_._private.rscratch;A.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ue=0;ue<A.eles.length;ue++){var Z=A.eles[ue],Q=Z[0]._private.rscratch,le=Z.pstyle("curve-style").value,pe=le==="unbundled-bezier"||le.endsWith("segments")||le.endsWith("taxi"),Se=!_.same(Z.source());if(!A.calculatedIntersection&&_!==F&&(A.hasBezier||A.hasUnbundled)){A.calculatedIntersection=!0;var Te=V.intersectLine(W.x,W.y,$,G,H.x,H.y,0,ae,ce),Xe=A.srcIntn=Te,nt=te.intersectLine(H.x,H.y,X,M,W.x,W.y,0,se,oe),je=A.tgtIntn=nt,ke=A.intersectionPts={x1:Te[0],x2:nt[0],y1:Te[1],y2:nt[1]},Ce=A.posPts={x1:W.x,x2:H.x,y1:W.y,y2:H.y},Ne=nt[1]-Te[1],Ie=nt[0]-Te[0],Oe=Math.sqrt(Ie*Ie+Ne*Ne),$e=A.vector={x:Ie,y:Ne},Ge=A.vectorNorm={x:$e.x/Oe,y:$e.y/Oe},Ye={x:-Ge.y,y:Ge.x};A.nodesOverlap=!xe(Oe)||te.checkPoint(Te[0],Te[1],0,X,M,H.x,H.y,se,oe)||V.checkPoint(nt[0],nt[1],0,$,G,W.x,W.y,ae,ce),A.vectorNormInverse=Ye,z={nodesOverlap:A.nodesOverlap,dirCounts:A.dirCounts,calculatedIntersection:!0,hasBezier:A.hasBezier,hasUnbundled:A.hasUnbundled,eles:A.eles,srcPos:H,srcRs:oe,tgtPos:W,tgtRs:ce,srcW:X,srcH:M,tgtW:$,tgtH:G,srcIntn:je,tgtIntn:Xe,srcShape:te,tgtShape:V,posPts:{x1:Ce.x2,y1:Ce.y2,x2:Ce.x1,y2:Ce.y1},intersectionPts:{x1:ke.x2,y1:ke.y2,x2:ke.x1,y2:ke.y1},vector:{x:-$e.x,y:-$e.y},vectorNorm:{x:-Ge.x,y:-Ge.y},vectorNormInverse:{x:-Ye.x,y:-Ye.y}}}var ve=Se?z:A;Q.nodesOverlap=ve.nodesOverlap,Q.srcIntn=ve.srcIntn,Q.tgtIntn=ve.tgtIntn,Q.isRound=le.startsWith("round"),i&&(_.isParent()||_.isChild()||F.isParent()||F.isChild())&&(_.parents().anySame(F)||F.parents().anySame(_)||_.same(F)&&_.isParent())?e.findCompoundLoopPoints(Z,ve,ue,pe):_===F?e.findLoopPoints(Z,ve,ue,pe):le.endsWith("segments")?e.findSegmentsPoints(Z,ve):le.endsWith("taxi")?e.findTaxiPoints(Z,ve):le==="straight"||!pe&&A.eles.length%2===1&&ue===Math.floor(A.eles.length/2)?e.findStraightEdgePoints(Z):e.findBezierPoints(Z,ve,ue,pe,Se),e.findEndpoints(Z),e.tryToCorrectInvalidPoints(Z,ve),e.checkForInvalidEdgeWarning(Z),e.storeAllpts(Z),e.storeEdgeProjections(Z),e.calculateArrowAngles(Z),e.recalculateEdgeLabelProjections(Z),e.calculateLabelAngles(Z)}},B=0;B<l.length;B++)k(B);this.findHaystackPoints(u)}};function Vy(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}pr.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return Vy(e.segpts)};pr.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return Vy(e.ctrlpts)};pr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var us={};us.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),s=t.outerHeight(),l=t._private.rscratch;if(e.value.length===2){var u=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(u[0]=u[0]*i),e.units[1]==="%"&&(u[1]=u[1]*s),u[0]+=n.x,u[1]+=n.y,u}else{var f=e.pfValue[0];f=-Math.PI/2+f;var c=2*Math.max(i,s),v=[n.x+Math.cos(f)*c,n.y+Math.sin(f)*c];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,s,v[0],v[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,l)}};us.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],s=n.position(),l=i.position(),u=t.pstyle("target-arrow-shape").value,f=t.pstyle("source-arrow-shape").value,c=t.pstyle("target-distance-from-node").pfValue,v=t.pstyle("source-distance-from-node").pfValue,h=n._private.rscratch,g=i._private.rscratch,m=t.pstyle("curve-style").value,y=t._private.rscratch,S=y.edgeType,E=m==="taxi",x=S==="self"||S==="compound",C=S==="bezier"||S==="multibezier"||x,T=S!=="bezier",k=S==="straight"||S==="segments",B=S==="segments",R=C||T||k,P=x||E,L=t.pstyle("source-endpoint"),A=P?"outside-to-node":L.value,z=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,O=t.pstyle("target-endpoint"),N=P?"outside-to-node":O.value,_=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;y.srcManEndpt=L,y.tgtManEndpt=O;var F,K,W,H;if(C){var $=[y.ctrlpts[0],y.ctrlpts[1]],G=T?[y.ctrlpts[y.ctrlpts.length-2],y.ctrlpts[y.ctrlpts.length-1]]:$;F=G,K=$}else if(k){var X=B?y.segpts.slice(0,2):[l.x,l.y],M=B?y.segpts.slice(y.segpts.length-2):[s.x,s.y];F=M,K=X}if(N==="inside-to-node")r=[l.x,l.y];else if(O.units)r=this.manualEndptToPx(i,O);else if(N==="outside-to-line")r=y.tgtIntn;else if(N==="outside-to-node"||N==="outside-to-node-or-label"?W=F:(N==="outside-to-line"||N==="outside-to-line-or-label")&&(W=[s.x,s.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(l.x,l.y,i.outerWidth(),i.outerHeight(),W[0],W[1],0,_,g),N==="outside-to-node-or-label"||N==="outside-to-line-or-label"){var V=i._private.rscratch,te=V.labelWidth,ae=V.labelHeight,se=V.labelX,oe=V.labelY,ce=te/2,ue=ae/2,Z=i.pstyle("text-valign").value;Z==="top"?oe-=ue:Z==="bottom"&&(oe+=ue);var Q=i.pstyle("text-halign").value;Q==="left"?se-=ce:Q==="right"&&(se+=ce);var le=Qo(W[0],W[1],[se-ce,oe-ue,se+ce,oe-ue,se+ce,oe+ue,se-ce,oe+ue],l.x,l.y);if(le.length>0){var pe=s,Se=La(pe,Ci(r)),Te=La(pe,Ci(le)),Xe=Se;if(Te<Se&&(r=le,Xe=Te),le.length>2){var nt=La(pe,{x:le[2],y:le[3]});nt<Xe&&(r=[le[2],le[3]])}}}var je=kl(r,F,e.arrowShapes[u].spacing(t)+c),ke=kl(r,F,e.arrowShapes[u].gap(t)+c);if(y.endX=ke[0],y.endY=ke[1],y.arrowEndX=je[0],y.arrowEndY=je[1],A==="inside-to-node")r=[s.x,s.y];else if(L.units)r=this.manualEndptToPx(n,L);else if(A==="outside-to-line")r=y.srcIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?H=K:(A==="outside-to-line"||A==="outside-to-line-or-label")&&(H=[l.x,l.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(s.x,s.y,n.outerWidth(),n.outerHeight(),H[0],H[1],0,z,h),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var Ce=n._private.rscratch,Ne=Ce.labelWidth,Ie=Ce.labelHeight,Oe=Ce.labelX,$e=Ce.labelY,Ge=Ne/2,Ye=Ie/2,ve=n.pstyle("text-valign").value;ve==="top"?$e-=Ye:ve==="bottom"&&($e+=Ye);var I=n.pstyle("text-halign").value;I==="left"?Oe-=Ge:I==="right"&&(Oe+=Ge);var j=Qo(H[0],H[1],[Oe-Ge,$e-Ye,Oe+Ge,$e-Ye,Oe+Ge,$e+Ye,Oe-Ge,$e+Ye],s.x,s.y);if(j.length>0){var fe=l,J=La(fe,Ci(r)),ne=La(fe,Ci(j)),Ee=J;if(ne<J&&(r=[j[0],j[1]],Ee=ne),j.length>2){var de=La(fe,{x:j[2],y:j[3]});de<Ee&&(r=[j[2],j[3]])}}}var we=kl(r,K,e.arrowShapes[f].spacing(t)+v),ze=kl(r,K,e.arrowShapes[f].gap(t)+v);y.startX=ze[0],y.startY=ze[1],y.arrowStartX=we[0],y.arrowStartY=we[1],R&&(!xe(y.startX)||!xe(y.startY)||!xe(y.endX)||!xe(y.endY)?y.badLine=!0:y.badLine=!1)};us.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};us.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var gd={};function eC(t,e,r){for(var n=function(c,v,h,g){return qt(c,v,h,g)},i=e._private,s=i.rstyle.bezierPts,l=0;l<t.bezierProjPcts.length;l++){var u=t.bezierProjPcts[l];s.push({x:n(r[0],r[2],r[4],u),y:n(r[1],r[3],r[5],u)})}}gd.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)eC(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var s=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)s.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var l=r.haystackPts;e.rstyle.haystackPts=[{x:l[0],y:l[1]},{x:l[2],y:l[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};gd.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var yn={};yn.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!ua(e)){var r,n,i=t._private,s=t.width(),l=t.height(),u=t.padding(),f=t.position(),c=t.pstyle("text-halign").strValue,v=t.pstyle("text-valign").strValue,h=i.rscratch,g=i.rstyle;switch(c){case"left":r=f.x-s/2-u;break;case"right":r=f.x+s/2+u;break;default:r=f.x}switch(v){case"top":n=f.y-l/2-u;break;case"bottom":n=f.y+l/2+u;break;default:n=f.y}h.labelX=r,h.labelY=n,g.labelX=r,g.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var Uy=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},$y=function(e,r){var n=r.x-e.x,i=r.y-e.y;return Uy(n,i)},tC=function(e,r,n,i){var s=Yo(0,i-.001,1),l=Yo(0,i+.001,1),u=ki(e,r,n,s),f=ki(e,r,n,l);return $y(u,f)};yn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,s={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(s.mid||s.source||s.target){e={x:n.midX,y:n.midY};var l=function(h,g,m){ia(r.rscratch,h,g,m),ia(r.rstyle,h,g,m)};l("labelX",null,e.x),l("labelY",null,e.y);var u=Uy(n.midDispX,n.midDispY);l("labelAutoAngle",null,u);var f=function v(){if(v.cache)return v.cache;for(var h=[],g=0;g+5<n.allpts.length;g+=4){var m={x:n.allpts[g],y:n.allpts[g+1]},y={x:n.allpts[g+2],y:n.allpts[g+3]},S={x:n.allpts[g+4],y:n.allpts[g+5]};h.push({p0:m,p1:y,p2:S,startDist:0,length:0,segments:[]})}var E=r.rstyle.bezierPts,x=i.bezierProjPcts.length;function C(P,L,A,z,O){var N=Fa(L,A),_=P.segments[P.segments.length-1],F={p0:L,p1:A,t0:z,t1:O,startDist:_?_.startDist+_.length:0,length:N};P.segments.push(F),P.length+=N}for(var T=0;T<h.length;T++){var k=h[T],B=h[T-1];B&&(k.startDist=B.startDist+B.length),C(k,k.p0,E[T*x],0,i.bezierProjPcts[0]);for(var R=0;R<x-1;R++)C(k,E[T*x+R],E[T*x+R+1],i.bezierProjPcts[R],i.bezierProjPcts[R+1]);C(k,E[T*x+x-1],k.p2,i.bezierProjPcts[x-1],1)}return v.cache=h},c=function(h){var g,m=h==="source";if(s[h]){var y=t.pstyle(h+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var S=f(),E,x=0,C=0,T=0;T<S.length;T++){for(var k=S[m?T:S.length-1-T],B=0;B<k.segments.length;B++){var R=k.segments[m?B:k.segments.length-1-B],P=T===S.length-1&&B===k.segments.length-1;if(x=C,C+=R.length,C>=y||P){E={cp:k,segment:R};break}}if(E)break}var L=E.cp,A=E.segment,z=(y-x)/A.length,O=A.t1-A.t0,N=m?A.t0+O*z:A.t1-O*z;N=Yo(0,N,1),e=ki(L.p0,L.p1,L.p2,N),g=tC(L.p0,L.p1,L.p2,N);break}case"straight":case"segments":case"haystack":{for(var _=0,F,K,W,H,$=n.allpts.length,G=0;G+3<$&&(m?(W={x:n.allpts[G],y:n.allpts[G+1]},H={x:n.allpts[G+2],y:n.allpts[G+3]}):(W={x:n.allpts[$-2-G],y:n.allpts[$-1-G]},H={x:n.allpts[$-4-G],y:n.allpts[$-3-G]}),F=Fa(W,H),K=_,_+=F,!(_>=y));G+=2);var X=y-K,M=X/F;M=Yo(0,M,1),e=lx(W,H,M),g=$y(W,H);break}}l("labelX",h,e.x),l("labelY",h,e.y),l("labelAutoAngle",h,g)}};c("source"),c("target"),this.applyLabelDimensions(t)}};yn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};yn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,l=t.pstyle("text-wrap").strValue,u=on(r.rscratch,"labelWrapCachedLines",e)||[],f=l!=="wrap"?1:Math.max(u.length,1),c=i.height/f,v=c*s,h=i.width,g=i.height+(f-1)*(s-1)*c;ia(r.rstyle,"labelWidth",e,h),ia(r.rscratch,"labelWidth",e,h),ia(r.rstyle,"labelHeight",e,g),ia(r.rscratch,"labelHeight",e,g),ia(r.rscratch,"labelLineHeight",e,v)};yn.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,s=t.pstyle("text-transform").value,l=function(te,ae){return ae?(ia(r.rscratch,te,e,ae),ae):on(r.rscratch,te,e)};if(!i)return"";s=="none"||(s=="uppercase"?i=i.toUpperCase():s=="lowercase"&&(i=i.toLowerCase()));var u=t.pstyle("text-wrap").value;if(u==="wrap"){var f=l("labelKey");if(f!=null&&l("labelWrapKey")===f)return l("labelWrapCachedText");for(var c="",v=i.split(`
`),h=t.pstyle("text-max-width").pfValue,g=t.pstyle("text-overflow-wrap").value,m=g==="anywhere",y=[],S=/[\s\u200b]+|$/g,E=0;E<v.length;E++){var x=v[E],C=this.calculateLabelDimensions(t,x),T=C.width;if(m){var k=x.split("").join(c);x=k}if(T>h){var B=x.matchAll(S),R="",P=0,L=Or(B),A;try{for(L.s();!(A=L.n()).done;){var z=A.value,O=z[0],N=x.substring(P,z.index);P=z.index+O.length;var _=R.length===0?N:R+N+O,F=this.calculateLabelDimensions(t,_),K=F.width;K<=h?R+=N+O:(R&&y.push(R),R=N+O)}}catch(V){L.e(V)}finally{L.f()}R.match(/^[\s\u200b]+$/)||y.push(R)}else y.push(x)}l("labelWrapCachedLines",y),i=l("labelWrapCachedText",y.join(`
`)),l("labelWrapKey",f)}else if(u==="ellipsis"){var W=t.pstyle("text-max-width").pfValue,H="",$="",G=!1;if(this.calculateLabelDimensions(t,i).width<W)return i;for(var X=0;X<i.length;X++){var M=this.calculateLabelDimensions(t,H+i[X]+$).width;if(M>W)break;H+=i[X],X===i.length-1&&(G=!0)}return G||(H+=$),H}return i};yn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};yn.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),i=n.document,s=fa(e,t._private.labelDimsKey),l=r.labelDimCache||(r.labelDimCache=[]),u=l[s];if(u!=null)return u;var f=0,c=t.pstyle("font-style").strValue,v=t.pstyle("font-size").pfValue,h=t.pstyle("font-family").strValue,g=t.pstyle("font-weight").strValue,m=this.labelCalcCanvas,y=this.labelCalcCanvasContext;if(!m){m=this.labelCalcCanvas=i.createElement("canvas"),y=this.labelCalcCanvasContext=m.getContext("2d");var S=m.style;S.position="absolute",S.left="-9999px",S.top="-9999px",S.zIndex="-1",S.visibility="hidden",S.pointerEvents="none"}y.font="".concat(c," ").concat(g," ").concat(v,"px ").concat(h);for(var E=0,x=0,C=e.split(`
`),T=0;T<C.length;T++){var k=C[T],B=y.measureText(k),R=Math.ceil(B.width),P=v;E=Math.max(R,E),x+=P}return E+=f,x+=f,l[s]={width:E,height:x}};yn.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),s=e?e+"-":"",l=t.pstyle(s+"text-rotation"),u=l.strValue;return u==="none"?0:i&&u==="autorotate"?n.labelAutoAngle:u==="autorotate"?0:l.pfValue};yn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Wy={},ng=28,ag=!1;Wy.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<ng||t.height()<ng))return ag||(lt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),ag=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Cu={};Cu.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(l),u)for(var f=0;f<l.length;f++){var c=l[f],v=c._private,h=v.rstyle;h.clean=!1,h.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(l){var u=l.target;n(u)}).on("style.* background.*",function(l){var u=l.target;n(u,!1)});var i=function(l){if(l){var u=r.onUpdateEleCalcsFns;e.cleanStyle();for(var f=0;f<e.length;f++){var c=e[f],v=c._private.rstyle;c.isNode()&&!v.cleanConnected&&(n(c.connectedEdges()),v.cleanConnected=!0)}if(u)for(var h=0;h<u.length;h++){var g=u[h];g(l,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};Cu.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Cu.recalculateRenderedStyle=function(t,e){var r=function(k){return k._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var s=0;s<t.length;s++){var l=t[s],u=l._private,f=u.rstyle;l.isEdge()&&(!r(l.source())||!r(l.target()))&&(f.clean=!1),!(e&&f.clean||l.removed())&&l.pstyle("display").value!=="none"&&(u.group==="nodes"?i.push(l):n.push(l),f.clean=!0)}for(var c=0;c<i.length;c++){var v=i[c],h=v._private,g=h.rstyle,m=v.position();this.recalculateNodeLabelProjection(v),g.nodeX=m.x,g.nodeY=m.y,g.nodeW=v.pstyle("width").pfValue,g.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var y=0;y<n.length;y++){var S=n[y],E=S._private,x=E.rstyle,C=E.rscratch;x.srcX=C.arrowStartX,x.srcY=C.arrowStartY,x.tgtX=C.arrowEndX,x.tgtY=C.arrowEndY,x.midX=C.midX,x.midY=C.midY,x.labelAngle=C.labelAngle,x.sourceLabelAngle=C.sourceLabelAngle,x.targetLabelAngle=C.targetLabelAngle}}};var Tu={};Tu.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Tu.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Tu.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(ky),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Hy={};[Ha,ou,pr,us,gd,yn,Wy,Cu,Tu].forEach(function(t){Ue(Hy,t)});var Ky={};Ky.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},s=i[t];if(s)return s.image.complete||s.image.addEventListener("load",r),s.image;s=i[t]=i[t]||{};var l=s.image=new Image;l.addEventListener("load",r),l.addEventListener("error",function(){l.error=!0});var u="data:",f=t.substring(0,u.length).toLowerCase()===u;return f||(e=e==="null"?null:e,l.crossOrigin=e),l.src=t,l};var Ui={};Ui.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var s=[],l=0;l<t.length;l++){var u=t[l];if(u!==void 0){var f=this.binder(u);s.push(f.on.apply(f,i))}}return s}var f=this.binder(t);return f.on.apply(f,i)};Ui.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||R1(t);if(e.supportsPassiveEvents==null){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,s)}catch{}e.supportsPassiveEvents=i}var l=function(f,c,v){var h=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(h[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:h}),(t.addEventListener||t.on).apply(t,h),this};return{on:l,addEventListener:l,addListener:l,bind:l}};Ui.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Ui.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Ui.load=function(){var t=this,e=t.cy.window(),r=function(I){return I.selected()},n=function(I){var j=I.getRootNode();if(j&&j.nodeType===11&&j.host!==void 0)return j},i=function(I,j,fe,J){I==null&&(I=t.cy);for(var ne=0;ne<j.length;ne++){var Ee=j[ne];I.emit({originalEvent:fe,type:Ee,position:J})}},s=function(I){return I.shiftKey||I.metaKey||I.ctrlKey},l=function(I,j){var fe=!0;if(t.cy.hasCompoundNodes()&&I&&I.pannable())for(var J=0;j&&J<j.length;J++){var I=j[J];if(I.isNode()&&I.isParent()&&!I.pannable()){fe=!1;break}}else fe=!0;return fe},u=function(I){I[0]._private.grabbed=!0},f=function(I){I[0]._private.grabbed=!1},c=function(I){I[0]._private.rscratch.inDragLayer=!0},v=function(I){I[0]._private.rscratch.inDragLayer=!1},h=function(I){I[0]._private.rscratch.isGrabTarget=!0},g=function(I){I[0]._private.rscratch.isGrabTarget=!1},m=function(I,j){var fe=j.addToList,J=fe.has(I);!J&&I.grabbable()&&!I.locked()&&(fe.merge(I),u(I))},y=function(I,j){if(I.cy().hasCompoundNodes()&&!(j.inDragLayer==null&&j.addToList==null)){var fe=I.descendants();j.inDragLayer&&(fe.forEach(c),fe.connectedEdges().forEach(c)),j.addToList&&m(fe,j)}},S=function(I,j){j=j||{};var fe=I.cy().hasCompoundNodes();j.inDragLayer&&(I.forEach(c),I.neighborhood().stdFilter(function(J){return!fe||J.isEdge()}).forEach(c)),j.addToList&&I.forEach(function(J){m(J,j)}),y(I,j),C(I,{inDragLayer:j.inDragLayer}),t.updateCachedGrabbedEles()},E=S,x=function(I){I&&(t.getCachedZSortedEles().forEach(function(j){f(j),v(j),g(j)}),t.updateCachedGrabbedEles())},C=function(I,j){if(!(j.inDragLayer==null&&j.addToList==null)&&I.cy().hasCompoundNodes()){var fe=I.ancestors().orphans();if(!fe.same(I)){var J=fe.descendants().spawnSelf().merge(fe).unmerge(I).unmerge(I.descendants()),ne=J.connectedEdges();j.inDragLayer&&(ne.forEach(c),J.forEach(c)),j.addToList&&J.forEach(function(Ee){m(Ee,j)})}}},T=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},k=typeof MutationObserver<"u",B=typeof ResizeObserver<"u";k?(t.removeObserver=new MutationObserver(function(ve){for(var I=0;I<ve.length;I++){var j=ve[I],fe=j.removedNodes;if(fe)for(var J=0;J<fe.length;J++){var ne=fe[J];if(ne===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(ve){t.destroy()});var R=is(function(){t.cy.resize()},100);k&&(t.styleObserver=new MutationObserver(R),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",R),B&&(t.resizeObserver=new ResizeObserver(R),t.resizeObserver.observe(t.container));var P=function(I,j){for(;I!=null;)j(I),I=I.parentNode},L=function(){t.invalidateContainerClientCoordsCache()};P(t.container,function(ve){t.registerBinding(ve,"transitionend",L),t.registerBinding(ve,"animationend",L),t.registerBinding(ve,"scroll",L)}),t.registerBinding(t.container,"contextmenu",function(ve){ve.preventDefault()});var A=function(){return t.selection[4]!==0},z=function(I){for(var j=t.findContainerClientCoords(),fe=j[0],J=j[1],ne=j[2],Ee=j[3],de=I.touches?I.touches:[I],we=!1,ze=0;ze<de.length;ze++){var Ke=de[ze];if(fe<=Ke.clientX&&Ke.clientX<=fe+ne&&J<=Ke.clientY&&Ke.clientY<=J+Ee){we=!0;break}}if(!we)return!1;for(var Re=t.container,We=I.target,He=We.parentNode,Fe=!1;He;){if(He===Re){Fe=!0;break}He=He.parentNode}return!!Fe};t.registerBinding(t.container,"mousedown",function(I){if(z(I)&&!(t.hoverData.which===1&&I.which!==1)){I.preventDefault(),T(),t.hoverData.capture=!0,t.hoverData.which=I.which;var j=t.cy,fe=[I.clientX,I.clientY],J=t.projectIntoViewport(fe[0],fe[1]),ne=t.selection,Ee=t.findNearestElements(J[0],J[1],!0,!1),de=Ee[0],we=t.dragData.possibleDragElements;t.hoverData.mdownPos=J,t.hoverData.mdownGPos=fe;var ze=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Je=t.hoverData.down;Je?Je.emit({originalEvent:I,type:"taphold",position:{x:J[0],y:J[1]}}):j.emit({originalEvent:I,type:"taphold",position:{x:J[0],y:J[1]}})}},t.tapholdDuration)};if(I.which==3){t.hoverData.cxtStarted=!0;var Ke={originalEvent:I,type:"cxttapstart",position:{x:J[0],y:J[1]}};de?(de.activate(),de.emit(Ke),t.hoverData.down=de):j.emit(Ke),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(I.which==1){de&&de.activate();{if(de!=null&&t.nodeIsGrabbable(de)){var Re=function(Je){return{originalEvent:I,type:Je,position:{x:J[0],y:J[1]}}},We=function(Je){Je.emit(Re("grab"))};if(h(de),!de.selected())we=t.dragData.possibleDragElements=j.collection(),E(de,{addToList:we}),de.emit(Re("grabon")).emit(Re("grab"));else{we=t.dragData.possibleDragElements=j.collection();var He=j.$(function(Fe){return Fe.isNode()&&Fe.selected()&&t.nodeIsGrabbable(Fe)});S(He,{addToList:we}),de.emit(Re("grabon")),He.forEach(We)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=de,t.hoverData.downs=Ee,t.hoverData.downTime=new Date().getTime()}i(de,["mousedown","tapstart","vmousedown"],I,{x:J[0],y:J[1]}),de==null?(ne[4]=1,t.data.bgActivePosistion={x:J[0],y:J[1]},t.redrawHint("select",!0),t.redraw()):de.pannable()&&(ne[4]=1),ze()}ne[0]=ne[2]=J[0],ne[1]=ne[3]=J[1]}},!1);var O=n(t.container);t.registerBinding([e,O],"mousemove",function(I){var j=t.hoverData.capture;if(!(!j&&!z(I))){var fe=!1,J=t.cy,ne=J.zoom(),Ee=[I.clientX,I.clientY],de=t.projectIntoViewport(Ee[0],Ee[1]),we=t.hoverData.mdownPos,ze=t.hoverData.mdownGPos,Ke=t.selection,Re=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Re=t.findNearestElement(de[0],de[1],!0,!1));var We=t.hoverData.last,He=t.hoverData.down,Fe=[de[0]-Ke[2],de[1]-Ke[3]],Je=t.dragData.possibleDragElements,ot;if(ze){var tr=Ee[0]-ze[0],rr=tr*tr,Tt=Ee[1]-ze[1],Dt=Tt*Tt,Rt=rr+Dt;t.hoverData.isOverThresholdDrag=ot=Rt>=t.desktopTapThreshold2}var Nt=s(I);ot&&(t.hoverData.tapholdCancelled=!0);var Ut=function(){var Fr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Fr.length===0?(Fr.push(Fe[0]),Fr.push(Fe[1])):(Fr[0]+=Fe[0],Fr[1]+=Fe[1])};fe=!0,i(Re,["mousemove","vmousemove","tapdrag"],I,{x:de[0],y:de[1]});var nr=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||J.emit({originalEvent:I,type:"boxstart",position:{x:de[0],y:de[1]}}),Ke[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(ot){var ar={originalEvent:I,type:"cxtdrag",position:{x:de[0],y:de[1]}};He?He.emit(ar):J.emit(ar),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Re!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:I,type:"cxtdragout",position:{x:de[0],y:de[1]}}),t.hoverData.cxtOver=Re,Re&&Re.emit({originalEvent:I,type:"cxtdragover",position:{x:de[0],y:de[1]}}))}}else if(t.hoverData.dragging){if(fe=!0,J.panningEnabled()&&J.userPanningEnabled()){var ir;if(t.hoverData.justStartedPan){var Yr=t.hoverData.mdownPos;ir={x:(de[0]-Yr[0])*ne,y:(de[1]-Yr[1])*ne},t.hoverData.justStartedPan=!1}else ir={x:Fe[0]*ne,y:Fe[1]*ne};J.panBy(ir),J.emit("dragpan"),t.hoverData.dragged=!0}de=t.projectIntoViewport(I.clientX,I.clientY)}else if(Ke[4]==1&&(He==null||He.pannable())){if(ot){if(!t.hoverData.dragging&&J.boxSelectionEnabled()&&(Nt||!J.panningEnabled()||!J.userPanningEnabled()))nr();else if(!t.hoverData.selecting&&J.panningEnabled()&&J.userPanningEnabled()){var gr=l(He,t.hoverData.downs);gr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ke[4]=0,t.data.bgActivePosistion=Ci(we),t.redrawHint("select",!0),t.redraw())}He&&He.pannable()&&He.active()&&He.unactivate()}}else{if(He&&He.pannable()&&He.active()&&He.unactivate(),(!He||!He.grabbed())&&Re!=We&&(We&&i(We,["mouseout","tapdragout"],I,{x:de[0],y:de[1]}),Re&&i(Re,["mouseover","tapdragover"],I,{x:de[0],y:de[1]}),t.hoverData.last=Re),He)if(ot){if(J.boxSelectionEnabled()&&Nt)He&&He.grabbed()&&(x(Je),He.emit("freeon"),Je.emit("free"),t.dragData.didDrag&&(He.emit("dragfreeon"),Je.emit("dragfree"))),nr();else if(He&&He.grabbed()&&t.nodeIsDraggable(He)){var Bt=!t.dragData.didDrag;Bt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||S(Je,{inDragLayer:!0});var xt={x:0,y:0};if(xe(Fe[0])&&xe(Fe[1])&&(xt.x+=Fe[0],xt.y+=Fe[1],Bt)){var $t=t.hoverData.dragDelta;$t&&xe($t[0])&&xe($t[1])&&(xt.x+=$t[0],xt.y+=$t[1])}t.hoverData.draggingEles=!0,Je.silentShift(xt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Ut();fe=!0}if(Ke[2]=de[0],Ke[3]=de[1],fe)return I.stopPropagation&&I.stopPropagation(),I.preventDefault&&I.preventDefault(),!1}},!1);var N,_,F;t.registerBinding(e,"mouseup",function(I){if(!(t.hoverData.which===1&&I.which!==1&&t.hoverData.capture)){var j=t.hoverData.capture;if(j){t.hoverData.capture=!1;var fe=t.cy,J=t.projectIntoViewport(I.clientX,I.clientY),ne=t.selection,Ee=t.findNearestElement(J[0],J[1],!0,!1),de=t.dragData.possibleDragElements,we=t.hoverData.down,ze=s(I);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,we&&we.unactivate(),t.hoverData.which===3){var Ke={originalEvent:I,type:"cxttapend",position:{x:J[0],y:J[1]}};if(we?we.emit(Ke):fe.emit(Ke),!t.hoverData.cxtDragged){var Re={originalEvent:I,type:"cxttap",position:{x:J[0],y:J[1]}};we?we.emit(Re):fe.emit(Re)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(i(Ee,["mouseup","tapend","vmouseup"],I,{x:J[0],y:J[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(i(we,["click","tap","vclick"],I,{x:J[0],y:J[1]}),_=!1,I.timeStamp-F<=fe.multiClickDebounceTime()?(N&&clearTimeout(N),_=!0,F=null,i(we,["dblclick","dbltap","vdblclick"],I,{x:J[0],y:J[1]})):(N=setTimeout(function(){_||i(we,["oneclick","onetap","voneclick"],I,{x:J[0],y:J[1]})},fe.multiClickDebounceTime()),F=I.timeStamp)),we==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!s(I)&&(fe.$(r).unselect(["tapunselect"]),de.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=de=fe.collection()),Ee==we&&!t.dragData.didDrag&&!t.hoverData.selecting&&Ee!=null&&Ee._private.selectable&&(t.hoverData.dragging||(fe.selectionType()==="additive"||ze?Ee.selected()?Ee.unselect(["tapunselect"]):Ee.select(["tapselect"]):ze||(fe.$(r).unmerge(Ee).unselect(["tapunselect"]),Ee.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var We=fe.collection(t.getAllInBox(ne[0],ne[1],ne[2],ne[3]));t.redrawHint("select",!0),We.length>0&&t.redrawHint("eles",!0),fe.emit({type:"boxend",originalEvent:I,position:{x:J[0],y:J[1]}});var He=function(ot){return ot.selectable()&&!ot.selected()};fe.selectionType()==="additive"||ze||fe.$(r).unmerge(We).unselect(),We.emit("box").stdFilter(He).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ne[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Fe=we&&we.grabbed();x(de),Fe&&(we.emit("freeon"),de.emit("free"),t.dragData.didDrag&&(we.emit("dragfreeon"),de.emit("dragfree")))}}ne[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var K=function(I){if(!t.scrollingPage){var j=t.cy,fe=j.zoom(),J=j.pan(),ne=t.projectIntoViewport(I.clientX,I.clientY),Ee=[ne[0]*fe+J.x,ne[1]*fe+J.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||A()){I.preventDefault();return}if(j.panningEnabled()&&j.userPanningEnabled()&&j.zoomingEnabled()&&j.userZoomingEnabled()){I.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var de;I.deltaY!=null?de=I.deltaY/-250:I.wheelDeltaY!=null?de=I.wheelDeltaY/1e3:de=I.wheelDelta/1e3,de=de*t.wheelSensitivity;var we=I.deltaMode===1;we&&(de*=33);var ze=j.zoom()*Math.pow(10,de);I.type==="gesturechange"&&(ze=t.gestureStartZoom*I.scale),j.zoom({level:ze,renderedPosition:{x:Ee[0],y:Ee[1]}}),j.emit(I.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",K,!0),t.registerBinding(e,"scroll",function(I){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(I){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||I.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(ve){t.hasTouchStarted||K(ve)},!0),t.registerBinding(t.container,"mouseout",function(I){var j=t.projectIntoViewport(I.clientX,I.clientY);t.cy.emit({originalEvent:I,type:"mouseout",position:{x:j[0],y:j[1]}})},!1),t.registerBinding(t.container,"mouseover",function(I){var j=t.projectIntoViewport(I.clientX,I.clientY);t.cy.emit({originalEvent:I,type:"mouseover",position:{x:j[0],y:j[1]}})},!1);var W,H,$,G,X,M,V,te,ae,se,oe,ce,ue,Z=function(I,j,fe,J){return Math.sqrt((fe-I)*(fe-I)+(J-j)*(J-j))},Q=function(I,j,fe,J){return(fe-I)*(fe-I)+(J-j)*(J-j)},le;t.registerBinding(t.container,"touchstart",le=function(I){if(t.hasTouchStarted=!0,!!z(I)){T(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var j=t.cy,fe=t.touchData.now,J=t.touchData.earlier;if(I.touches[0]){var ne=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);fe[0]=ne[0],fe[1]=ne[1]}if(I.touches[1]){var ne=t.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);fe[2]=ne[0],fe[3]=ne[1]}if(I.touches[2]){var ne=t.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);fe[4]=ne[0],fe[5]=ne[1]}if(I.touches[1]){t.touchData.singleTouchMoved=!0,x(t.dragData.touchDragEles);var Ee=t.findContainerClientCoords();ae=Ee[0],se=Ee[1],oe=Ee[2],ce=Ee[3],W=I.touches[0].clientX-ae,H=I.touches[0].clientY-se,$=I.touches[1].clientX-ae,G=I.touches[1].clientY-se,ue=0<=W&&W<=oe&&0<=$&&$<=oe&&0<=H&&H<=ce&&0<=G&&G<=ce;var de=j.pan(),we=j.zoom();X=Z(W,H,$,G),M=Q(W,H,$,G),V=[(W+$)/2,(H+G)/2],te=[(V[0]-de.x)/we,(V[1]-de.y)/we];var ze=200,Ke=ze*ze;if(M<Ke&&!I.touches[2]){var Re=t.findNearestElement(fe[0],fe[1],!0,!0),We=t.findNearestElement(fe[2],fe[3],!0,!0);Re&&Re.isNode()?(Re.activate().emit({originalEvent:I,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=Re):We&&We.isNode()?(We.activate().emit({originalEvent:I,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start=We):j.emit({originalEvent:I,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(I.touches[2])j.boxSelectionEnabled()&&I.preventDefault();else if(!I.touches[1]){if(I.touches[0]){var He=t.findNearestElements(fe[0],fe[1],!0,!0),Fe=He[0];if(Fe!=null&&(Fe.activate(),t.touchData.start=Fe,t.touchData.starts=He,t.nodeIsGrabbable(Fe))){var Je=t.dragData.touchDragEles=j.collection(),ot=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Fe.selected()?(ot=j.$(function(Rt){return Rt.selected()&&t.nodeIsGrabbable(Rt)}),S(ot,{addToList:Je})):E(Fe,{addToList:Je}),h(Fe);var tr=function(Nt){return{originalEvent:I,type:Nt,position:{x:fe[0],y:fe[1]}}};Fe.emit(tr("grabon")),ot?ot.forEach(function(Rt){Rt.emit(tr("grab"))}):Fe.emit(tr("grab"))}i(Fe,["touchstart","tapstart","vmousedown"],I,{x:fe[0],y:fe[1]}),Fe==null&&(t.data.bgActivePosistion={x:ne[0],y:ne[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&i(t.touchData.start,["taphold"],I,{x:fe[0],y:fe[1]})},t.tapholdDuration)}}if(I.touches.length>=1){for(var rr=t.touchData.startPosition=[null,null,null,null,null,null],Tt=0;Tt<fe.length;Tt++)rr[Tt]=J[Tt]=fe[Tt];var Dt=I.touches[0];t.touchData.startGPosition=[Dt.clientX,Dt.clientY]}}},!1);var pe;t.registerBinding(e,"touchmove",pe=function(I){var j=t.touchData.capture;if(!(!j&&!z(I))){var fe=t.selection,J=t.cy,ne=t.touchData.now,Ee=t.touchData.earlier,de=J.zoom();if(I.touches[0]){var we=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);ne[0]=we[0],ne[1]=we[1]}if(I.touches[1]){var we=t.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);ne[2]=we[0],ne[3]=we[1]}if(I.touches[2]){var we=t.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);ne[4]=we[0],ne[5]=we[1]}var ze=t.touchData.startGPosition,Ke;if(j&&I.touches[0]&&ze){for(var Re=[],We=0;We<ne.length;We++)Re[We]=ne[We]-Ee[We];var He=I.touches[0].clientX-ze[0],Fe=He*He,Je=I.touches[0].clientY-ze[1],ot=Je*Je,tr=Fe+ot;Ke=tr>=t.touchTapThreshold2}if(j&&t.touchData.cxt){I.preventDefault();var rr=I.touches[0].clientX-ae,Tt=I.touches[0].clientY-se,Dt=I.touches[1].clientX-ae,Rt=I.touches[1].clientY-se,Nt=Q(rr,Tt,Dt,Rt),Ut=Nt/M,nr=150,ar=nr*nr,ir=1.5,Yr=ir*ir;if(Ut>=Yr||Nt>=ar){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var gr={originalEvent:I,type:"cxttapend",position:{x:ne[0],y:ne[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(gr),t.touchData.start=null):J.emit(gr)}}if(j&&t.touchData.cxt){var gr={originalEvent:I,type:"cxtdrag",position:{x:ne[0],y:ne[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(gr):J.emit(gr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Bt=t.findNearestElement(ne[0],ne[1],!0,!0);(!t.touchData.cxtOver||Bt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:I,type:"cxtdragout",position:{x:ne[0],y:ne[1]}}),t.touchData.cxtOver=Bt,Bt&&Bt.emit({originalEvent:I,type:"cxtdragover",position:{x:ne[0],y:ne[1]}}))}else if(j&&I.touches[2]&&J.boxSelectionEnabled())I.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||J.emit({originalEvent:I,type:"boxstart",position:{x:ne[0],y:ne[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,fe[4]=1,!fe||fe.length===0||fe[0]===void 0?(fe[0]=(ne[0]+ne[2]+ne[4])/3,fe[1]=(ne[1]+ne[3]+ne[5])/3,fe[2]=(ne[0]+ne[2]+ne[4])/3+1,fe[3]=(ne[1]+ne[3]+ne[5])/3+1):(fe[2]=(ne[0]+ne[2]+ne[4])/3,fe[3]=(ne[1]+ne[3]+ne[5])/3),t.redrawHint("select",!0),t.redraw();else if(j&&I.touches[1]&&!t.touchData.didSelect&&J.zoomingEnabled()&&J.panningEnabled()&&J.userZoomingEnabled()&&J.userPanningEnabled()){I.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var xt=t.dragData.touchDragEles;if(xt){t.redrawHint("drag",!0);for(var $t=0;$t<xt.length;$t++){var qa=xt[$t]._private;qa.grabbed=!1,qa.rscratch.inDragLayer=!1}}var Fr=t.touchData.start,rr=I.touches[0].clientX-ae,Tt=I.touches[0].clientY-se,Dt=I.touches[1].clientX-ae,Rt=I.touches[1].clientY-se,ds=Z(rr,Tt,Dt,Rt),wn=ds/X;if(ue){var vs=rr-W,hs=Tt-H,ku=Dt-$,ps=Rt-G,gs=(vs+ku)/2,ys=(hs+ps)/2,In=J.zoom(),Hi=In*wn,Ga=J.pan(),mt=te[0]*In+Ga.x,ms=te[1]*In+Ga.y,Ki={x:-Hi/In*(mt-Ga.x-gs)+mt,y:-Hi/In*(ms-Ga.y-ys)+ms};if(Fr&&Fr.active()){var xt=t.dragData.touchDragEles;x(xt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Fr.unactivate().emit("freeon"),xt.emit("free"),t.dragData.didDrag&&(Fr.emit("dragfreeon"),xt.emit("dragfree"))}J.viewport({zoom:Hi,pan:Ki,cancelOnFailedZoom:!0}),J.emit("pinchzoom"),X=ds,W=rr,H=Tt,$=Dt,G=Rt,t.pinching=!0}if(I.touches[0]){var we=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);ne[0]=we[0],ne[1]=we[1]}if(I.touches[1]){var we=t.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);ne[2]=we[0],ne[3]=we[1]}if(I.touches[2]){var we=t.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);ne[4]=we[0],ne[5]=we[1]}}else if(I.touches[0]&&!t.touchData.didSelect){var Er=t.touchData.start,On=t.touchData.last,Bt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Bt=t.findNearestElement(ne[0],ne[1],!0,!0)),j&&Er!=null&&I.preventDefault(),j&&Er!=null&&t.nodeIsDraggable(Er))if(Ke){var xt=t.dragData.touchDragEles,ws=!t.dragData.didDrag;ws&&S(xt,{inDragLayer:!0}),t.dragData.didDrag=!0;var zn={x:0,y:0};if(xe(Re[0])&&xe(Re[1])&&(zn.x+=Re[0],zn.y+=Re[1],ws)){t.redrawHint("eles",!0);var or=t.touchData.dragDelta;or&&xe(or[0])&&xe(or[1])&&(zn.x+=or[0],zn.y+=or[1])}t.hoverData.draggingEles=!0,xt.silentShift(zn).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ee[0]&&t.touchData.startPosition[1]==Ee[1]&&t.redrawHint("eles",!0),t.redraw()}else{var or=t.touchData.dragDelta=t.touchData.dragDelta||[];or.length===0?(or.push(Re[0]),or.push(Re[1])):(or[0]+=Re[0],or[1]+=Re[1])}if(i(Er||Bt,["touchmove","tapdrag","vmousemove"],I,{x:ne[0],y:ne[1]}),(!Er||!Er.grabbed())&&Bt!=On&&(On&&On.emit({originalEvent:I,type:"tapdragout",position:{x:ne[0],y:ne[1]}}),Bt&&Bt.emit({originalEvent:I,type:"tapdragover",position:{x:ne[0],y:ne[1]}})),t.touchData.last=Bt,j)for(var $t=0;$t<ne.length;$t++)ne[$t]&&t.touchData.startPosition[$t]&&Ke&&(t.touchData.singleTouchMoved=!0);if(j&&(Er==null||Er.pannable())&&J.panningEnabled()&&J.userPanningEnabled()){var _r=l(Er,t.touchData.starts);_r&&(I.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=Ci(t.touchData.startPosition)),t.swipePanning?(J.panBy({x:Re[0]*de,y:Re[1]*de}),J.emit("dragpan")):Ke&&(t.swipePanning=!0,J.panBy({x:He*de,y:Je*de}),J.emit("dragpan"),Er&&(Er.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var we=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);ne[0]=we[0],ne[1]=we[1]}}for(var We=0;We<ne.length;We++)Ee[We]=ne[We];j&&I.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Se;t.registerBinding(e,"touchcancel",Se=function(I){var j=t.touchData.start;t.touchData.capture=!1,j&&j.unactivate()});var Te,Xe,nt,je;if(t.registerBinding(e,"touchend",Te=function(I){var j=t.touchData.start,fe=t.touchData.capture;if(fe)I.touches.length===0&&(t.touchData.capture=!1),I.preventDefault();else return;var J=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ne=t.cy,Ee=ne.zoom(),de=t.touchData.now,we=t.touchData.earlier;if(I.touches[0]){var ze=t.projectIntoViewport(I.touches[0].clientX,I.touches[0].clientY);de[0]=ze[0],de[1]=ze[1]}if(I.touches[1]){var ze=t.projectIntoViewport(I.touches[1].clientX,I.touches[1].clientY);de[2]=ze[0],de[3]=ze[1]}if(I.touches[2]){var ze=t.projectIntoViewport(I.touches[2].clientX,I.touches[2].clientY);de[4]=ze[0],de[5]=ze[1]}j&&j.unactivate();var Ke;if(t.touchData.cxt){if(Ke={originalEvent:I,type:"cxttapend",position:{x:de[0],y:de[1]}},j?j.emit(Ke):ne.emit(Ke),!t.touchData.cxtDragged){var Re={originalEvent:I,type:"cxttap",position:{x:de[0],y:de[1]}};j?j.emit(Re):ne.emit(Re)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!I.touches[2]&&ne.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var We=ne.collection(t.getAllInBox(J[0],J[1],J[2],J[3]));J[0]=void 0,J[1]=void 0,J[2]=void 0,J[3]=void 0,J[4]=0,t.redrawHint("select",!0),ne.emit({type:"boxend",originalEvent:I,position:{x:de[0],y:de[1]}});var He=function(ar){return ar.selectable()&&!ar.selected()};We.emit("box").stdFilter(He).select().emit("boxselect"),We.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(j!=null&&j.unactivate(),I.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!I.touches[1]){if(!I.touches[0]){if(!I.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Fe=t.dragData.touchDragEles;if(j!=null){var Je=j._private.grabbed;x(Fe),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Je&&(j.emit("freeon"),Fe.emit("free"),t.dragData.didDrag&&(j.emit("dragfreeon"),Fe.emit("dragfree"))),i(j,["touchend","tapend","vmouseup","tapdragout"],I,{x:de[0],y:de[1]}),j.unactivate(),t.touchData.start=null}else{var ot=t.findNearestElement(de[0],de[1],!0,!0);i(ot,["touchend","tapend","vmouseup","tapdragout"],I,{x:de[0],y:de[1]})}var tr=t.touchData.startPosition[0]-de[0],rr=tr*tr,Tt=t.touchData.startPosition[1]-de[1],Dt=Tt*Tt,Rt=rr+Dt,Nt=Rt*Ee*Ee;t.touchData.singleTouchMoved||(j||ne.$(":selected").unselect(["tapunselect"]),i(j,["tap","vclick"],I,{x:de[0],y:de[1]}),Xe=!1,I.timeStamp-je<=ne.multiClickDebounceTime()?(nt&&clearTimeout(nt),Xe=!0,je=null,i(j,["dbltap","vdblclick"],I,{x:de[0],y:de[1]})):(nt=setTimeout(function(){Xe||i(j,["onetap","voneclick"],I,{x:de[0],y:de[1]})},ne.multiClickDebounceTime()),je=I.timeStamp)),j!=null&&!t.dragData.didDrag&&j._private.selectable&&Nt<t.touchTapThreshold2&&!t.pinching&&(ne.selectionType()==="single"?(ne.$(r).unmerge(j).unselect(["tapunselect"]),j.select(["tapselect"])):j.selected()?j.unselect(["tapunselect"]):j.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Ut=0;Ut<de.length;Ut++)we[Ut]=de[Ut];t.dragData.didDrag=!1,I.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),I.touches.length<2&&(I.touches.length===1&&(t.touchData.startGPosition=[I.touches[0].clientX,I.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var ke=[],Ce=function(I){return{clientX:I.clientX,clientY:I.clientY,force:1,identifier:I.pointerId,pageX:I.pageX,pageY:I.pageY,radiusX:I.width/2,radiusY:I.height/2,screenX:I.screenX,screenY:I.screenY,target:I.target}},Ne=function(I){return{event:I,touch:Ce(I)}},Ie=function(I){ke.push(Ne(I))},Oe=function(I){for(var j=0;j<ke.length;j++){var fe=ke[j];if(fe.event.pointerId===I.pointerId){ke.splice(j,1);return}}},$e=function(I){var j=ke.filter(function(fe){return fe.event.pointerId===I.pointerId})[0];j.event=I,j.touch=Ce(I)},Ge=function(I){I.touches=ke.map(function(j){return j.touch})},Ye=function(I){return I.pointerType==="mouse"||I.pointerType===4};t.registerBinding(t.container,"pointerdown",function(ve){Ye(ve)||(ve.preventDefault(),Ie(ve),Ge(ve),le(ve))}),t.registerBinding(t.container,"pointerup",function(ve){Ye(ve)||(Oe(ve),Ge(ve),Te(ve))}),t.registerBinding(t.container,"pointercancel",function(ve){Ye(ve)||(Oe(ve),Ge(ve),Se(ve))}),t.registerBinding(t.container,"pointermove",function(ve){Ye(ve)||(ve.preventDefault(),$e(ve),Ge(ve),pe(ve))})}};var Mn={};Mn.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,s,l,u,f){this.renderer.nodeShapeImpl("polygon",n,i,s,l,u,this.points)},intersectLine:function(n,i,s,l,u,f,c,v){return Qo(u,f,this.points,n,i,s/2,l/2,c)},checkPoint:function(n,i,s,l,u,f,c,v){return An(n,i,this.points,f,c,l,u,[0,-1],s)}}};Mn.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,s,l){this.renderer.nodeShapeImpl(this.name,e,r,n,i,s)},intersectLine:function(e,r,n,i,s,l,u,f){return Ex(s,l,e,r,n/2+u,i/2+u)},checkPoint:function(e,r,n,i,s,l,u,f){return Oa(e,r,i,s,l,u,n)}}};Mn.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,i,s,l,u,f,c){if(f[c]!==void 0&&f[c+"-cx"]===n&&f[c+"-cy"]===i)return f[c];f[c]=new Array(e.length/2),f[c+"-cx"]=n,f[c+"-cy"]=i;var v=s/2,h=l/2;u=u==="auto"?Xg(s,l):u;for(var g=new Array(e.length/2),m=0;m<e.length/2;m++)g[m]={x:n+v*e[m*2],y:i+h*e[m*2+1]};var y,S,E,x,C=g.length;for(S=g[C-1],y=0;y<C;y++)E=g[y%C],x=g[(y+1)%C],f[c][y]=pd(S,E,x,u),S=E,E=x;return f[c]},draw:function(n,i,s,l,u,f,c){this.renderer.nodeShapeImpl("round-polygon",n,i,s,l,u,this.points,this.getOrCreateCorners(i,s,l,u,f,c,"drawCorners"))},intersectLine:function(n,i,s,l,u,f,c,v,h){return Sx(u,f,this.points,n,i,s,l,c,this.getOrCreateCorners(n,i,s,l,v,h,"corners"))},checkPoint:function(n,i,s,l,u,f,c,v,h){return xx(n,i,this.points,f,c,l,u,this.getOrCreateCorners(f,c,l,u,v,h,"corners"))}}};Mn.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:wr(4,0),draw:function(e,r,n,i,s,l){this.renderer.nodeShapeImpl(this.name,e,r,n,i,s,this.points,l)},intersectLine:function(e,r,n,i,s,l,u,f){return qg(s,l,e,r,n,i,u,f)},checkPoint:function(e,r,n,i,s,l,u,f){var c=i/2,v=s/2;f=f==="auto"?_a(i,s):f,f=Math.min(c,v,f);var h=f*2;return!!(An(e,r,this.points,l,u,i,s-h,[0,-1],n)||An(e,r,this.points,l,u,i-h,s,[0,-1],n)||Oa(e,r,h,h,l-c+f,u-v+f,n)||Oa(e,r,h,h,l+c-f,u-v+f,n)||Oa(e,r,h,h,l+c-f,u+v-f,n)||Oa(e,r,h,h,l-c+f,u+v-f,n))}}};Mn.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:nd(),points:wr(4,0),draw:function(e,r,n,i,s,l){this.renderer.nodeShapeImpl(this.name,e,r,n,i,s,null,l)},generateCutTrianglePts:function(e,r,n,i,s){var l=s==="auto"?this.cornerLength:s,u=r/2,f=e/2,c=n-f,v=n+f,h=i-u,g=i+u;return{topLeft:[c,h+l,c+l,h,c+l,h+l],topRight:[v-l,h,v,h+l,v-l,h+l],bottomRight:[v,g-l,v-l,g,v-l,g-l],bottomLeft:[c+l,g,c,g-l,c+l,g-l]}},intersectLine:function(e,r,n,i,s,l,u,f){var c=this.generateCutTrianglePts(n+2*u,i+2*u,e,r,f),v=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return Qo(s,l,v,e,r)},checkPoint:function(e,r,n,i,s,l,u,f){var c=f==="auto"?this.cornerLength:f;if(An(e,r,this.points,l,u,i,s-2*c,[0,-1],n)||An(e,r,this.points,l,u,i-2*c,s,[0,-1],n))return!0;var v=this.generateCutTrianglePts(i,s,l,u);return Dr(e,r,v.topLeft)||Dr(e,r,v.topRight)||Dr(e,r,v.bottomRight)||Dr(e,r,v.bottomLeft)}}};Mn.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:wr(4,0),draw:function(e,r,n,i,s,l){this.renderer.nodeShapeImpl(this.name,e,r,n,i,s)},intersectLine:function(e,r,n,i,s,l,u,f){var c=.15,v=.5,h=.85,g=this.generateBarrelBezierPts(n+2*u,i+2*u,e,r),m=function(E){var x=ki({x:E[0],y:E[1]},{x:E[2],y:E[3]},{x:E[4],y:E[5]},c),C=ki({x:E[0],y:E[1]},{x:E[2],y:E[3]},{x:E[4],y:E[5]},v),T=ki({x:E[0],y:E[1]},{x:E[2],y:E[3]},{x:E[4],y:E[5]},h);return[E[0],E[1],x.x,x.y,C.x,C.y,T.x,T.y,E[4],E[5]]},y=[].concat(m(g.topLeft),m(g.topRight),m(g.bottomRight),m(g.bottomLeft));return Qo(s,l,y,e,r)},generateBarrelBezierPts:function(e,r,n,i){var s=r/2,l=e/2,u=n-l,f=n+l,c=i-s,v=i+s,h=Mc(e,r),g=h.heightOffset,m=h.widthOffset,y=h.ctrlPtOffsetPct*e,S={topLeft:[u,c+g,u+y,c,u+m,c],topRight:[f-m,c,f-y,c,f,c+g],bottomRight:[f,v-g,f-y,v,f-m,v],bottomLeft:[u+m,v,u+y,v,u,v-g]};return S.topLeft.isTop=!0,S.topRight.isTop=!0,S.bottomLeft.isBottom=!0,S.bottomRight.isBottom=!0,S},checkPoint:function(e,r,n,i,s,l,u,f){var c=Mc(i,s),v=c.heightOffset,h=c.widthOffset;if(An(e,r,this.points,l,u,i,s-2*v,[0,-1],n)||An(e,r,this.points,l,u,i-2*h,s,[0,-1],n))return!0;for(var g=this.generateBarrelBezierPts(i,s,l,u),m=function(L,A,z){var O=z[4],N=z[2],_=z[0],F=z[5],K=z[1],W=Math.min(O,_),H=Math.max(O,_),$=Math.min(F,K),G=Math.max(F,K);if(W<=L&&L<=H&&$<=A&&A<=G){var X=bx(O,N,_),M=gx(X[0],X[1],X[2],L),V=M.filter(function(te){return 0<=te&&te<=1});if(V.length>0)return V[0]}return null},y=Object.keys(g),S=0;S<y.length;S++){var E=y[S],x=g[E],C=m(e,r,x);if(C!=null){var T=x[5],k=x[3],B=x[1],R=qt(T,k,B,C);if(x.isTop&&R<=r||x.isBottom&&r<=R)return!0}}return!1}}};Mn.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:wr(4,0),draw:function(e,r,n,i,s,l){this.renderer.nodeShapeImpl(this.name,e,r,n,i,s,this.points,l)},intersectLine:function(e,r,n,i,s,l,u,f){var c=e-(n/2+u),v=r-(i/2+u),h=v,g=e+(n/2+u),m=oa(s,l,e,r,c,v,g,h,!1);return m.length>0?m:qg(s,l,e,r,n,i,u,f)},checkPoint:function(e,r,n,i,s,l,u,f){f=f==="auto"?_a(i,s):f;var c=2*f;if(An(e,r,this.points,l,u,i,s-c,[0,-1],n)||An(e,r,this.points,l,u,i-c,s,[0,-1],n))return!0;var v=i/2+2*n,h=s/2+2*n,g=[l-v,u-h,l-v,u,l+v,u,l+v,u-h];return!!(Dr(e,r,g)||Oa(e,r,c,c,l+i/2-f,u+s/2-f,n)||Oa(e,r,c,c,l-i/2+f,u+s/2-f,n))}}};Mn.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",wr(3,0)),this.generateRoundPolygon("round-triangle",wr(3,0)),this.generatePolygon("rectangle",wr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",wr(5,0)),this.generateRoundPolygon("round-pentagon",wr(5,0)),this.generatePolygon("hexagon",wr(6,0)),this.generateRoundPolygon("round-hexagon",wr(6,0)),this.generatePolygon("heptagon",wr(7,0)),this.generateRoundPolygon("round-heptagon",wr(7,0)),this.generatePolygon("octagon",wr(8,0)),this.generateRoundPolygon("round-octagon",wr(8,0));var n=new Array(20);{var i=Lc(5,0),s=Lc(5,Math.PI/5),l=.5*(3-Math.sqrt(5));l*=1.57;for(var u=0;u<s.length/2;u++)s[u*2]*=l,s[u*2+1]*=l;for(var u=0;u<20/4;u++)n[u*4]=i[u*2],n[u*4+1]=i[u*2+1],n[u*4+2]=s[u*2],n[u*4+3]=s[u*2+1]}n=Gg(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var f=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",f),this.generateRoundPolygon("round-tag",f)}t.makePolygon=function(c){var v=c.join("$"),h="polygon-"+v,g;return(g=this[h])?g:e.generatePolygon(h,c)}};var fs={};fs.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};fs.redraw=function(t){t=t||Ug();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};fs.beforeRender=function(t,e){if(!this.destroyed){e==null&&bt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var ig=function(e,r,n){for(var i=e.beforeRenderCallbacks,s=0;s<i.length;s++)i[s].fn(r,n)};fs.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){ig(t,!0,i);var s=Bn();t.render(t.renderOptions);var l=t.lastDrawTime=Bn();t.averageRedrawTime===void 0&&(t.averageRedrawTime=l-s),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var u=l-s;t.redrawTotalTime+=u,t.lastRedrawTime=u,t.averageRedrawTime=t.averageRedrawTime/2+u/2,t.requestedFrame=!1}else ig(t,!1,i);t.skipFrame=!1,jl(n)}};jl(r)}};var rC=function(e){this.init(e)},qy=rC,$i=qy.prototype;$i.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];$i.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var i=n.document,s=i.head,l="__________cytoscape_stylesheet",u="__________cytoscape_container",f=i.getElementById(l)!=null;if(r.className.indexOf(u)<0&&(r.className=(r.className||"")+" "+u),!f){var c=i.createElement("style");c.id=l,c.textContent="."+u+" { position: relative; }",s.insertBefore(c,s.children[0])}var v=n.getComputedStyle(r),h=v.getPropertyValue("position");h==="static"&&lt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=xe(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};$i.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};$i.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};$i.isHeadless=function(){return!1};[hd,Hy,Ky,Ui,Mn,fs].forEach(function(t){Ue($i,t)});var kc=1e3/60,Gy={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var s=is(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),l=function(c,v){var h=Bn(),g=i.averageRedrawTime,m=i.lastRedrawTime,y=[],S=i.cy.extent(),E=i.getPixelRatio();for(c||i.flushRenderedStyleQueue();;){var x=Bn(),C=x-h,T=x-v;if(m<kc){var k=kc-(c?g:0);if(T>=e.deqFastCost*k)break}else if(c){if(C>=e.deqCost*m||C>=e.deqAvgCost*g)break}else if(T>=e.deqNoDrawCost*kc)break;var B=e.deq(n,E,S);if(B.length>0)for(var R=0;R<B.length;R++)y.push(B[R]);else break}y.length>0&&(e.onDeqd(n,y),!c&&e.shouldRedraw(n,y,E,S)&&s())},u=e.priority||Jc;i.beforeRender(l,u(n))}}}},nC=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jl;pa(this,t),this.idsByKey=new pn,this.keyForId=new pn,this.cachesByLvl=new pn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return ga(t,[{key:"getIdsFor",value:function(r){r==null&&bt("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new Ni,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),s=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(s,n),this.keyForId.set(n,s)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),s=this.getKey(r);return i!==s}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,s=n.get(r);return s||(s=new pn,n.set(r,s),i.push(r)),s}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),s=this.getCache(i,n);return s!=null&&this.updateKeyMappingFor(r),s}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),s=this.getCache(i,n);return s}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var s=this.getKey(r);this.setCache(s,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var s=this.doesEleInvalidateKey(r);return s&&this.invalidateKey(i),s||this.getNumberOfIdsForKey(i)===0}}]),t}(),og=25,Il=50,Ql=-4,Hc=3,Xy=7.99,aC=8,iC=1024,oC=1024,sC=1024,lC=.2,uC=.8,fC=10,cC=.15,dC=.1,vC=.9,hC=.9,pC=100,gC=1,Ti={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},yC=Xt({getKey:null,doesEleInvalidateKey:Jl,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Fg,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Vo=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=yC(r);Ue(n,i),n.lookup=new nC(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},Vt=Vo.prototype;Vt.reasons=Ti;Vt.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Vt.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Vt.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new os(function(r,n){return n.reqs-r.reqs});return e};Vt.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Vt.getElement=function(t,e,r,n,i){var s=this,l=this.renderer,u=l.cy.zoom(),f=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!s.allowEdgeTxrCaching&&t.isEdge()||!s.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(td(u*r))),n<Ql)n=Ql;else if(u>=Xy||n>Hc)return null;var c=Math.pow(2,n),v=e.h*c,h=e.w*c,g=l.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,g))return null;var m=f.get(t,n);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;var y;if(v<=og?y=og:v<=Il?y=Il:y=Math.ceil(v/Il)*Il,v>sC||h>oC)return null;var S=s.getTextureQueue(y),E=S[S.length-2],x=function(){return s.recycleTexture(y,h)||s.addTexture(y,h)};E||(E=S[S.length-1]),E||(E=x()),E.width-E.usedWidth<h&&(E=x());for(var C=function(W){return W&&W.scaledLabelShown===g},T=i&&i===Ti.dequeue,k=i&&i===Ti.highQuality,B=i&&i===Ti.downscale,R,P=n+1;P<=Hc;P++){var L=f.get(t,P);if(L){R=L;break}}var A=R&&R.level===n+1?R:null,z=function(){E.context.drawImage(A.texture.canvas,A.x,0,A.width,A.height,E.usedWidth,0,h,v)};if(E.context.setTransform(1,0,0,1,0,0),E.context.clearRect(E.usedWidth,0,h,y),C(A))z();else if(C(R))if(k){for(var O=R.level;O>n;O--)A=s.getElement(t,e,r,O,Ti.downscale);z()}else return s.queueElement(t,R.level-1),R;else{var N;if(!T&&!k&&!B)for(var _=n-1;_>=Ql;_--){var F=f.get(t,_);if(F){N=F;break}}if(C(N))return s.queueElement(t,n),N;E.context.translate(E.usedWidth,0),E.context.scale(c,c),this.drawElement(E.context,t,e,g,!1),E.context.scale(1/c,1/c),E.context.translate(-E.usedWidth,0)}return m={x:E.usedWidth,texture:E,level:n,scale:c,width:h,height:v,scaledLabelShown:g},E.usedWidth+=Math.ceil(h+aC),E.eleCaches.push(m),f.set(t,n,m),s.checkTextureFullness(E),m};Vt.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Vt.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var s=Ql;s<=Hc;s++){var l=r.getForCachedKey(t,s);l&&n.push(l)}var u=r.invalidate(t);if(u)for(var f=0;f<n.length;f++){var c=n[f],v=c.texture;v.invalidatedWidth+=c.width,c.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(t)}};Vt.checkTextureUtility=function(t){t.invalidatedWidth>=lC*t.width&&this.retireTexture(t)};Vt.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>uC&&t.fullnessChecks>=fC?ca(r,t):t.fullnessChecks++};Vt.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;ca(n,t),t.retired=!0;for(var s=t.eleCaches,l=0;l<s.length;l++){var u=s[l];i.deleteCache(u.key,u.level)}ed(s);var f=e.getRetiredTextureQueue(r);f.push(t)};Vt.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(iC,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Vt.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),s=0;s<i.length;s++){var l=i[s];if(l.width>=e)return l.retired=!1,l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,ed(l.eleCaches),l.context.setTransform(1,0,0,1,0,0),l.context.clearRect(0,0,l.width,l.height),ca(i,l),n.push(l),l}};Vt.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),s=this.getKey(t),l=i[s];if(l)l.level=Math.max(l.level,e),l.eles.merge(t),l.reqs++,n.updateItem(l);else{var u={eles:t.spawn().merge(t),level:e,reqs:1,key:s};n.push(u),i[s]=u}};Vt.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],s=e.lookup,l=0;l<gC&&r.size()>0;l++){var u=r.pop(),f=u.key,c=u.eles[0],v=s.hasCache(c,u.level);if(n[f]=null,v)continue;i.push(u);var h=e.getBoundingBox(c);e.getElement(c,h,t,u.level,Ti.dequeue)}return i};Vt.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),s=n[i];s!=null&&(s.eles.length===1?(s.reqs=jc,r.updateItem(s),r.pop(),n[i]=null):s.eles.unmerge(t))};Vt.onDequeue=function(t){this.onDequeues.push(t)};Vt.offDequeue=function(t){ca(this.onDequeues,t)};Vt.setupDequeueing=Gy.setupDequeueing({deqRedrawThreshold:pC,deqCost:cC,deqAvgCost:dC,deqNoDrawCost:vC,deqFastCost:hC,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var s=0;s<r.length;s++)for(var l=r[s].eles,u=0;u<l.length;u++){var f=l[u].boundingBox();if(rd(f,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var mC=1,$o=-4,su=2,wC=3.99,xC=50,EC=50,SC=.15,bC=.1,CC=.9,TC=.9,kC=1,sg=250,PC=4e3*4e3,lg=32767,DC=!0,Yy=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Bn()-2*sg,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=is(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},EC),n.beforeRender(function(l,u){u-r.lastInvalidationTime<=sg?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var s=function(u,f){return f.reqs-u.reqs};r.layersQueue=new os(s),r.setupDequeueing()},er=Yy.prototype,ug=0,RC=Math.pow(2,53)-1;er.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),s=this.renderer.makeOffscreenCanvas(n,i),l={id:ug=++ug%RC,bb:t,level:e,width:n,height:i,canvas:s,context:s.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=l.context,f=-l.bb.x1,c=-l.bb.y1;return u.scale(r,r),u.translate(f,c),l};er.getLayers=function(t,e,r){var n=this,i=n.renderer,s=i.cy,l=s.zoom(),u=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(td(l*e)),r<$o)r=$o;else if(l>=wC||r>su)return null}n.validateLayersElesOrdering(r,t);var f=n.layersByLevel,c=Math.pow(2,r),v=f[r]=f[r]||[],h,g=n.levelIsComplete(r,t),m,y=function(){var z=function(K){if(n.validateLayersElesOrdering(K,t),n.levelIsComplete(K,t))return m=f[K],!0},O=function(K){if(!m)for(var W=r+K;$o<=W&&W<=su&&!z(W);W+=K);};O(1),O(-1);for(var N=v.length-1;N>=0;N--){var _=v[N];_.invalid&&ca(v,_)}};if(!g)y();else return v;var S=function(){if(!h){h=Rr();for(var z=0;z<t.length;z++)Hg(h,t[z].boundingBox())}return h},E=function(z){z=z||{};var O=z.after;S();var N=Math.ceil(h.w*c),_=Math.ceil(h.h*c);if(N>lg||_>lg)return null;var F=N*_;if(F>PC)return null;var K=n.makeLayer(h,r);if(O!=null){var W=v.indexOf(O)+1;v.splice(W,0,K)}else(z.insert===void 0||z.insert)&&v.unshift(K);return K};if(n.skipping&&!u)return null;for(var x=null,C=t.length/mC,T=!u,k=0;k<t.length;k++){var B=t[k],R=B._private.rscratch,P=R.imgLayerCaches=R.imgLayerCaches||{},L=P[r];if(L){x=L;continue}if((!x||x.eles.length>=C||!Kg(x.bb,B.boundingBox()))&&(x=E({insert:!0,after:x}),!x))return null;m||T?n.queueLayer(x,B):n.drawEleInLayer(x,B,r,e),x.eles.push(B),P[r]=x}return m||(T?null:v)};er.getEleLevelForLayerLevel=function(t,e){return t};er.drawEleInLayer=function(t,e,r,n){var i=this,s=this.renderer,l=t.context,u=e.boundingBox();u.w===0||u.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),s.setImgSmoothing(l,!1),s.drawCachedElement(l,e,null,null,r,DC),s.setImgSmoothing(l,!0))};er.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,s=0;s<n.length;s++){var l=n[s];if(l.reqs>0||l.invalid)return!1;i+=l.eles.length}return i===e.length};er.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],s=-1,l=0;l<e.length;l++)if(i.eles[0]===e[l]){s=l;break}if(s<0){this.invalidateLayer(i);continue}for(var u=s,l=0;l<i.eles.length;l++)if(i.eles[l]!==e[u+l]){this.invalidateLayer(i);break}}};er.updateElementsInLayers=function(t,e){for(var r=this,n=ns(t[0]),i=0;i<t.length;i++)for(var s=n?null:t[i],l=n?t[i]:t[i].ele,u=l._private.rscratch,f=u.imgLayerCaches=u.imgLayerCaches||{},c=$o;c<=su;c++){var v=f[c];v&&(s&&r.getEleLevelForLayerLevel(v.level)!==s.level||e(v,l,s))}};er.haveLayers=function(){for(var t=this,e=!1,r=$o;r<=su;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};er.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Bn(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,s){e.invalidateLayer(n)}))};er.invalidateLayer=function(t){if(this.lastInvalidationTime=Bn(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];ca(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var s=r[i]._private.rscratch.imgLayerCaches;s&&(s[e]=null)}}};er.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,s){var l=n.replacement;if(l||(l=n.replacement=e.makeLayer(n.bb,n.level),l.replaces=n,l.eles=n.eles),!l.reqs)for(var u=0;u<l.eles.length;u++)e.queueLayer(l,l.eles[u])})};er.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};er.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,s=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(s[e.id()])return;i.push(e),s[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};er.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<kC&&r.size()!==0;){var s=r.peek();if(s.replacement){r.pop();continue}if(s.replaces&&s!==s.replaces.replacement){r.pop();continue}if(s.invalid){r.pop();continue}var l=s.elesQueue.shift();l&&(e.drawEleInLayer(s,l,s.level,t),i++),n.length===0&&n.push(!0),s.elesQueue.length===0&&(r.pop(),s.reqs=0,s.replaces&&e.applyLayerReplacement(s),e.requestRedraw())}return n};er.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var s=0;s<t.eles.length;s++){var l=t.eles[s]._private,u=l.imgLayerCaches=l.imgLayerCaches||{};u&&(u[t.level]=t)}e.requestRedraw()}};er.requestRedraw=is(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);er.setupDequeueing=Gy.setupDequeueing({deqRedrawThreshold:xC,deqCost:SC,deqAvgCost:bC,deqNoDrawCost:CC,deqFastCost:TC,deq:function(e,r){return e.dequeue(r)},onDeqd:Jc,shouldRedraw:Fg,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Qy={},fg;function BC(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function AC(t,e,r){for(var n,i=0;i<e.length;i++){var s=e[i];i===0&&(n=s),t.lineTo(s.x,s.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function cg(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var s=n[i];t.lineTo(s.x,s.y)}var l=r,u=r[0];t.moveTo(u.x,u.y);for(var i=1;i<l.length;i++){var s=l[i];t.lineTo(s.x,s.y)}t.closePath&&t.closePath()}function LC(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var s=e,l=s[0];t.moveTo(l.x,l.y);for(var u=0;u<s.length;u++){var f=s[u];t.lineTo(f.x,f.y)}t.closePath&&t.closePath()}function MC(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Qy.arrowShapeImpl=function(t){return(fg||(fg={polygon:BC,"triangle-backcurve":AC,"triangle-tee":cg,"circle-triangle":LC,"triangle-cross":cg,circle:MC}))[t]};var mn={};mn.drawElement=function(t,e,r,n,i,s){var l=this;e.isNode()?l.drawNode(t,e,r,n,i,s):l.drawEdge(t,e,r,n,i,s)};mn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};mn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};mn.drawCachedElementPortion=function(t,e,r,n,i,s,l,u){var f=this,c=r.getBoundingBox(e);if(!(c.w===0||c.h===0)){var v=r.getElement(e,c,n,i,s);if(v!=null){var h=u(f,e);if(h===0)return;var g=l(f,e),m=c.x1,y=c.y1,S=c.w,E=c.h,x,C,T,k,B;if(g!==0){var R=r.getRotationPoint(e);T=R.x,k=R.y,t.translate(T,k),t.rotate(g),B=f.getImgSmoothing(t),B||f.setImgSmoothing(t,!0);var P=r.getRotationOffset(e);x=P.x,C=P.y}else x=m,C=y;var L;h!==1&&(L=t.globalAlpha,t.globalAlpha=L*h),t.drawImage(v.texture.canvas,v.x,0,v.width,v.height,x,C,S,E),h!==1&&(t.globalAlpha=L),g!==0&&(t.rotate(-g),t.translate(-T,-k),B||f.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var NC=function(){return 0},IC=function(e,r){return e.getTextAngle(r,null)},OC=function(e,r){return e.getTextAngle(r,"source")},zC=function(e,r){return e.getTextAngle(r,"target")},FC=function(e,r){return r.effectiveOpacity()},Pc=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};mn.drawCachedElement=function(t,e,r,n,i,s){var l=this,u=l.data,f=u.eleTxrCache,c=u.lblTxrCache,v=u.slbTxrCache,h=u.tlbTxrCache,g=e.boundingBox(),m=s===!0?f.reasons.highQuality:null;if(!(g.w===0||g.h===0||!e.visible())&&(!n||rd(g,n))){var y=e.isEdge(),S=e.element()._private.rscratch.badLine;l.drawElementUnderlay(t,e),l.drawCachedElementPortion(t,e,f,r,i,m,NC,FC),(!y||!S)&&l.drawCachedElementPortion(t,e,c,r,i,m,IC,Pc),y&&!S&&(l.drawCachedElementPortion(t,e,v,r,i,m,OC,Pc),l.drawCachedElementPortion(t,e,h,r,i,m,zC,Pc)),l.drawElementOverlay(t,e)}};mn.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};mn.drawCachedElements=function(t,e,r,n){for(var i=this,s=0;s<e.length;s++){var l=e[s];i.drawCachedElement(t,l,r,n)}};mn.drawCachedNodes=function(t,e,r,n){for(var i=this,s=0;s<e.length;s++){var l=e[s];l.isNode()&&i.drawCachedElement(t,l,r,n)}};mn.drawLayeredElements=function(t,e,r,n){var i=this,s=i.data.lyrTxrCache.getLayers(e,r);if(s)for(var l=0;l<s.length;l++){var u=s[l],f=u.bb;f.w===0||f.h===0||t.drawImage(u.canvas,f.x1,f.y1,f.w,f.h)}else i.drawCachedElements(t,e,r,n)};var Nn={};Nn.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u=e._private.rscratch;if(!(s&&!e.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var f;r&&(f=r,t.translate(-f.x1,-f.y1));var c=s?e.pstyle("opacity").value:1,v=s?e.pstyle("line-opacity").value:1,h=e.pstyle("curve-style").value,g=e.pstyle("line-style").value,m=e.pstyle("width").pfValue,y=e.pstyle("line-cap").value,S=e.pstyle("line-outline-width").value,E=e.pstyle("line-outline-color").value,x=c*v,C=c*v,T=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;h==="straight-triangle"?(l.eleStrokeStyle(t,e,K),l.drawEdgeTrianglePath(e,t,u.allpts)):(t.lineWidth=m,t.lineCap=y,l.eleStrokeStyle(t,e,K),l.drawEdgePath(e,t,u.allpts,g),t.lineCap="butt")},k=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;if(t.lineWidth=m+S,t.lineCap=y,S>0)l.colorStrokeStyle(t,E[0],E[1],E[2],K);else{t.lineCap="butt";return}h==="straight-triangle"?l.drawEdgeTrianglePath(e,t,u.allpts):(l.drawEdgePath(e,t,u.allpts,g),t.lineCap="butt")},B=function(){i&&l.drawEdgeOverlay(t,e)},R=function(){i&&l.drawEdgeUnderlay(t,e)},P=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C;l.drawArrowheads(t,e,K)},L=function(){l.drawElementText(t,e,null,n)};t.lineJoin="round";var A=e.pstyle("ghost").value==="yes";if(A){var z=e.pstyle("ghost-offset-x").pfValue,O=e.pstyle("ghost-offset-y").pfValue,N=e.pstyle("ghost-opacity").value,_=x*N;t.translate(z,O),T(_),P(_),t.translate(-z,-O)}else k();R(),T(),P(),B(),L(),r&&t.translate(f.x1,f.y1)}};var Zy=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var s=this,l=s.usePaths(),u=n._private.rscratch,f=n.pstyle("".concat(e,"-padding")).pfValue,c=2*f,v=n.pstyle("".concat(e,"-color")).value;r.lineWidth=c,u.edgeType==="self"&&!l?r.lineCap="butt":r.lineCap="round",s.colorStrokeStyle(r,v[0],v[1],v[2],i),s.drawEdgePath(n,r,u.allpts,"solid")}}}};Nn.drawEdgeOverlay=Zy("overlay");Nn.drawEdgeUnderlay=Zy("underlay");Nn.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,s=e,l,u=!1,f=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,v=t.pstyle("line-dash-offset").pfValue;if(f){var h=r.join("$"),g=i.pathCacheKey&&i.pathCacheKey===h;g?(l=e=i.pathCache,u=!0):(l=e=new Path2D,i.pathCacheKey=h,i.pathCache=l)}if(s.setLineDash)switch(n){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(c),s.lineDashOffset=v;break;case"solid":s.setLineDash([]);break}if(!u&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<r.length;m+=4)e.quadraticCurveTo(r[m],r[m+1],r[m+2],r[m+3]);break;case"straight":case"haystack":for(var y=2;y+1<r.length;y+=2)e.lineTo(r[y],r[y+1]);break;case"segments":if(i.isRound){var S=Or(i.roundCorners),E;try{for(S.s();!(E=S.n()).done;){var x=E.value;_y(e,x)}}catch(T){S.e(T)}finally{S.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var C=2;C+1<r.length;C+=2)e.lineTo(r[C],r[C+1]);break}e=s,f?e.stroke(l):e.stroke(),e.setLineDash&&e.setLineDash([])};Nn.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var s=[r[i+2]-r[i],r[i+3]-r[i+1]],l=Math.sqrt(s[0]*s[0]+s[1]*s[1]),u=[s[1]/l,-s[0]/l],f=[u[0]*n/2,u[1]*n/2];e.beginPath(),e.moveTo(r[i]-f[0],r[i+1]-f[1]),e.lineTo(r[i]+f[0],r[i+1]+f[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};Nn.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Nn.drawArrowhead=function(t,e,r,n,i,s,l){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(s)||s==null)){var u=this,f=e.pstyle(r+"-arrow-shape").value;if(f!=="none"){var c=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(r+"-arrow-fill").value,h=e.pstyle("width").pfValue,g=e.pstyle(r+"-arrow-width"),m=g.value==="match-line"?h:g.pfValue;g.units==="%"&&(m*=h);var y=e.pstyle("opacity").value;l===void 0&&(l=y);var S=t.globalCompositeOperation;(l!==1||v==="hollow")&&(t.globalCompositeOperation="destination-out",u.colorFillStyle(t,255,255,255,1),u.colorStrokeStyle(t,255,255,255,1),u.drawArrowShape(e,t,c,h,f,m,n,i,s),t.globalCompositeOperation=S);var E=e.pstyle(r+"-arrow-color").value;u.colorFillStyle(t,E[0],E[1],E[2],l),u.colorStrokeStyle(t,E[0],E[1],E[2],l),u.drawArrowShape(e,t,v,h,f,m,n,i,s)}}};Nn.drawArrowShape=function(t,e,r,n,i,s,l,u,f){var c=this,v=this.usePaths()&&i!=="triangle-cross",h=!1,g,m=e,y={x:l,y:u},S=t.pstyle("arrow-scale").value,E=this.getArrowWidth(n,S),x=c.arrowShapes[i];if(v){var C=c.arrowPathCache=c.arrowPathCache||[],T=fa(i),k=C[T];k!=null?(g=e=k,h=!0):(g=e=new Path2D,C[T]=g)}h||(e.beginPath&&e.beginPath(),v?x.draw(e,1,0,{x:0,y:0},1):x.draw(e,E,f,y,n),e.closePath&&e.closePath()),e=m,v&&(e.translate(l,u),e.rotate(f),e.scale(E,E)),(r==="filled"||r==="both")&&(v?e.fill(g):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=s/(v?E:1),e.lineJoin="miter",v?e.stroke(g):e.stroke()),v&&(e.scale(1/E,1/E),e.rotate(-f),e.translate(-l,-u))};var yd={};yd.safeDrawImage=function(t,e,r,n,i,s,l,u,f,c){if(!(i<=0||s<=0||f<=0||c<=0))try{t.drawImage(e,r,n,i,s,l,u,f,c)}catch(v){lt(v)}};yd.drawInscribedImage=function(t,e,r,n,i){var s=this,l=r.position(),u=l.x,f=l.y,c=r.cy().style(),v=c.getIndexedStyle.bind(c),h=v(r,"background-fit","value",n),g=v(r,"background-repeat","value",n),m=r.width(),y=r.height(),S=r.padding()*2,E=m+(v(r,"background-width-relative-to","value",n)==="inner"?0:S),x=y+(v(r,"background-height-relative-to","value",n)==="inner"?0:S),C=r._private.rscratch,T=v(r,"background-clip","value",n),k=T==="node",B=v(r,"background-image-opacity","value",n)*i,R=v(r,"background-image-smoothing","value",n),P=r.pstyle("corner-radius").value;P!=="auto"&&(P=r.pstyle("corner-radius").pfValue);var L=e.width||e.cachedW,A=e.height||e.cachedH;(L==null||A==null)&&(document.body.appendChild(e),L=e.cachedW=e.width||e.offsetWidth,A=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var z=L,O=A;if(v(r,"background-width","value",n)!=="auto"&&(v(r,"background-width","units",n)==="%"?z=v(r,"background-width","pfValue",n)*E:z=v(r,"background-width","pfValue",n)),v(r,"background-height","value",n)!=="auto"&&(v(r,"background-height","units",n)==="%"?O=v(r,"background-height","pfValue",n)*x:O=v(r,"background-height","pfValue",n)),!(z===0||O===0)){if(h==="contain"){var N=Math.min(E/z,x/O);z*=N,O*=N}else if(h==="cover"){var N=Math.max(E/z,x/O);z*=N,O*=N}var _=u-E/2,F=v(r,"background-position-x","units",n),K=v(r,"background-position-x","pfValue",n);F==="%"?_+=(E-z)*K:_+=K;var W=v(r,"background-offset-x","units",n),H=v(r,"background-offset-x","pfValue",n);W==="%"?_+=(E-z)*H:_+=H;var $=f-x/2,G=v(r,"background-position-y","units",n),X=v(r,"background-position-y","pfValue",n);G==="%"?$+=(x-O)*X:$+=X;var M=v(r,"background-offset-y","units",n),V=v(r,"background-offset-y","pfValue",n);M==="%"?$+=(x-O)*V:$+=V,C.pathCache&&(_-=u,$-=f,u=0,f=0);var te=t.globalAlpha;t.globalAlpha=B;var ae=s.getImgSmoothing(t),se=!1;if(R==="no"&&ae?(s.setImgSmoothing(t,!1),se=!0):R==="yes"&&!ae&&(s.setImgSmoothing(t,!0),se=!0),g==="no-repeat")k&&(t.save(),C.pathCache?t.clip(C.pathCache):(s.nodeShapes[s.getNodeShape(r)].draw(t,u,f,E,x,P,C),t.clip())),s.safeDrawImage(t,e,0,0,L,A,_,$,z,O),k&&t.restore();else{var oe=t.createPattern(e,g);t.fillStyle=oe,s.nodeShapes[s.getNodeShape(r)].draw(t,u,f,E,x,P,C),t.translate(_,$),t.fill(),t.translate(-_,-$)}t.globalAlpha=te,se&&s.setImgSmoothing(t,ae)}};var Ka={};Ka.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(td(r*n));e=Math.pow(2,i)}var s=t.pstyle("font-size").pfValue*e,l=t.pstyle("min-zoomed-font-size").pfValue;return!(s<l)};Ka.drawElementText=function(t,e,r,n,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this;if(n==null){if(s&&!l.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var u=e.pstyle("label");if(!u||!u.value)return;var f=l.getLabelJustification(e);t.textAlign=f,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,v=e.pstyle("label"),h=e.pstyle("source-label"),g=e.pstyle("target-label");if(c||(!v||!v.value)&&(!h||!h.value)&&(!g||!g.value))return;t.textAlign="center",t.textBaseline="bottom"}var m=!r,y;r&&(y=r,t.translate(-y.x1,-y.y1)),i==null?(l.drawText(t,e,null,m,s),e.isEdge()&&(l.drawText(t,e,"source",m,s),l.drawText(t,e,"target",m,s))):l.drawText(t,e,i,m,s),r&&t.translate(y.x1,y.y1)};Ka.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Ka.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,f=e.pstyle("text-outline-opacity").value*u,c=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;t.font=n+" "+l+" "+i+" "+s,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],u),this.colorStrokeStyle(t,v[0],v[1],v[2],f)};function Dc(t,e,r,n,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,l=arguments.length>6?arguments[6]:void 0;t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+i-s),t.quadraticCurveTo(e+n,r+i,e+n-s,r+i),t.lineTo(e+s,r+i),t.quadraticCurveTo(e,r+i,e,r+i-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath(),l?t.stroke():t.fill()}Ka.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,s=e?e+"-":"",l=t.pstyle(s+"text-rotation");if(l.strValue==="autorotate"){var u=on(i,"labelAngle",e);r=t.isEdge()?u:0}else l.strValue==="none"?r=0:r=l.pfValue;return r};Ka.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=e._private,l=s.rscratch,u=i?e.effectiveOpacity():1;if(!(i&&(u===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var f=on(l,"labelX",r),c=on(l,"labelY",r),v,h,g=this.getLabelText(e,r);if(g!=null&&g!==""&&!isNaN(f)&&!isNaN(c)){this.setupTextStyle(t,e,i);var m=r?r+"-":"",y=on(l,"labelWidth",r),S=on(l,"labelHeight",r),E=e.pstyle(m+"text-margin-x").pfValue,x=e.pstyle(m+"text-margin-y").pfValue,C=e.isEdge(),T=e.pstyle("text-halign").value,k=e.pstyle("text-valign").value;C&&(T="center",k="center"),f+=E,c+=x;var B;switch(n?B=this.getTextAngle(e,r):B=0,B!==0&&(v=f,h=c,t.translate(v,h),t.rotate(B),f=0,c=0),k){case"top":break;case"center":c+=S/2;break;case"bottom":c+=S;break}var R=e.pstyle("text-background-opacity").value,P=e.pstyle("text-border-opacity").value,L=e.pstyle("text-border-width").pfValue,A=e.pstyle("text-background-padding").pfValue,z=e.pstyle("text-background-shape").strValue,O=z.indexOf("round")===0,N=2;if(R>0||L>0&&P>0){var _=f-A;switch(T){case"left":_-=y;break;case"center":_-=y/2;break}var F=c-S-A,K=y+2*A,W=S+2*A;if(R>0){var H=t.fillStyle,$=e.pstyle("text-background-color").value;t.fillStyle="rgba("+$[0]+","+$[1]+","+$[2]+","+R*u+")",O?Dc(t,_,F,K,W,N):t.fillRect(_,F,K,W),t.fillStyle=H}if(L>0&&P>0){var G=t.strokeStyle,X=t.lineWidth,M=e.pstyle("text-border-color").value,V=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+M[0]+","+M[1]+","+M[2]+","+P*u+")",t.lineWidth=L,t.setLineDash)switch(V){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=L/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(O?Dc(t,_,F,K,W,N,"stroke"):t.strokeRect(_,F,K,W),V==="double"){var te=L/2;O?Dc(t,_+te,F+te,K-te*2,W-te*2,N,"stroke"):t.strokeRect(_+te,F+te,K-te*2,W-te*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=X,t.strokeStyle=G}}var ae=2*e.pstyle("text-outline-width").pfValue;if(ae>0&&(t.lineWidth=ae),e.pstyle("text-wrap").value==="wrap"){var se=on(l,"labelWrapCachedLines",r),oe=on(l,"labelLineHeight",r),ce=y/2,ue=this.getLabelJustification(e);switch(ue==="auto"||(T==="left"?ue==="left"?f+=-y:ue==="center"&&(f+=-ce):T==="center"?ue==="left"?f+=-ce:ue==="right"&&(f+=ce):T==="right"&&(ue==="center"?f+=ce:ue==="right"&&(f+=y))),k){case"top":c-=(se.length-1)*oe;break;case"center":case"bottom":c-=(se.length-1)*oe;break}for(var Z=0;Z<se.length;Z++)ae>0&&t.strokeText(se[Z],f,c),t.fillText(se[Z],f,c),c+=oe}else ae>0&&t.strokeText(g,f,c),t.fillText(g,f,c);B!==0&&(t.rotate(-B),t.translate(-v,-h))}}};var Wi={};Wi.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,l=this,u,f,c=e._private,v=c.rscratch,h=e.position();if(!(!xe(h.x)||!xe(h.y))&&!(s&&!e.visible())){var g=s?e.effectiveOpacity():1,m=l.usePaths(),y,S=!1,E=e.padding();u=e.width()+2*E,f=e.height()+2*E;var x;r&&(x=r,t.translate(-x.x1,-x.y1));for(var C=e.pstyle("background-image"),T=C.value,k=new Array(T.length),B=new Array(T.length),R=0,P=0;P<T.length;P++){var L=T[P],A=k[P]=L!=null&&L!=="none";if(A){var z=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",P);R++,B[P]=l.getCachedImage(L,z,function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var O=e.pstyle("background-blacken").value,N=e.pstyle("border-width").pfValue,_=e.pstyle("background-opacity").value*g,F=e.pstyle("border-color").value,K=e.pstyle("border-style").value,W=e.pstyle("border-join").value,H=e.pstyle("border-cap").value,$=e.pstyle("border-position").value,G=e.pstyle("border-dash-pattern").pfValue,X=e.pstyle("border-dash-offset").pfValue,M=e.pstyle("border-opacity").value*g,V=e.pstyle("outline-width").pfValue,te=e.pstyle("outline-color").value,ae=e.pstyle("outline-style").value,se=e.pstyle("outline-opacity").value*g,oe=e.pstyle("outline-offset").value,ce=e.pstyle("corner-radius").value;ce!=="auto"&&(ce=e.pstyle("corner-radius").pfValue);var ue=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_;l.eleFillStyle(t,e,J)},Z=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M;l.colorStrokeStyle(t,F[0],F[1],F[2],J)},Q=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se;l.colorStrokeStyle(t,te[0],te[1],te[2],J)},le=function(J,ne,Ee,de){var we=l.nodePathCache=l.nodePathCache||[],ze=zg(Ee==="polygon"?Ee+","+de.join(","):Ee,""+ne,""+J,""+ce),Ke=we[ze],Re,We=!1;return Ke!=null?(Re=Ke,We=!0,v.pathCache=Re):(Re=new Path2D,we[ze]=v.pathCache=Re),{path:Re,cacheHit:We}},pe=e.pstyle("shape").strValue,Se=e.pstyle("shape-polygon-points").pfValue;if(m){t.translate(h.x,h.y);var Te=le(u,f,pe,Se);y=Te.path,S=Te.cacheHit}var Xe=function(){if(!S){var J=h;m&&(J={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(y||t,J.x,J.y,u,f,ce,v)}m?t.fill(y):t.fill()},nt=function(){for(var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ee=c.backgrounding,de=0,we=0;we<B.length;we++){var ze=e.cy().style().getIndexedStyle(e,"background-image-containment","value",we);if(ne&&ze==="over"||!ne&&ze==="inside"){de++;continue}k[we]&&B[we].complete&&!B[we].error&&(de++,l.drawInscribedImage(t,B[we],e,we,J))}c.backgrounding=de!==R,Ee!==c.backgrounding&&e.updateStyle(!1)},je=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;l.hasPie(e)&&(l.drawPie(t,e,ne),J&&(m||l.nodeShapes[l.getNodeShape(e)].draw(t,h.x,h.y,u,f,ce,v)))},ke=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,ne=(O>0?O:-O)*J,Ee=O>0?0:255;O!==0&&(l.colorFillStyle(t,Ee,Ee,Ee,ne),m?t.fill(y):t.fill())},Ce=function(){if(N>0){if(t.lineWidth=N,t.lineCap=H,t.lineJoin=W,t.setLineDash)switch(K){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(G),t.lineDashOffset=X;break;case"solid":case"double":t.setLineDash([]);break}if($!=="center"){if(t.save(),t.lineWidth*=2,$==="inside")m?t.clip(y):t.clip();else{var J=new Path2D;J.rect(-u/2-N,-f/2-N,u+2*N,f+2*N),J.addPath(y),t.clip(J,"evenodd")}m?t.stroke(y):t.stroke(),t.restore()}else m?t.stroke(y):t.stroke();if(K==="double"){t.lineWidth=N/3;var ne=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(y):t.stroke(),t.globalCompositeOperation=ne}t.setLineDash&&t.setLineDash([])}},Ne=function(){if(V>0){if(t.lineWidth=V,t.lineCap="butt",t.setLineDash)switch(ae){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var J=h;m&&(J={x:0,y:0});var ne=l.getNodeShape(e),Ee=N;$==="inside"&&(Ee=0),$==="outside"&&(Ee*=2);var de=(u+Ee+(V+oe))/u,we=(f+Ee+(V+oe))/f,ze=u*de,Ke=f*we,Re=l.nodeShapes[ne].points,We;if(m){var He=le(ze,Ke,ne,Re);We=He.path}if(ne==="ellipse")l.drawEllipsePath(We||t,J.x,J.y,ze,Ke);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ne)){var Fe=0,Je=0,ot=0;ne==="round-diamond"?Fe=(Ee+oe+V)*1.4:ne==="round-heptagon"?(Fe=(Ee+oe+V)*1.075,ot=-(Ee/2+oe+V)/35):ne==="round-hexagon"?Fe=(Ee+oe+V)*1.12:ne==="round-pentagon"?(Fe=(Ee+oe+V)*1.13,ot=-(Ee/2+oe+V)/15):ne==="round-tag"?(Fe=(Ee+oe+V)*1.12,Je=(Ee/2+V+oe)*.07):ne==="round-triangle"&&(Fe=(Ee+oe+V)*(Math.PI/2),ot=-(Ee+oe/2+V)/Math.PI),Fe!==0&&(de=(u+Fe)/u,ze=u*de,["round-hexagon","round-tag"].includes(ne)||(we=(f+Fe)/f,Ke=f*we)),ce=ce==="auto"?Xg(ze,Ke):ce;for(var tr=ze/2,rr=Ke/2,Tt=ce+(Ee+V+oe)/2,Dt=new Array(Re.length/2),Rt=new Array(Re.length/2),Nt=0;Nt<Re.length/2;Nt++)Dt[Nt]={x:J.x+Je+tr*Re[Nt*2],y:J.y+ot+rr*Re[Nt*2+1]};var Ut,nr,ar,ir,Yr=Dt.length;for(nr=Dt[Yr-1],Ut=0;Ut<Yr;Ut++)ar=Dt[Ut%Yr],ir=Dt[(Ut+1)%Yr],Rt[Ut]=pd(nr,ar,ir,Tt),nr=ar,ar=ir;l.drawRoundPolygonPath(We||t,J.x+Je,J.y+ot,u*de,f*we,Re,Rt)}else if(["roundrectangle","round-rectangle"].includes(ne))ce=ce==="auto"?_a(ze,Ke):ce,l.drawRoundRectanglePath(We||t,J.x,J.y,ze,Ke,ce+(Ee+V+oe)/2);else if(["cutrectangle","cut-rectangle"].includes(ne))ce=ce==="auto"?nd():ce,l.drawCutRectanglePath(We||t,J.x,J.y,ze,Ke,null,ce+(Ee+V+oe)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ne))ce=ce==="auto"?_a(ze,Ke):ce,l.drawBottomRoundRectanglePath(We||t,J.x,J.y,ze,Ke,ce+(Ee+V+oe)/2);else if(ne==="barrel")l.drawBarrelPath(We||t,J.x,J.y,ze,Ke);else if(ne.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ne)){var gr=(Ee+V+oe)/u;Re=eu(tu(Re,gr)),l.drawPolygonPath(We||t,J.x,J.y,u,f,Re)}else{var Bt=(Ee+V+oe)/u;Re=eu(tu(Re,-Bt)),l.drawPolygonPath(We||t,J.x,J.y,u,f,Re)}if(m?t.stroke(We):t.stroke(),ae==="double"){t.lineWidth=Ee/3;var xt=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(We):t.stroke(),t.globalCompositeOperation=xt}t.setLineDash&&t.setLineDash([])}},Ie=function(){i&&l.drawNodeOverlay(t,e,h,u,f)},Oe=function(){i&&l.drawNodeUnderlay(t,e,h,u,f)},$e=function(){l.drawElementText(t,e,null,n)},Ge=e.pstyle("ghost").value==="yes";if(Ge){var Ye=e.pstyle("ghost-offset-x").pfValue,ve=e.pstyle("ghost-offset-y").pfValue,I=e.pstyle("ghost-opacity").value,j=I*g;t.translate(Ye,ve),Q(),Ne(),ue(I*_),Xe(),nt(j,!0),Z(I*M),Ce(),je(O!==0||N!==0),nt(j,!1),ke(j),t.translate(-Ye,-ve)}m&&t.translate(-h.x,-h.y),Oe(),m&&t.translate(h.x,h.y),Q(),Ne(),ue(),Xe(),nt(g,!0),Z(),Ce(),je(O!==0||N!==0),nt(g,!1),ke(),m&&t.translate(-h.x,-h.y),$e(),Ie(),r&&t.translate(x.x1,x.y1)}};var jy=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,s,l){var u=this;if(n.visible()){var f=n.pstyle("".concat(e,"-padding")).pfValue,c=n.pstyle("".concat(e,"-opacity")).value,v=n.pstyle("".concat(e,"-color")).value,h=n.pstyle("".concat(e,"-shape")).value,g=n.pstyle("".concat(e,"-corner-radius")).value;if(c>0){if(i=i||n.position(),s==null||l==null){var m=n.padding();s=n.width()+2*m,l=n.height()+2*m}u.colorFillStyle(r,v[0],v[1],v[2],c),u.nodeShapes[h].draw(r,i.x,i.y,s+f*2,l+f*2,g),r.fill()}}}};Wi.drawNodeOverlay=jy("overlay");Wi.drawNodeUnderlay=jy("underlay");Wi.hasPie=function(t){return t=t[0],t._private.hasPie};Wi.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),s=e.pstyle("pie-size"),l=n.x,u=n.y,f=e.width(),c=e.height(),v=Math.min(f,c)/2,h=0,g=this.usePaths();g&&(l=0,u=0),s.units==="%"?v=v*s.pfValue:s.pfValue!==void 0&&(v=s.pfValue/2);for(var m=1;m<=i.pieBackgroundN;m++){var y=e.pstyle("pie-"+m+"-background-size").value,S=e.pstyle("pie-"+m+"-background-color").value,E=e.pstyle("pie-"+m+"-background-opacity").value*r,x=y/100;x+h>1&&(x=1-h);var C=1.5*Math.PI+2*Math.PI*h,T=2*Math.PI*x,k=C+T;y===0||h>=1||h+x>1||(t.beginPath(),t.moveTo(l,u),t.arc(l,u,v,C,k),t.closePath(),this.colorFillStyle(t,S[0],S[1],S[2],E),t.fill(),h+=x)}};var xr={},_C=100;xr.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};xr.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};xr.createGradientStyleFor=function(t,e,r,n,i){var s,l=this.usePaths(),u=r.pstyle(e+"-gradient-stop-colors").value,f=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var c=r.sourceEndpoint(),v=r.targetEndpoint(),h=r.midpoint(),g=Fa(c,h),m=Fa(v,h);s=t.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(g,m))}else{var y=l?{x:0,y:0}:r.position(),S=r.paddedWidth(),E=r.paddedHeight();s=t.createRadialGradient(y.x,y.y,0,y.x,y.y,Math.max(S,E))}else if(r.isEdge()){var x=r.sourceEndpoint(),C=r.targetEndpoint();s=t.createLinearGradient(x.x,x.y,C.x,C.y)}else{var T=l?{x:0,y:0}:r.position(),k=r.paddedWidth(),B=r.paddedHeight(),R=k/2,P=B/2,L=r.pstyle("background-gradient-direction").value;switch(L){case"to-bottom":s=t.createLinearGradient(T.x,T.y-P,T.x,T.y+P);break;case"to-top":s=t.createLinearGradient(T.x,T.y+P,T.x,T.y-P);break;case"to-left":s=t.createLinearGradient(T.x+R,T.y,T.x-R,T.y);break;case"to-right":s=t.createLinearGradient(T.x-R,T.y,T.x+R,T.y);break;case"to-bottom-right":case"to-right-bottom":s=t.createLinearGradient(T.x-R,T.y-P,T.x+R,T.y+P);break;case"to-top-right":case"to-right-top":s=t.createLinearGradient(T.x-R,T.y+P,T.x+R,T.y-P);break;case"to-bottom-left":case"to-left-bottom":s=t.createLinearGradient(T.x+R,T.y-P,T.x-R,T.y+P);break;case"to-top-left":case"to-left-top":s=t.createLinearGradient(T.x+R,T.y+P,T.x-R,T.y-P);break}}if(!s)return null;for(var A=f.length===u.length,z=u.length,O=0;O<z;O++)s.addColorStop(A?f[O]:O/(z-1),"rgba("+u[O][0]+","+u[O][1]+","+u[O][2]+","+i+")");return s};xr.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};xr.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};xr.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};xr.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};xr.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};xr.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};xr.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],s=n[3],l=e.getPixelRatio(),u=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(l=u);var f=i*l,c=s*l,v;if(!(f===e.canvasWidth&&c===e.canvasHeight)){e.fontCaches=null;var h=r.canvasContainer;h.style.width=i+"px",h.style.height=s+"px";for(var g=0;g<e.CANVAS_LAYERS;g++)v=r.canvases[g],v.width=f,v.height=c,v.style.width=i+"px",v.style.height=s+"px";for(var g=0;g<e.BUFFER_COUNT;g++)v=r.bufferCanvases[g],v.width=f,v.height=c,v.style.width=i+"px",v.style.height=s+"px";e.textureMult=1,l<=1&&(v=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=f*e.textureMult,v.height=c*e.textureMult),e.canvasWidth=f,e.canvasHeight=c,e.pixelRatio=l}};xr.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};xr.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};xr.render=function(t){var e=this;t=t||Ug();var r=e.cy,n=t.forcedContext,i=t.drawAllLayers,s=t.drawOnlyNodeLayer,l=t.forcedZoom,u=t.forcedPan,f=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,c=e.data,v=c.canvasNeedsRedraw,h=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),g=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,m=e.motionBlurPxRatio,y=r.hasCompoundNodes(),S=e.hoverData.draggingEles,E=!!(e.hoverData.selecting||e.touchData.selecting);g=g&&!n&&e.motionBlurEnabled&&!E;var x=g;n||(e.prevPxRatio!==f&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=f),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),g&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(x=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!h&&(v[e.NODE]=!0,v[e.SELECT_BOX]=!0);var C=r.style(),T=r.zoom(),k=l!==void 0?l:T,B=r.pan(),R={x:B.x,y:B.y},P={zoom:T,pan:{x:B.x,y:B.y}},L=e.prevViewport,A=L===void 0||P.zoom!==L.zoom||P.pan.x!==L.pan.x||P.pan.y!==L.pan.y;!A&&!(S&&!y)&&(e.motionBlurPxRatio=1),u&&(R=u),k*=f,R.x*=f,R.y*=f;var z=e.getCachedZSortedEles();function O(Z,Q,le,pe,Se){var Te=Z.globalCompositeOperation;Z.globalCompositeOperation="destination-out",e.colorFillStyle(Z,255,255,255,e.motionBlurTransparency),Z.fillRect(Q,le,pe,Se),Z.globalCompositeOperation=Te}function N(Z,Q){var le,pe,Se,Te;!e.clearingMotionBlur&&(Z===c.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||Z===c.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(le={x:B.x*m,y:B.y*m},pe=T*m,Se=e.canvasWidth*m,Te=e.canvasHeight*m):(le=R,pe=k,Se=e.canvasWidth,Te=e.canvasHeight),Z.setTransform(1,0,0,1,0,0),Q==="motionBlur"?O(Z,0,0,Se,Te):!n&&(Q===void 0||Q)&&Z.clearRect(0,0,Se,Te),i||(Z.translate(le.x,le.y),Z.scale(pe,pe)),u&&Z.translate(u.x,u.y),l&&Z.scale(l,l)}if(h||(e.textureDrawLastFrame=!1),h){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var _=e.data.bufferContexts[e.TEXTURE_BUFFER];_.setTransform(1,0,0,1,0,0),_.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:_,drawOnlyNodeLayer:!0,forcedPxRatio:f*e.textureMult});var P=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};P.mpan={x:(0-P.pan.x)/P.zoom,y:(0-P.pan.y)/P.zoom}}v[e.DRAG]=!1,v[e.NODE]=!1;var F=c.contexts[e.NODE],K=e.textureCache.texture,P=e.textureCache.viewport;F.setTransform(1,0,0,1,0,0),g?O(F,0,0,P.width,P.height):F.clearRect(0,0,P.width,P.height);var W=C.core("outside-texture-bg-color").value,H=C.core("outside-texture-bg-opacity").value;e.colorFillStyle(F,W[0],W[1],W[2],H),F.fillRect(0,0,P.width,P.height);var T=r.zoom();N(F,!1),F.clearRect(P.mpan.x,P.mpan.y,P.width/P.zoom/f,P.height/P.zoom/f),F.drawImage(K,P.mpan.x,P.mpan.y,P.width/P.zoom/f,P.height/P.zoom/f)}else e.textureOnViewport&&!n&&(e.textureCache=null);var $=r.extent(),G=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),X=e.hideEdgesOnViewport&&G,M=[];if(M[e.NODE]=!v[e.NODE]&&g&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,M[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),M[e.DRAG]=!v[e.DRAG]&&g&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,M[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),v[e.NODE]||i||s||M[e.NODE]){var V=g&&!M[e.NODE]&&m!==1,F=n||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:c.contexts[e.NODE]),te=g&&!V?"motionBlur":void 0;N(F,te),X?e.drawCachedNodes(F,z.nondrag,f,$):e.drawLayeredElements(F,z.nondrag,f,$),e.debug&&e.drawDebugPoints(F,z.nondrag),!i&&!g&&(v[e.NODE]=!1)}if(!s&&(v[e.DRAG]||i||M[e.DRAG])){var V=g&&!M[e.DRAG]&&m!==1,F=n||(V?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:c.contexts[e.DRAG]);N(F,g&&!V?"motionBlur":void 0),X?e.drawCachedNodes(F,z.drag,f,$):e.drawCachedElements(F,z.drag,f,$),e.debug&&e.drawDebugPoints(F,z.drag),!i&&!g&&(v[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,N),g&&m!==1){var ae=c.contexts[e.NODE],se=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],oe=c.contexts[e.DRAG],ce=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],ue=function(Q,le,pe){Q.setTransform(1,0,0,1,0,0),pe||!x?Q.clearRect(0,0,e.canvasWidth,e.canvasHeight):O(Q,0,0,e.canvasWidth,e.canvasHeight);var Se=m;Q.drawImage(le,0,0,e.canvasWidth*Se,e.canvasHeight*Se,0,0,e.canvasWidth,e.canvasHeight)};(v[e.NODE]||M[e.NODE])&&(ue(ae,se,M[e.NODE]),v[e.NODE]=!1),(v[e.DRAG]||M[e.DRAG])&&(ue(oe,ce,M[e.DRAG]),v[e.DRAG]=!1)}e.prevViewport=P,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),g&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!h,e.mbFrames=0,v[e.NODE]=!0,v[e.DRAG]=!0,e.redraw()},_C)),n||r.emit("render")};var Lo;xr.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,i=r.data,s=n.style(),l=t.drawOnlyNodeLayer,u=t.drawAllLayers,f=i.canvasNeedsRedraw,c=t.forcedContext;if(r.showFps||!l&&f[r.SELECT_BOX]&&!u){var v=c||i.contexts[r.SELECT_BOX];if(e(v),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var h=r.cy.zoom(),g=s.core("selection-box-border-width").value/h;v.lineWidth=g,v.fillStyle="rgba("+s.core("selection-box-color").value[0]+","+s.core("selection-box-color").value[1]+","+s.core("selection-box-color").value[2]+","+s.core("selection-box-opacity").value+")",v.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),g>0&&(v.strokeStyle="rgba("+s.core("selection-box-border-color").value[0]+","+s.core("selection-box-border-color").value[1]+","+s.core("selection-box-border-color").value[2]+","+s.core("selection-box-opacity").value+")",v.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var h=r.cy.zoom(),m=i.bgActivePosistion;v.fillStyle="rgba("+s.core("active-bg-color").value[0]+","+s.core("active-bg-color").value[1]+","+s.core("active-bg-color").value[2]+","+s.core("active-bg-opacity").value+")",v.beginPath(),v.arc(m.x,m.y,s.core("active-bg-size").pfValue/h,0,2*Math.PI),v.fill()}var y=r.lastRedrawTime;if(r.showFps&&y){y=Math.round(y);var S=Math.round(1e3/y),E="1 frame = "+y+" ms = "+S+" fps";if(v.setTransform(1,0,0,1,0,0),v.fillStyle="rgba(255, 0, 0, 0.75)",v.strokeStyle="rgba(255, 0, 0, 0.75)",v.font="30px Arial",!Lo){var x=v.measureText(E);Lo=x.actualBoundingBoxAscent}v.fillText(E,0,Lo);var C=60;v.strokeRect(0,Lo+10,250,20),v.fillRect(0,Lo+10,250*Math.min(S/C,1),20)}u||(f[r.SELECT_BOX]=!1)}};function dg(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function VC(t,e,r){var n=dg(t,t.VERTEX_SHADER,e),i=dg(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,i),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw new Error("Could not initialize shaders");return s}function UC(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function md(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function $C(t,e,r,n,i){var s=n*r+e.x,l=i*r+e.y;return l=Math.round(t.canvasHeight-l),[s,l]}function Ol(t,e,r){var n=t[0]/255,i=t[1]/255,s=t[2]/255,l=e,u=r||new Array(4);return u[0]=n*l,u[1]=i*l,u[2]=s*l,u[3]=l,u}function zl(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function WC(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function HC(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function Jy(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function em(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function KC(t,e,r,n,i,s){switch(e){case t.FLOAT:return new Float32Array(r.buffer,s*n,i);case t.INT:return new Int32Array(r.buffer,s*n,i)}}function qC(t,e,r,n){var i=Jy(t,e),s=Gt(i,2),l=s[0],u=s[1],f=em(t,u,n),c=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,f,t.STATIC_DRAW),u===t.FLOAT?t.vertexAttribPointer(r,l,u,!1,0,0):u===t.INT&&t.vertexAttribIPointer(r,l,u,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),c}function Nr(t,e,r,n){var i=Jy(t,r),s=Gt(i,3),l=s[0],u=s[1],f=s[2],c=em(t,u,e*l),v=l*f,h=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferData(t.ARRAY_BUFFER,e*v,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),u===t.FLOAT?t.vertexAttribPointer(n,l,u,!1,v,0):u===t.INT&&t.vertexAttribIPointer(n,l,u,v,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var g=new Array(e),m=0;m<e;m++)g[m]=KC(t,u,c,v,l,m);return h.dataArray=c,h.stride=v,h.size=l,h.getView=function(y){return g[y]},h.setPoint=function(y,S,E){var x=g[y];x[0]=S,x[1]=E},h.bufferSubData=function(y){t.bindBuffer(t.ARRAY_BUFFER,h),y?t.bufferSubData(t.ARRAY_BUFFER,0,c,0,y*l):t.bufferSubData(t.ARRAY_BUFFER,0,c)},h}function GC(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,i,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var vg=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Wo(){var t=new vg(9);return vg!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function tm(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function XC(t,e,r){var n=e[0],i=e[1],s=e[2],l=e[3],u=e[4],f=e[5],c=e[6],v=e[7],h=e[8],g=r[0],m=r[1],y=r[2],S=r[3],E=r[4],x=r[5],C=r[6],T=r[7],k=r[8];return t[0]=g*n+m*l+y*c,t[1]=g*i+m*u+y*v,t[2]=g*s+m*f+y*h,t[3]=S*n+E*l+x*c,t[4]=S*i+E*u+x*v,t[5]=S*s+E*f+x*h,t[6]=C*n+T*l+k*c,t[7]=C*i+T*u+k*v,t[8]=C*s+T*f+k*h,t}function lu(t,e,r){var n=e[0],i=e[1],s=e[2],l=e[3],u=e[4],f=e[5],c=e[6],v=e[7],h=e[8],g=r[0],m=r[1];return t[0]=n,t[1]=i,t[2]=s,t[3]=l,t[4]=u,t[5]=f,t[6]=g*n+m*l+c,t[7]=g*i+m*u+v,t[8]=g*s+m*f+h,t}function rm(t,e,r){var n=e[0],i=e[1],s=e[2],l=e[3],u=e[4],f=e[5],c=e[6],v=e[7],h=e[8],g=Math.sin(r),m=Math.cos(r);return t[0]=m*n+g*l,t[1]=m*i+g*u,t[2]=m*s+g*f,t[3]=m*l-g*n,t[4]=m*u-g*i,t[5]=m*f-g*s,t[6]=c,t[7]=v,t[8]=h,t}function wd(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function YC(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var Ho={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Mo=Xt({getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:null,getPadding:null}),QC=function(){function t(e,r){pa(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.atlasSize=r.webglTexSize,this.rows=r.webglTexRows,this.enableWrapping=r.enableWrapping,this.texHeight=Math.floor(this.atlasSize/this.rows),this.maxTexWidth=this.atlasSize,this.texture=null,this.canvas=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=r.createTextureCanvas(e,this.atlasSize,this.atlasSize),this.scratch=r.createTextureCanvas(e,this.atlasSize,this.texHeight,"scratch")}return ga(t,[{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,i=r.h,s=this.texHeight,l=this.maxTexWidth,u=s/i,f=n*u,c=i*u;return f>l&&(u=l/n,f=n*u,c=i*u),{scale:u,texW:f,texH:c}}},{key:"draw",value:function(r,n,i){var s=this,l=this.atlasSize,u=this.rows,f=this.texHeight,c=this.getScale(n),v=c.scale,h=c.texW,g=c.texH,m=[null,null],y=function(T,k){if(i&&k){var B=k.context,R=T.x,P=T.row,L=R,A=f*P;B.save(),B.translate(L,A),B.scale(v,v),i(B,n),B.restore()}},S=function(){y(s.freePointer,s.canvas),m[0]={x:s.freePointer.x,y:s.freePointer.row*f,w:h,h:g},m[1]={x:s.freePointer.x+h,y:s.freePointer.row*f,w:0,h:g},s.freePointer.x+=h,s.freePointer.x==l&&(s.freePointer.x=0,s.freePointer.row++)},E=function(){var T=s.scratch,k=s.canvas;T.clear(),y({x:0,row:0},T);var B=l-s.freePointer.x,R=h-B,P=f;{var L=s.freePointer.x,A=s.freePointer.row*f,z=B;k.context.drawImage(T,0,0,z,P,L,A,z,P),m[0]={x:L,y:A,w:z,h:g}}{var O=B,N=(s.freePointer.row+1)*f,_=R;k&&k.context.drawImage(T,O,0,_,P,0,N,_,P),m[1]={x:0,y:N,w:_,h:g}}s.freePointer.x=R,s.freePointer.row++},x=function(){s.freePointer.x=0,s.freePointer.row++};if(this.freePointer.x+h<=l)S();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===l?(x(),S()):this.enableWrapping?E():(x(),S())}return this.keyToLocation.set(r,m),this.needsBuffer=!0,m}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){var n=this.atlasSize,i=this.rows,s=this.getScale(r),l=s.texW;return this.freePointer.x+l>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=HC(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1)}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null,this.needsBuffer=!0)}}]),t}(),ZC=function(){function t(e,r){pa(this,t),this.r=e,this.opts=r,this.keyToIds=new Map,this.idToKey=new Map,this.atlases=[],this.styleKeyToAtlas=new Map,this.styleKeyNeedsRedraw=new Set,this.forceGC=!1}return ga(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"getIdsFor",value:function(r){var n=this.keyToIds.get(r);return n||(n=new Set,this.keyToIds.set(r,n)),n}},{key:"_createAtlas",value:function(){var r=this.r,n=this.opts;return new QC(r,n)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.opts,i=n.webglTexSize,s=Math.floor(i/n.webglTexRows);this.scratch=n.createTextureCanvas(r,i,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,i,s){if(this.styleKeyNeedsRedraw.has(n)){this.styleKeyNeedsRedraw.delete(n),this.deleteKey(r,n);var l=this.styleKeyToAtlas.get(n);l&&(l.forceGC=!0),this.styleKeyToAtlas.delete(n)}var u=this.styleKeyToAtlas.get(n);return u||(u=this.atlases[this.atlases.length-1],(!u||!u.canFit(i))&&(u=this._createAtlas(),this.atlases.push(u)),u.draw(n,i,s),this.styleKeyToAtlas.set(n,u),this.getIdsFor(n).add(r),this.idToKey.set(r,n)),u}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"deleteKey",value:function(r,n){this.idToKey.delete(r),this.getIdsFor(n).delete(r)}},{key:"checkKeyIsInvalid",value:function(r,n){if(!this.idToKey.has(r))return!1;var i=this.idToKey.get(r);return i!=n?(this.deleteKey(r,i),!0):!1}},{key:"_getKeysToCollect",value:function(){var r=new Set,n=Or(this.styleKeyToAtlas.keys()),i;try{for(n.s();!(i=n.n()).done;){var s=i.value;this.getIdsFor(s).size==0&&r.add(s)}}catch(l){n.e(l)}finally{n.f()}return r}},{key:"gc",value:function(){var r=this,n=this.atlases.some(function(g){return g.forceGC}),i=this._getKeysToCollect();if(i.size===0&&!n){console.log("nothing to garbage collect");return}var s=[],l=new Map,u=null,f=Or(this.atlases),c;try{var v=function(){var m=c.value,y=m.getKeys(),S=jC(i,y);if(S.size===0&&!m.forceGC)return s.push(m),y.forEach(function(P){return l.set(P,m)}),"continue";u||(u=r._createAtlas(),s.push(u));var E=Or(y),x;try{for(E.s();!(x=E.n()).done;){var C=x.value;if(!S.has(C)){var T=m.getOffsets(C),k=Gt(T,2),B=k[0],R=k[1];u.canFit({w:B.w+R.w,h:B.h})||(u=r._createAtlas(),s.push(u)),r._copyTextureToNewAtlas(C,m,u),l.set(C,u)}}}catch(P){E.e(P)}finally{E.f()}};for(f.s();!(c=f.n()).done;)var h=v()}catch(g){f.e(g)}finally{f.f()}this.atlases=s,this.styleKeyToAtlas=l}},{key:"_copyTextureToNewAtlas",value:function(r,n,i){var s=n.getOffsets(r),l=Gt(s,2),u=l[0],f=l[1];if(f.w===0)i.draw(r,u,function(g){g.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var c=this._getScratchCanvas();c.clear(),c.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),c.context.drawImage(n.canvas,f.x,f.y,f.w,f.h,u.w,0,f.w,f.h);var v=u.w+f.w,h=u.h;i.draw(r,{w:v,h},function(g){g.drawImage(c,0,0,v,h,0,0,v,h)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}]),t}();function jC(t,e){return t.intersection?t.intersection(e):new Set(bg(t).filter(function(r){return e.has(r)}))}var JC=function(){function t(e,r){pa(this,t),this.r=e;var n=r;this.globalOptions=n,this.maxAtlases=n.webglTexPerBatch,this.atlasSize=n.webglTexSize,this.renderTypes=new Map,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.batchAtlases=[],this._cacheScratchCanvas(n)}return ga(t,[{key:"_cacheScratchCanvas",value:function(r){var n=-1,i=-1,s=null,l=r.createTextureCanvas;r.createTextureCanvas=function(u,f,c,v){return v?((!s||f!=n||c!=i)&&(n=f,i=c,s=l(u,f,c)),s):l(u,f,c)}}},{key:"addRenderType",value:function(r,n){var i=new ZC(this.r,this.globalOptions),s=n;this.renderTypes.set(r,Ue({type:r,atlasCollection:i},s))}},{key:"getRenderTypes",value:function(){return bg(this.renderTypes.values())}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.forceRedraw,s=i===void 0?!1:i,l=n.filterEle,u=l===void 0?function(){return!0}:l,f=n.filterType,c=f===void 0?function(){return!0}:f,v=!1,h=Or(r),g;try{for(h.s();!(g=h.n()).done;){var m=g.value;if(u(m)){var y=m.id(),S=Or(this.getRenderTypes()),E;try{for(S.s();!(E=S.n()).done;){var x=E.value;if(c(x.type)){var C=x.getKey(m);s?(x.atlasCollection.deleteKey(y,C),x.atlasCollection.styleKeyNeedsRedraw.add(C),v=!0):v|=x.atlasCollection.checkKeyIsInvalid(y,C)}}}catch(T){S.e(T)}finally{S.f()}}}}catch(T){h.e(T)}finally{h.f()}return v}},{key:"gc",value:function(){var r=Or(this.getRenderTypes()),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;i.atlasCollection.gc()}}catch(s){r.e(s)}finally{r.f()}}},{key:"isRenderable",value:function(r,n){var i=this.getRenderTypeOpts(n);return i&&i.isVisible(r)}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"getOrCreateAtlas",value:function(r,n,i){var s=this.renderTypes.get(i),l=s.getKey(r),u=r.id();return s.atlasCollection.draw(u,l,n,function(f){s.drawElement(f,r,n,!0,!0)})}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlases},function(r,n){return n})}},{key:"getAtlasInfo",value:function(r,n){var i=this.renderTypes.get(n),s=i.getBoundingBox(r),l=this.getOrCreateAtlas(r,s,n),u=this.getAtlasIndexForBatch(l);if(u!==void 0){var f=i.getKey(r),c=l.getOffsets(f),v=Gt(c,2),h=v[0],g=v[1];return{atlasID:u,tex:h,tex1:h,tex2:g,bb:s,type:n,styleKey:f}}}},{key:"canAddToCurrentBatch",value:function(r,n){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var i=this.renderTypes.get(n),s=i.getKey(r),l=i.atlasCollection.getAtlas(s);return l&&this.batchAtlases.includes(l)}return!0}},{key:"setTransformMatrix",value:function(r,n,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=n.bb,u=n.type,f=n.tex1,c=n.tex2,v=this.getRenderTypeOpts(u),h=v.getPadding?v.getPadding(i):0,g=f.w/(f.w+c.w);s||(g=1-g);var m=this.getAdjustedBB(l,h,s,g),y,S;tm(r);var E=v.getRotation?v.getRotation(i):0;if(E!==0){var x=v.getRotationPoint(i),C=x.x,T=x.y;lu(r,r,[C,T]),rm(r,r,E);var k=v.getRotationOffset(i);y=k.x+m.xOffset,S=k.y}else y=m.x1,S=m.y1;lu(r,r,[y,S]),wd(r,r,[m.w,m.h])}},{key:"getTransformMatrix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Wo();return this.setTransformMatrix(s,r,n,i),s}},{key:"getAdjustedBB",value:function(r,n,i,s){var l=r.x1,u=r.y1,f=r.w,c=r.h;n&&(l-=n,u-=n,f+=2*n,c+=2*n);var v=0,h=f*s;return i&&s<1?f=h:!i&&s<1&&(v=f-h,l+=v,f=h),{x1:l,y1:u,w:f,h:c,xOffset:v}}},{key:"getDebugInfo",value:function(){var r=[],n=Or(this.renderTypes),i;try{for(n.s();!(i=n.n()).done;){var s=Gt(i.value,2),l=s[0],u=s[1],f=u.atlasCollection.getCounts(),c=f.keyCount,v=f.atlasCount;r.push({type:l,keyCount:c,atlasCount:v})}}catch(h){n.e(h)}finally{n.f()}return r}}]),t}(),Rc=0,hg=1,pg=2,Bc=3,eT=function(){function t(e,r,n){pa(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.maxAtlases=n.webglTexPerBatch,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,n.enableWrapping=!0,n.createTextureCanvas=UC,this.atlasManager=new JC(e,n),this.program=this.createShaderProgram(Ho.SCREEN),this.pickingProgram=this.createShaderProgram(Ho.PICKING),this.vao=this.createVAO(),this.debugInfo=[]}return ga(t,[{key:"addTextureRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,s=this.atlasManager;return i?s.invalidate(r,{filterType:function(u){return u===i},forceRedraw:!0}):s.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(r){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex1; // x/y/w/h of texture in atlas
      in vec4 aTex2; 

      // for any transforms that are needed
      in vec4 aScaleRotate1;  // vectors use fewer attributes than matrices
      in vec2 aTranslate1;
      in vec4 aScaleRotate2;
      in vec2 aTranslate2;

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aEdgeColor;

      out vec2 vTexCoord;
      out vec4 vEdgeColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Rc,`) {
          float texX;
          float texY;
          float texW;
          float texH;
          mat3  texMatrix;

          int vid = gl_VertexID;
          if(vid <= 5) {
            texX = aTex1.x;
            texY = aTex1.y;
            texW = aTex1.z;
            texH = aTex1.w;
            texMatrix = mat3(
              vec3(aScaleRotate1.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate1,      1.0)
            );
          } else {
            texX = aTex2.x;
            texY = aTex2.y;
            texW = aTex2.z;
            texH = aTex2.w;
            texMatrix = mat3(
              vec3(aScaleRotate2.xy, 0.0),
              vec3(aScaleRotate2.zw, 0.0),
              vec3(aTranslate2,      1.0)
            );
          }

          if(vid == 1 || vid == 2 || vid == 4 || vid == 7 || vid == 8 || vid == 10) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5 || vid == 8 || vid == 10 || vid == 11) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * texMatrix * vec3(position, 1.0), 1.0);
        } 
        else if(aVertType == `).concat(hg,` && vid < 6) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(pg,` && vid < 6) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vEdgeColor = aEdgeColor;
        } 
        else if(aVertType == `).concat(Bc,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          mat3 transform = mat3(
            vec3(aScaleRotate1.xy, 0.0),
            vec3(aScaleRotate1.zw, 0.0),
            vec3(aTranslate1,      1.0)
          );
          gl_Position = vec4(uPanZoomMatrix * transform * vec3(position, 1.0), 1.0);
          vEdgeColor = aEdgeColor;
        } else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),s=this.atlasManager.getIndexArray(),l=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(s.map(function(c){return"uniform sampler2D uTexture".concat(c,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vEdgeColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Rc,`) {
          `).concat(s.map(function(c){return"if(vAtlasId == ".concat(c,") outColor = texture(uTexture").concat(c,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(Bc,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vEdgeColor.rgb + (uBGColor.rgb * (1.0 - vEdgeColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vEdgeColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=VC(n,i,l);u.aPosition=n.getAttribLocation(u,"aPosition"),u.aIndex=n.getAttribLocation(u,"aIndex"),u.aVertType=n.getAttribLocation(u,"aVertType"),u.aAtlasId=n.getAttribLocation(u,"aAtlasId"),u.aTex1=n.getAttribLocation(u,"aTex1"),u.aTex2=n.getAttribLocation(u,"aTex2"),u.aScaleRotate1=n.getAttribLocation(u,"aScaleRotate1"),u.aTranslate1=n.getAttribLocation(u,"aTranslate1"),u.aScaleRotate2=n.getAttribLocation(u,"aScaleRotate2"),u.aTranslate2=n.getAttribLocation(u,"aTranslate2"),u.aPointAPointB=n.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=n.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=n.getAttribLocation(u,"aLineWidth"),u.aEdgeColor=n.getAttribLocation(u,"aEdgeColor"),u.uPanZoomMatrix=n.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=n.getUniformLocation(u,"uAtlasSize"),u.uBGColor=n.getUniformLocation(u,"uBGColor"),u.uTextures=[];for(var f=0;f<this.atlasManager.maxAtlases;f++)u.uTextures.push(n.getUniformLocation(u,"uTexture".concat(f)));return u}},{key:"createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1],n=[].concat(r,r);this.vertexCount=n.length/2;var i=this.maxInstances,s=this.gl,l=this.program,u=s.createVertexArray();return s.bindVertexArray(u),qC(s,"vec2",l.aPosition,n),this.indexBuffer=Nr(s,i,"vec4",l.aIndex),this.vertTypeBuffer=Nr(s,i,"int",l.aVertType),this.atlasIdBuffer=Nr(s,i,"int",l.aAtlasId),this.tex1Buffer=Nr(s,i,"vec4",l.aTex1),this.tex2Buffer=Nr(s,i,"vec4",l.aTex2),this.scaleRotate1Buffer=Nr(s,i,"vec4",l.aScaleRotate1),this.translate1Buffer=Nr(s,i,"vec2",l.aTranslate1),this.scaleRotate2Buffer=Nr(s,i,"vec4",l.aScaleRotate2),this.translate2Buffer=Nr(s,i,"vec2",l.aTranslate2),this.pointAPointBBuffer=Nr(s,i,"vec4",l.aPointAPointB),this.pointCPointDBuffer=Nr(s,i,"vec4",l.aPointCPointD),this.lineWidthBuffer=Nr(s,i,"float",l.aLineWidth),this.edgeColorBuffer=Nr(s,i,"vec4",l.aEdgeColor),s.bindVertexArray(null),u}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return n.endsWith("Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ho.SCREEN;this.panZoomMatrix=r,this.debugInfo=n,this.renderTarget=i,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||Wo()}},{key:"drawTexture",value:function(r,n,i){var s=this.atlasManager;if(s.isRenderable(r,i)){s.canAddToCurrentBatch(r,i)||this.endBatch();var l=this.instanceCount;this.vertTypeBuffer.getView(l)[0]=Rc;var u=this.indexBuffer.getView(l);zl(n,u);var f=s.getAtlasInfo(r,i,f),c=f.atlasID,v=f.tex1,h=f.tex2,g=this.atlasIdBuffer.getView(l);g[0]=c;var m=this.tex1Buffer.getView(l);m[0]=v.x,m[1]=v.y,m[2]=v.w,m[3]=v.h;var y=this.tex2Buffer.getView(l);y[0]=h.x,y[1]=h.y,y[2]=h.w,y[3]=h.h;for(var S=this.getTempMatrix(),E=0,x=[1,2];E<x.length;E++){var C=x[E];s.setTransformMatrix(S,f,r,C===1);var T=this["scaleRotate".concat(C,"Buffer")].getView(l);T[0]=S[0],T[1]=S[1],T[2]=S[3],T[3]=S[4];var k=this["translate".concat(C,"Buffer")].getView(l);k[0]=S[6],k[1]=S[7]}this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(r,n,i){var s=r._private.rscratch,l,u,f;if(i==="source"?(l=s.arrowStartX,u=s.arrowStartY,f=s.srcArrowAngle):(l=s.arrowEndX,u=s.arrowEndY,f=s.tgtArrowAngle),!(isNaN(l)||l==null||isNaN(u)||u==null||isNaN(f)||f==null)){var c=r.pstyle(i+"-arrow-shape").value;if(c!=="none"){var v=r.pstyle(i+"-arrow-color").value,h=r.pstyle("opacity").value,g=r.pstyle("line-opacity").value,m=h*g,y=r.pstyle("width").pfValue,S=r.pstyle("arrow-scale").value,E=this.r.getArrowWidth(y,S),x=this.getTempMatrix();tm(x),lu(x,x,[l,u]),wd(x,x,[E,E]),rm(x,x,f);var C=this.instanceCount;this.vertTypeBuffer.getView(C)[0]=Bc;var T=this.indexBuffer.getView(C);zl(n,T);var k=this.edgeColorBuffer.getView(C);Ol(v,m,k);var B=this.scaleRotate1Buffer.getView(C);B[0]=x[0],B[1]=x[1],B[2]=x[3],B[3]=x[4];var R=this.translate1Buffer.getView(C);R[0]=x[6],R[1]=x[7],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(r,n){var i=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,l=r.pstyle("width").pfValue,u=r.pstyle("line-color").value,f=i*s,c=this.getEdgePoints(r);if(c.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),c.length==4){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=hg;var h=this.indexBuffer.getView(v);zl(n,h);var g=this.edgeColorBuffer.getView(v);Ol(u,f,g);var m=this.lineWidthBuffer.getView(v);m[0]=l;var y=this.pointAPointBBuffer.getView(v);y[0]=c[0],y[1]=c[1],y[2]=c[2],y[3]=c[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var S=0;S<c.length-2;S+=2){var E=this.instanceCount;this.vertTypeBuffer.getView(E)[0]=pg;var x=this.indexBuffer.getView(E);zl(n,x);var C=this.edgeColorBuffer.getView(E);Ol(u,f,C);var T=this.lineWidthBuffer.getView(E);T[0]=l;var k=c[S-2],B=c[S-1],R=c[S],P=c[S+1],L=c[S+2],A=c[S+3],z=c[S+4],O=c[S+5];S==0&&(k=2*R-L+.001,B=2*P-A+.001),S==c.length-4&&(z=2*L-R+.001,O=2*A-P+.001);var N=this.pointAPointBBuffer.getView(E);N[0]=k,N[1]=B,N[2]=R,N[3]=P;var _=this.pointCPointDBuffer.getView(E);_[0]=L,_[1]=A,_[2]=z,_[3]=O,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"getEdgePoints",value:function(r){var n=r._private.rscratch,i=n.allpts;if(i.length==4)return i;var s=this.getNumSegments(r);return this.getCurveSegmentPoints(i,s)}},{key:"getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var i=Array((n+1)*2),s=0;s<=n;s++)if(s==0)i[0]=r[0],i[1]=r[1];else if(s==n)i[s*2]=r[r.length-2],i[s*2+1]=r[r.length-1];else{var l=s/n;this.setCurvePoint(r,l,i,s*2)}return i}},{key:"setCurvePoint",value:function(r,n,i,s){if(r.length<=2)i[s]=r[0],i[s+1]=r[1];else{for(var l=Array(r.length-2),u=0;u<l.length;u+=2){var f=(1-n)*r[u]+n*r[u+2],c=(1-n)*r[u+1]+n*r[u+3];l[u]=f,l[u+1]=c}return this.setCurvePoint(l,n,i,s)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,i=this.vertexCount,s=this.instanceCount;if(s!==0){var l=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(l),r.bindVertexArray(n);var u=Or(this.buffers),f;try{for(u.s();!(f=u.n()).done;){var c=f.value;c.bufferSubData(s)}}catch(y){u.e(y)}finally{u.f()}for(var v=this.atlasManager.getAtlases(),h=0;h<v.length;h++)v[h].bufferIfNeeded(r);for(var g=0;g<v.length;g++)r.activeTexture(r.TEXTURE0+g),r.bindTexture(r.TEXTURE_2D,v[g].texture),r.uniform1i(l.uTextures[g],g);r.uniformMatrix3fv(l.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(l.uAtlasSize,this.atlasManager.atlasSize);var m=Ol(this.bgColor,1);r.uniform4fv(l.uBGColor,m),r.drawArraysInstanced(r.TRIANGLES,0,i,s),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debugInfo&&this.debugInfo.push({count:s,atlasCount:v.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){return this.debugInfo}},{key:"getAtlasDebugInfo",value:function(){return this.atlasManager.getDebugInfo()}}]),t}();function gg(t,e){return"rgba(".concat(t[0],", ").concat(t[1],", ").concat(t[2],", ").concat(e,")")}var tT=function(){function t(e){pa(this,t),this.r=e}return ga(t,[{key:"getStyleKey",value:function(r,n){var i=this.getStyle(r,n),s=i.shape,l=i.opacity,u=i.color;if(!s)return null;var f=n.width(),c=n.height(),v=gg(u,l);return fa("".concat(s,"-").concat(f,"-").concat(c,"-").concat(v))}},{key:"isVisible",value:function(r,n){var i=n.pstyle("".concat(r,"-opacity")).value;return i>0}},{key:"getStyle",value:function(r,n){var i=n.pstyle("".concat(r,"-opacity")).value,s=n.pstyle("".concat(r,"-color")).value,l=n.pstyle("".concat(r,"-shape")).value;return{opacity:i,color:s,shape:l}}},{key:"getPadding",value:function(r,n){return n.pstyle("".concat(r,"-padding")).pfValue}},{key:"draw",value:function(r,n,i,s){if(this.isVisible(r,i)){var l=this.r,u=s.w,f=s.h,c=u/2,v=f/2,h=this.getStyle(r,i),g=h.shape,m=h.color,y=h.opacity;n.save(),n.fillStyle=gg(m,y),g==="round-rectangle"||g==="roundrectangle"?l.drawRoundRectanglePath(n,c,v,u,f,"auto"):g==="ellipse"&&l.drawEllipsePath(n,c,v,u,f),n.fill(),n.restore()}}}]),t}();function rT(t){var e=t&&t.style&&t.style.backgroundColor||"white";return Rg(e)}var nm={};nm.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL],i=t.cy.container();t.bgColor=rT(i),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,console.log("max texture units",n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),console.log("max texture size",n.getParameter(n.MAX_TEXTURE_SIZE)),console.log("webgl options",t),r.pickingFrameBuffer=GC(n),r.pickingFrameBuffer.needsDraw=!0;var s=function(v){return r.getTextAngle(v,null)},l=function(v){var h=v.pstyle("label");return h&&h.value};r.eleDrawing=new eT(r,n,t);var u=new tT(r);r.eleDrawing.addTextureRenderType("node-body",Mo({getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement,isVisible:function(v){return v.visible()}})),r.eleDrawing.addTextureRenderType("node-label",Mo({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:s,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:l})),r.eleDrawing.addTextureRenderType("node-overlay",Mo({getBoundingBox:e.getElementBox,getKey:function(v){return u.getStyleKey("overlay",v)},drawElement:function(v,h,g){return u.draw("overlay",v,h,g)},isVisible:function(v){return u.isVisible("overlay",v)},getPadding:function(v){return u.getPadding("overlay",v)}})),r.eleDrawing.addTextureRenderType("node-underlay",Mo({getBoundingBox:e.getElementBox,getKey:function(v){return u.getStyleKey("underlay",v)},drawElement:function(v,h,g){return u.draw("underlay",v,h,g)},isVisible:function(v){return u.isVisible("underlay",v)},getPadding:function(v){return u.getPadding("underlay",v)}})),r.eleDrawing.addTextureRenderType("edge-label",Mo({getKey:e.getLabelKey,getBoundingBox:e.getLabelBox,drawElement:e.drawLabel,getRotation:s,getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:l}));var f=is(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(c,v){var h=!1;v&&v.length>0&&(h|=r.eleDrawing.invalidate(v)),h&&f()}),nT(r)};function nT(t){{var e=t.render;t.render=function(s){s=s||{};var l=t.cy;t.webgl&&(l.zoom()>Xy?(aT(t),e.call(t,s)):(iT(t),im(t,s,Ho.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(s){r.call(t,s),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(s,l,u,f){return cT(t,s,l)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var i=t.notify;t.notify=function(s,l){i.call(t,s,l),s==="viewport"||s==="bounds"?t.pickingFrameBuffer.needsDraw=!0:s==="background"&&t.eleDrawing.invalidate(l,{type:"node-body"})}}}function aT(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function iT(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function oT(t){var e=t.canvasWidth,r=t.canvasHeight,n=md(t),i=n.pan,s=n.zoom,l=Wo();lu(l,l,[i.x,i.y]),wd(l,l,[s,s]);var u=Wo();YC(u,e,r);var f=Wo();return XC(f,u,l),f}function am(t,e){var r=t.canvasWidth,n=t.canvasHeight,i=md(t),s=i.pan,l=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(s.x,s.y),e.scale(l,l)}function sT(t,e){t.drawSelectionRectangle(e,function(r){return am(t,r)})}function lT(t){var e=t.data.contexts[t.NODE];e.save(),am(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function uT(t){var e=function(i,s,l){for(var u=i.atlasManager.getRenderTypeOpts(s),f=t.data.contexts[t.NODE],c=.125,v=u.atlasCollection.atlases,h=0;h<v.length;h++){var g=v[h],m=g.canvas,y=m.width,S=m.height,E=y*h,x=m.height*l;f.save(),f.scale(c,c),f.drawImage(m,E,x),f.strokeStyle="black",f.rect(E,x,y,S),f.stroke(),f.restore()}},r=0;e(t.eleDrawing,"node-body",r++),e(t.eleDrawing,"node-label",r++)}function fT(t,e,r,n,i){var s,l,u,f,c=md(t),v=c.pan,h=c.zoom;{var g=$C(t,v,h,e,r),m=Gt(g,2),y=m[0],S=m[1],E=6;s=y-E/2,l=S-E/2,u=E,f=E}if(u===0||f===0)return[];var x=t.data.contexts[t.WEBGL];x.bindFramebuffer(x.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(x.viewport(0,0,x.canvas.width,x.canvas.height),im(t,null,Ho.PICKING),t.pickingFrameBuffer.needsDraw=!1);var C=u*f,T=new Uint8Array(C*4);x.readPixels(s,l,u,f,x.RGBA,x.UNSIGNED_BYTE,T),x.bindFramebuffer(x.FRAMEBUFFER,null);for(var k=new Set,B=0;B<C;B++){var R=T.slice(B*4,B*4+4),P=WC(R)-1;P>=0&&k.add(P)}return k}function cT(t,e,r){var n=fT(t,e,r),i=t.getCachedZSortedEles(),s,l,u=Or(n),f;try{for(u.s();!(f=u.n()).done;){var c=f.value,v=i[c];if(!s&&v.isNode()&&(s=v),!l&&v.isEdge()&&(l=v),s&&l)break}}catch(h){u.e(h)}finally{u.f()}return[s,l].filter(Boolean)}function im(t,e,r){var n,i;t.webglDebug&&(i=[],n=performance.now());var s=t.eleDrawing,l=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&sT(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var u=function(N,_){_+=1,N.isNode()?(s.drawTexture(N,_,"node-underlay"),s.drawTexture(N,_,"node-body"),s.drawTexture(N,_,"node-label"),s.drawTexture(N,_,"node-overlay")):(s.drawEdgeLine(N,_),s.drawEdgeArrow(N,_,"source"),s.drawEdgeArrow(N,_,"target"),s.drawTexture(N,_,"edge-label"))},f=t.data.contexts[t.WEBGL];r.screen?(f.clearColor(0,0,0,0),f.enable(f.BLEND),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA)):f.disable(f.BLEND),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.viewport(0,0,f.canvas.width,f.canvas.height);var c=oT(t),v=t.getCachedZSortedEles();if(l=v.length,s.startFrame(c,i,r),r.screen){for(var h=0;h<v.nondrag.length;h++)u(v.nondrag[h],h);for(var g=0;g<v.drag.length;g++)u(v.drag[g],-1)}else if(r.picking)for(var m=0;m<v.length;m++)u(v[m],m);s.endFrame(),t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,s.gc()),r.screen&&t.webglDebugShowAtlases&&(lT(t),uT(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var y=performance.now(),S=!0,E=0,x=0,C=Or(i),T;try{for(C.s();!(T=C.n()).done;){var k=T.value;E++,x+=k.count}}catch(O){C.e(O)}finally{C.f()}var B=Math.ceil(y-n),R="".concat(l," elements, ").concat(x," rectangles, ").concat(E," batches");if(S)console.log("WebGL (".concat(r.name,") - ").concat(R));else{console.log("WebGL render (".concat(r.name,") - frame time ").concat(B,"ms")),console.log("  ".concat(R)),console.log("Texture Atlases Used:");var P=s.getAtlasDebugInfo(),L=Or(P),A;try{for(L.s();!(A=L.n()).done;){var z=A.value;console.log("  ".concat(z.type,": ").concat(z.keyCount," keys, ").concat(z.atlasCount," atlases"))}}catch(O){L.e(O)}finally{L.f()}console.log("")}}}var ma={};ma.drawPolygonPath=function(t,e,r,n,i,s){var l=n/2,u=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+l*s[0],r+u*s[1]);for(var f=1;f<s.length/2;f++)t.lineTo(e+l*s[f*2],r+u*s[f*2+1]);t.closePath()};ma.drawRoundPolygonPath=function(t,e,r,n,i,s,l){l.forEach(function(u){return _y(t,u)}),t.closePath()};ma.drawRoundRectanglePath=function(t,e,r,n,i,s){var l=n/2,u=i/2,f=s==="auto"?_a(n,i):Math.min(s,u,l);t.beginPath&&t.beginPath(),t.moveTo(e,r-u),t.arcTo(e+l,r-u,e+l,r,f),t.arcTo(e+l,r+u,e,r+u,f),t.arcTo(e-l,r+u,e-l,r,f),t.arcTo(e-l,r-u,e,r-u,f),t.lineTo(e,r-u),t.closePath()};ma.drawBottomRoundRectanglePath=function(t,e,r,n,i,s){var l=n/2,u=i/2,f=s==="auto"?_a(n,i):s;t.beginPath&&t.beginPath(),t.moveTo(e,r-u),t.lineTo(e+l,r-u),t.lineTo(e+l,r),t.arcTo(e+l,r+u,e,r+u,f),t.arcTo(e-l,r+u,e-l,r,f),t.lineTo(e-l,r-u),t.lineTo(e,r-u),t.closePath()};ma.drawCutRectanglePath=function(t,e,r,n,i,s,l){var u=n/2,f=i/2,c=l==="auto"?nd():l;t.beginPath&&t.beginPath(),t.moveTo(e-u+c,r-f),t.lineTo(e+u-c,r-f),t.lineTo(e+u,r-f+c),t.lineTo(e+u,r+f-c),t.lineTo(e+u-c,r+f),t.lineTo(e-u+c,r+f),t.lineTo(e-u,r+f-c),t.lineTo(e-u,r-f+c),t.closePath()};ma.drawBarrelPath=function(t,e,r,n,i){var s=n/2,l=i/2,u=e-s,f=e+s,c=r-l,v=r+l,h=Mc(n,i),g=h.widthOffset,m=h.heightOffset,y=h.ctrlPtOffsetPct*g;t.beginPath&&t.beginPath(),t.moveTo(u,c+m),t.lineTo(u,v-m),t.quadraticCurveTo(u+y,v,u+g,v),t.lineTo(f-g,v),t.quadraticCurveTo(f-y,v,f,v-m),t.lineTo(f,c+m),t.quadraticCurveTo(f-y,c,f-g,c),t.lineTo(u+g,c),t.quadraticCurveTo(u+y,c,u,c+m),t.closePath()};var yg=Math.sin(0),mg=Math.cos(0),Kc={},qc={},om=Math.PI/40;for(var Ei=0*Math.PI;Ei<2*Math.PI;Ei+=om)Kc[Ei]=Math.sin(Ei),qc[Ei]=Math.cos(Ei);ma.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var s,l,u=n/2,f=i/2,c=0*Math.PI;c<2*Math.PI;c+=om)s=e-u*Kc[c]*yg+u*qc[c]*mg,l=r+f*qc[c]*yg+f*Kc[c]*mg,c===0?t.moveTo(s,l):t.lineTo(s,l);t.closePath()};var cs={};cs.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};cs.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),s=t.full?Math.ceil(n.w):i[2],l=t.full?Math.ceil(n.h):i[3],u=xe(t.maxWidth)||xe(t.maxHeight),f=this.getPixelRatio(),c=1;if(t.scale!==void 0)s*=t.scale,l*=t.scale,c=t.scale;else if(u){var v=1/0,h=1/0;xe(t.maxWidth)&&(v=c*t.maxWidth/s),xe(t.maxHeight)&&(h=c*t.maxHeight/l),c=Math.min(v,h),s*=c,l*=c}u||(s*=f,l*=f,c*=f);var g=document.createElement("canvas");g.width=s,g.height=l,g.style.width=s+"px",g.style.height=l+"px";var m=g.getContext("2d");if(s>0&&l>0){m.clearRect(0,0,s,l),m.globalCompositeOperation="source-over";var y=this.getCachedZSortedEles();if(t.full)m.translate(-n.x1*c,-n.y1*c),m.scale(c,c),this.drawElements(m,y),m.scale(1/c,1/c),m.translate(n.x1*c,n.y1*c);else{var S=e.pan(),E={x:S.x*c,y:S.y*c};c*=e.zoom(),m.translate(E.x,E.y),m.scale(c,c),this.drawElements(m,y),m.scale(1/c,1/c),m.translate(-E.x,-E.y)}t.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=t.bg,m.rect(0,0,s,l),m.fill())}return g};function dT(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return new Blob([n],{type:e})}function wg(t){var e=t.indexOf(",");return t.substr(e+1)}function sm(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Ii(function(i,s){try{e.toBlob(function(l){l!=null?i(l):s(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(l){s(l)}});case"blob":return dT(wg(n()),r);case"base64":return wg(n());case"base64uri":default:return n()}}cs.png=function(t){return sm(t,this.bufferCanvasImage(t),"image/png")};cs.jpg=function(t){return sm(t,this.bufferCanvasImage(t),"image/jpeg")};var lm={};lm.nodeShapeImpl=function(t,e,r,n,i,s,l,u){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,s);case"polygon":return this.drawPolygonPath(e,r,n,i,s,l);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,s,l,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,s,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,s,l,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,s,u);case"barrel":return this.drawBarrelPath(e,r,n,i,s)}};var vT=um,Qe=um.prototype;Qe.CANVAS_LAYERS=3;Qe.SELECT_BOX=0;Qe.DRAG=1;Qe.NODE=2;Qe.WEBGL=3;Qe.CANVAS_TYPES=["2d","2d","2d","webgl2"];Qe.BUFFER_COUNT=3;Qe.TEXTURE_BUFFER=0;Qe.MOTIONBLUR_BUFFER_NODE=1;Qe.MOTIONBLUR_BUFFER_DRAG=2;function um(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(Qe.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(Qe.CANVAS_LAYERS),contexts:new Array(Qe.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Qe.CANVAS_LAYERS),bufferCanvases:new Array(Qe.BUFFER_COUNT),bufferContexts:new Array(Qe.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",s="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var l=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=s,l.position="relative",l.zIndex="0",l.overflow="hidden";var u=t.cy.container();u.appendChild(e.data.canvasContainer),u.style[i]=s;var f={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};L1()&&(f["-ms-touch-action"]="none",f["touch-action"]="none");for(var c=0;c<Qe.CANVAS_LAYERS;c++){var v=e.data.canvases[c]=n.createElement("canvas"),h=Qe.CANVAS_TYPES[c];e.data.contexts[c]=v.getContext(h),e.data.contexts[c]||bt("Could not create canvas of type "+h),Object.keys(f).forEach(function(Z){v.style[Z]=f[Z]}),v.style.position="absolute",v.setAttribute("data-id","layer"+c),v.style.zIndex=String(Qe.CANVAS_LAYERS-c),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[c]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[Qe.NODE].setAttribute("data-id","layer"+Qe.NODE+"-node"),e.data.canvases[Qe.SELECT_BOX].setAttribute("data-id","layer"+Qe.SELECT_BOX+"-selectbox"),e.data.canvases[Qe.DRAG].setAttribute("data-id","layer"+Qe.DRAG+"-drag"),e.data.canvases[Qe.WEBGL]&&e.data.canvases[Qe.WEBGL].setAttribute("data-id","layer"+Qe.WEBGL+"-webgl");for(var c=0;c<Qe.BUFFER_COUNT;c++)e.data.bufferCanvases[c]=n.createElement("canvas"),e.data.bufferContexts[c]=e.data.bufferCanvases[c].getContext("2d"),e.data.bufferCanvases[c].style.position="absolute",e.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),e.data.bufferCanvases[c].style.zIndex=String(-c-1),e.data.bufferCanvases[c].style.visibility="hidden";e.pathsEnabled=!0;var g=Rr(),m=function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}},y=function(Q){return{x:-Q.w/2,y:-Q.h/2}},S=function(Q){var le=Q[0]._private,pe=le.oldBackgroundTimestamp===le.backgroundTimestamp;return!pe},E=function(Q){return Q[0]._private.nodeKey},x=function(Q){return Q[0]._private.labelStyleKey},C=function(Q){return Q[0]._private.sourceLabelStyleKey},T=function(Q){return Q[0]._private.targetLabelStyleKey},k=function(Q,le,pe,Se,Te){return e.drawElement(Q,le,pe,!1,!1,Te)},B=function(Q,le,pe,Se,Te){return e.drawElementText(Q,le,pe,Se,"main",Te)},R=function(Q,le,pe,Se,Te){return e.drawElementText(Q,le,pe,Se,"source",Te)},P=function(Q,le,pe,Se,Te){return e.drawElementText(Q,le,pe,Se,"target",Te)},L=function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},A=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||g},z=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||g},O=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||g},N=function(Q,le){return le},_=function(Q){return m(L(Q))},F=function(Q,le,pe){var Se=Q?Q+"-":"";return{x:le.x+pe.pstyle(Se+"text-margin-x").pfValue,y:le.y+pe.pstyle(Se+"text-margin-y").pfValue}},K=function(Q,le,pe){var Se=Q[0]._private.rscratch;return{x:Se[le],y:Se[pe]}},W=function(Q){return F("",K(Q,"labelX","labelY"),Q)},H=function(Q){return F("source",K(Q,"sourceLabelX","sourceLabelY"),Q)},$=function(Q){return F("target",K(Q,"targetLabelX","targetLabelY"),Q)},G=function(Q){return y(L(Q))},X=function(Q){return y(z(Q))},M=function(Q){return y(O(Q))},V=function(Q){var le=A(Q),pe=y(A(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":pe.x=-le.w-(le.leftPad||0);break;case"right":pe.x=-(le.rightPad||0);break}switch(Q.pstyle("text-valign").value){case"top":pe.y=-le.h-(le.topPad||0);break;case"bottom":pe.y=-(le.botPad||0);break}}return pe},te=e.data.eleTxrCache=new Vo(e,{getKey:E,doesEleInvalidateKey:S,drawElement:k,getBoundingBox:L,getRotationPoint:_,getRotationOffset:G,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ae=e.data.lblTxrCache=new Vo(e,{getKey:x,drawElement:B,getBoundingBox:A,getRotationPoint:W,getRotationOffset:V,isVisible:N}),se=e.data.slbTxrCache=new Vo(e,{getKey:C,drawElement:R,getBoundingBox:z,getRotationPoint:H,getRotationOffset:X,isVisible:N}),oe=e.data.tlbTxrCache=new Vo(e,{getKey:T,drawElement:P,getBoundingBox:O,getRotationPoint:$,getRotationOffset:M,isVisible:N}),ce=e.data.lyrTxrCache=new Yy(e);e.onUpdateEleCalcs(function(Q,le){te.invalidateElements(le),ae.invalidateElements(le),se.invalidateElements(le),oe.invalidateElements(le),ce.invalidateElements(le);for(var pe=0;pe<le.length;pe++){var Se=le[pe]._private;Se.oldBackgroundTimestamp=Se.backgroundTimestamp}});var ue=function(Q){for(var le=0;le<Q.length;le++)ce.enqueueElementRefinement(Q[le].ele)};te.onDequeue(ue),ae.onDequeue(ue),se.onDequeue(ue),oe.onDequeue(ue),t.webgl&&e.initWebgl(t,{getStyleKey:E,getLabelKey:x,drawElement:k,drawLabel:B,getElementBox:L,getLabelBox:A,getElementRotationPoint:_,getElementRotationOffset:G,getLabelRotationPoint:W,getLabelRotationOffset:V})}Qe.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[Qe.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[Qe.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[Qe.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var hT=typeof Path2D<"u";Qe.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};Qe.usePaths=function(){return hT&&this.pathsEnabled};Qe.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};Qe.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};Qe.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":_t(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=t,r.height=e}return r};[Qy,mn,Nn,yd,Ka,Wi,xr,nm,ma,cs,lm].forEach(function(t){Ue(Qe,t)});var pT=[{name:"null",impl:Oy},{name:"base",impl:qy},{name:"canvas",impl:vT}],gT=[{type:"layout",extensions:Zb},{type:"renderer",extensions:pT}],fm={},cm={};function dm(t,e,r){var n=r,i=function(L){lt("Can not register `"+e+"` for `"+t+"` since `"+L+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(ts.prototype[e])return i(e);ts.prototype[e]=r}else if(t==="collection"){if(Jt.prototype[e])return i(e);Jt.prototype[e]=r}else if(t==="layout"){for(var s=function(L){this.options=L,r.call(this,L),rt(this._private)||(this._private={}),this._private.cy=L.cy,this._private.listeners=[],this.createEmitter()},l=s.prototype=Object.create(r.prototype),u=[],f=0;f<u.length;f++){var c=u[f];l[c]=l[c]||function(){return this}}l.start&&!l.run?l.run=function(){return this.start(),this}:!l.start&&l.run&&(l.start=function(){return this.run(),this});var v=r.prototype.stop;l.stop=function(){var P=this.options;if(P&&P.animate){var L=this.animations;if(L)for(var A=0;A<L.length;A++)L[A].stop()}return v?v.call(this):this.emit("layoutstop"),this},l.destroy||(l.destroy=function(){return this}),l.cy=function(){return this._private.cy};var h=function(L){return L._private.cy},g={addEventFields:function(L,A){A.layout=L,A.cy=h(L),A.target=L},bubble:function(){return!0},parent:function(L){return h(L)}};Ue(l,{createEmitter:function(){return this._private.emitter=new mu(g,this),this},emitter:function(){return this._private.emitter},on:function(L,A){return this.emitter().on(L,A),this},one:function(L,A){return this.emitter().one(L,A),this},once:function(L,A){return this.emitter().one(L,A),this},removeListener:function(L,A){return this.emitter().removeListener(L,A),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(L,A){return this.emitter().emit(L,A),this}}),st.eventAliasesOn(l),n=s}else if(t==="renderer"&&e!=="null"&&e!=="base"){var m=vm("renderer","base"),y=m.prototype,S=r,E=r.prototype,x=function(){m.apply(this,arguments),S.apply(this,arguments)},C=x.prototype;for(var T in y){var k=y[T],B=E[T]!=null;if(B)return i(T);C[T]=k}for(var R in E)C[R]=E[R];y.clientFunctions.forEach(function(P){C[P]=C[P]||function(){bt("Renderer does not implement `renderer."+P+"()` on its prototype")}}),n=x}else if(t==="__proto__"||t==="constructor"||t==="prototype")return bt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Bg({map:fm,keys:[t,e],value:n})}function vm(t,e){return Ag({map:fm,keys:[t,e]})}function yT(t,e,r,n,i){return Bg({map:cm,keys:[t,e,r,n],value:i})}function mT(t,e,r,n){return Ag({map:cm,keys:[t,e,r,n]})}var Gc=function(){if(arguments.length===2)return vm.apply(null,arguments);if(arguments.length===3)return dm.apply(null,arguments);if(arguments.length===4)return mT.apply(null,arguments);if(arguments.length===5)return yT.apply(null,arguments);bt("Invalid extension access syntax")};ts.prototype.extension=Gc;gT.forEach(function(t){t.extensions.forEach(function(e){dm(t.type,e.name,e.impl)})});var hm=function t(){if(!(this instanceof t))return new t;this.length=0},$a=hm.prototype;$a.instanceString=function(){return"stylesheet"};$a.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};$a.css=function(t,e){var r=this.length-1;if(Me(t))this[r].properties.push({name:t,value:e});else if(rt(t))for(var n=t,i=Object.keys(n),s=0;s<i.length;s++){var l=i[s],u=n[l];if(u!=null){var f=cr.properties[l]||cr.properties[uu(l)];if(f!=null){var c=f.name,v=u;this[r].properties.push({name:c,value:v})}}}return this};$a.style=$a.css;$a.generateStyle=function(t){var e=new cr(t);return this.appendToStyle(e)};$a.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var s=0;s<i.length;s++){var l=i[s];t.css(l.name,l.value)}}return t};var wT="3.31.0",Wa=function(e){if(e===void 0&&(e={}),rt(e))return new ts(e);if(Me(e))return Gc.apply(Gc,arguments)};Wa.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Wa),t.apply(null,e),this};Wa.warnings=function(t){return _g(t)};Wa.version=wT;Wa.stylesheet=Wa.Stylesheet=hm;const{string:Fl,array:xg,object:_l,number:No,bool:Ir,oneOfType:Si,any:Vl,func:Io}=p1,xT={id:Fl,className:Fl,style:Si([Fl,_l]),elements:Si([xg,Vl]),stylesheet:Si([xg,Vl]),layout:Si([_l,Vl]),pan:Si([_l,Vl]),zoom:No,panningEnabled:Ir,userPanningEnabled:Ir,minZoom:No,maxZoom:No,zoomingEnabled:Ir,userZoomingEnabled:Ir,boxSelectionEnabled:Ir,autoungrabify:Ir,autolock:Ir,autounselectify:Ir,get:Io,toJson:Io,diff:Io,forEach:Io,cy:Io,headless:Ir,styleEnabled:Ir,hideEdgesOnViewport:Ir,textureOnViewport:Ir,motionBlur:Ir,motionBlurOpacity:No,wheelSensitivity:No,pixelRatio:Si([Fl,_l])},pm=(t,e)=>{if(((s,l)=>s==null||l==null)(t,e)&&(t!=null||e!=null))return!0;if(t===e)return!1;if(typeof t!="object"||typeof e!="object")return t!==e;const r=Object.keys(t),n=Object.keys(e),i=s=>t[s]!==e[s];return r.length!==n.length||!(!r.some(i)&&!n.some(i))},nn=(t,e)=>t!=null?t[e]:null,ET={diff:pm,get:nn,toJson:t=>t,forEach:(t,e)=>t.forEach(e),elements:[{data:{id:"a",label:"Example node A"}},{data:{id:"b",label:"Example node B"}},{data:{id:"e",source:"a",target:"b"}}],stylesheet:[{selector:"node",style:{label:"data(label)"}}],zoom:1,pan:{x:0,y:0}},Ul=(t,e,r,n)=>r(nn(t,n),nn(e,n)),ST=(t,e,r,n,i,s,l)=>{t.batch(()=>{(n===pm||Ul(e,r,n,"elements"))&&kT(t,nn(e,"elements"),nn(r,"elements"),i,s,l,n),Ul(e,r,n,"stylesheet")&&TT(t,nn(e,"stylesheet"),nn(r,"stylesheet"),i),["zoom","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","pan","panningEnabled","userPanningEnabled","boxSelectionEnabled","autoungrabify","autolock","autounselectify"].forEach(u=>{Ul(e,r,n,u)&&bT(t,u,nn(e,u),nn(r,u),i)})}),Ul(e,r,n,"layout")&&CT(t,nn(e,"layout"),nn(r,"layout"),i)},bT=(t,e,r,n,i)=>{t[e](i(n))},CT=(t,e,r,n)=>{const i=n(r);i!=null&&t.layout(i).run()},TT=(t,e,r,n)=>{const i=t.style();i!=null&&i.fromJson(n(r)).update()},kT=(t,e,r,n,i,s,l)=>{const u=[],f=t.collection(),c=[],v={},h={},g=m=>i(i(m,"data"),"id");s(r,m=>{const y=g(m);h[y]=m}),e!=null&&s(e,m=>{const y=g(m);v[y]=m,(S=>h[S]!=null)(y)||f.merge(t.getElementById(y))}),s(r,m=>{const y=g(m),S=(E=>v[E])(y);(E=>v[E]!=null)(y)?c.push({ele1:S,ele2:m}):u.push(n(m))}),f.length>0&&t.remove(f),u.length>0&&t.add(u),c.forEach(({ele1:m,ele2:y})=>PT(t,m,y,n,i,l))},PT=(t,e,r,n,i,s)=>{const l=i(i(r,"data"),"id"),u=t.getElementById(l),f={};["data","position","selected","selectable","locked","grabbable","classes"].forEach(v=>{const h=i(r,v);s(h,i(e,v))&&(f[v]=n(h))});const c=i(r,"scratch");s(c,i(e,"scratch"))&&u.scratch(n(c)),Object.keys(f).length>0&&u.json(f)};class DT extends uc.Component{static get propTypes(){return xT}static get defaultProps(){return ET}static normalizeElements(e){if(e.length!=null)return e;{let{nodes:r,edges:n}=e;return r==null&&(r=[]),n==null&&(n=[]),r.concat(n)}}constructor(e){super(e),this.displayName="CytoscapeComponent",this.containerRef=uc.createRef()}componentDidMount(){const e=this.containerRef.current,{global:r,headless:n,styleEnabled:i,hideEdgesOnViewport:s,textureOnViewport:l,motionBlur:u,motionBlurOpacity:f,wheelSensitivity:c,pixelRatio:v}=this.props,h=this._cy=new Wa({container:e,headless:n,styleEnabled:i,hideEdgesOnViewport:s,textureOnViewport:l,motionBlur:u,motionBlurOpacity:f,wheelSensitivity:c,pixelRatio:v});r&&(window[r]=h),this.updateCytoscape(null,this.props)}updateCytoscape(e,r){const n=this._cy,{diff:i,toJson:s,get:l,forEach:u}=r;ST(n,e,r,i,s,l,u),r.cy!=null&&r.cy(n)}componentDidUpdate(e){this.updateCytoscape(e,this.props)}componentWillUnmount(){this._cy.destroy()}render(){const{id:e,className:r,style:n}=this.props;return uc.createElement("div",{ref:this.containerRef,id:e,className:r,style:n})}}const RT=({elements:t})=>Lt.jsx(DT,{elements:t,style:{width:"100%",height:"100%"},layout:{name:"preset"},stylesheet:[{selector:"node",style:{label:"data(id)","background-color":"#0074D9",color:"#FFFFFF","text-valign":"center","text-halign":"center","font-size":"12px","text-outline-width":2,"text-outline-color":"#0074D9"}},{selector:"edge",style:{"line-color":"#AAAAAA",width:3}}]}),BT=({graph:t})=>{const[e,r]=Rn.useState(`a b
b c
`),[n,i]=Rn.useState([]),[s,l]=Rn.useState("Unknown"),[u,f]=Rn.useState("Unknown"),[c,v]=Rn.useState("Not computed"),[h,g]=Rn.useState(""),[m,y]=Rn.useState(""),S=()=>{try{const x={};n.forEach(O=>{O.group==="nodes"&&(x[O.data.id]=O.position)}),t.clear();const C=e.split(`
`).map(O=>O.trim());for(const O of C){if(!O)continue;const N=O.split(" ").map(_=>_.trim());N.length===2?t.addEdge(N[0],N[1]):N.length===1&&N[0]?t.addNode(N[0]):console.warn(`Invalid input: "${O}"`)}const T=t.getElements(),k=300,B=300,R=150;let P=2*Math.PI/T.nodes.length,L=0;T.nodes.forEach(O=>{if(x[O.data.id])O.position=x[O.data.id];else{const N=L*P;O.position={x:k+R*Math.cos(N),y:B+R*Math.sin(N)},L+=1}}),i(T.nodes.concat(T.edges));const A=t.isBipartite();l(A?"Graph is bipartite":"Graph is NOT bipartite");const z=t.isEulerian();f(`${z.type}: ${z.explanation}`)}catch(x){console.error("Error updating graph:",x)}},E=()=>{if(!h||!m){v("Please specify both start and end nodes.");return}const x=t.shortestPath(h,m);v(x?`Path: ${x.path.join(" -> ")}, Distance: ${x.distance}`:"No path found between the specified nodes.")};return Lt.jsxs("div",{className:"graph-editor-container",children:[Lt.jsxs("div",{className:"graph-editor-sidebar",children:[Lt.jsx("h2",{className:"graph-editor-title",children:"Graph Editor"}),Lt.jsx("textarea",{value:e,onChange:x=>r(x.target.value),className:"graph-editor-textarea",placeholder:"Enter graph notation, e.g., a b\\nb c\\n"}),Lt.jsx("button",{onClick:S,className:"graph-editor-button",children:"Update Graph"}),Lt.jsxs("p",{className:"graph-editor-status",children:["Bipartite: ",s]}),Lt.jsxs("p",{className:"graph-editor-status",children:["Eulerian: ",u]}),Lt.jsxs("div",{className:"shortest-path-section",children:[Lt.jsx("h3",{children:"Shortest Path"}),Lt.jsx("input",{type:"text",placeholder:"Start node",value:h,onChange:x=>g(x.target.value),className:"shortest-path-input"}),Lt.jsx("input",{type:"text",placeholder:"End node",value:m,onChange:x=>y(x.target.value),className:"shortest-path-input"}),Lt.jsx("button",{onClick:E,className:"graph-editor-button",children:"Find Shortest Path"}),Lt.jsx("p",{className:"graph-editor-status",children:c})]})]}),Lt.jsx("div",{className:"graph-editor-visualizer",children:Lt.jsx(RT,{elements:n})})]})};function AT(t){const e=t.getAdjacencyList(),r={};for(const n in e)if(!(n in r)){r[n]=0;const i=[n];for(;i.length>0;){const s=i.shift();for(const l of e[s])if(!(l in r))r[l]=1-r[s],i.push(l);else if(r[l]===r[s])return!1}}return!0}function LT(t){const e=t.getAdjacencyList();let r=0;const n=Object.keys(e).filter(u=>e[u].size===0),i=Object.keys(e).filter(u=>e[u].size>0);if(i.length===0)return{type:"None",explanation:"The graph has no edges and is not Eulerian."};const s=new Set,l=u=>{s.add(u);for(const f of e[u])s.has(f)||l(f)};if(l(i[0]),n.length>0||i.some(u=>!s.has(u)))return{type:"None",explanation:"The graph is disconnected, so it is not Eulerian."};for(const u in e)e[u].size%2!==0&&r++;return r===0?{type:"Circuit",explanation:"Graph is connected and all vertices have even degrees, graph has an Eulerian path."}:r===2?{type:"Path",explanation:"Graph is connected and exactly two vertices have odd degrees, graph has an Eulerian path."}:{type:"None",explanation:"More than two vertices have odd degrees. The graph is not Eulerian."}}function MT(t,e,r){const n=t.getAdjacencyList();if(!(e in n)||!(r in n))return null;const i=[{node:e,path:[e]}],s=new Set;for(;i.length>0;){const{node:l,path:u}=i.shift();if(l===r)return{path:u,distance:u.length-1};s.add(l);for(const f of n[l])s.has(f)||i.push({node:f,path:[...u,f]})}return null}class NT{constructor(){Wh(this,"adjacencyList");this.adjacencyList={}}addNode(e){e&&(this.adjacencyList[e]||(this.adjacencyList[e]=new Set))}addEdge(e,r){!e||!r||e!==r&&(this.addNode(e),this.addNode(r),this.adjacencyList[e].add(r),this.adjacencyList[r].add(e))}clear(){this.adjacencyList={}}getAdjacencyList(){return this.adjacencyList}isBipartite(){return AT(this)}isEulerian(){return LT(this)}shortestPath(e,r){return MT(this,e,r)}getElements(){const e=Object.keys(this.adjacencyList).map(n=>({data:{id:n}})),r=[];for(const[n,i]of Object.entries(this.adjacencyList))for(const s of i)n<s&&r.push({data:{source:n,target:s}});return{nodes:e,edges:r}}}const IT=()=>{const t=new NT;return Lt.jsxs("div",{children:[Lt.jsx("h1",{style:{textAlign:"center",margin:"20px 0"},children:"GraphWorks"}),Lt.jsx(BT,{graph:t})]})};f1.createRoot(document.getElementById("root")).render(Lt.jsx(Rn.StrictMode,{children:Lt.jsx(IT,{})}));
